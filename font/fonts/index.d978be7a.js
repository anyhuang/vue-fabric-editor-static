var Gh=Object.defineProperty;var jh=(e,t,o)=>t in e?Gh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var H=(e,t,o)=>(jh(e,typeof t!="symbol"?t+"":t,o),o),Qi=(e,t,o)=>{if(!t.has(e))throw TypeError("Cannot "+o)};var V=(e,t,o)=>(Qi(e,t,"read from private field"),o?o.call(e):t.get(e)),pe=(e,t,o)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,o)},ye=(e,t,o,r)=>(Qi(e,t,"write to private field"),r?r.call(e,o):t.set(e,o),o);var ft=(e,t,o)=>(Qi(e,t,"access private method"),o);import{i as hi,b as Qo,S as yl,a as it,g as mi,r as gi,o as Yh,c as jd,d as Yd,e as Kh,f as qh,h as Xh,k as Jh,M as _a,j as $r,l as Zh,m as Qh,t as er,n as Rs,p as em,q as tm,s as Kd,u as om,v as rm,w as nm,x as im,y as Ae,z as Jn,A as sm,B as je,C as am,D as lm,E as Ps,F as q,G as k,H as xa,I as W,J as Zn,K as qd,L as vi,N as De,O as J,P as se,Q as Y,R as Xd,T as be,U as Qe,V as Dt,W as et,X as $,Y as Jd,Z as ee,_ as Zd,$ as Qd,a0 as eu,a1 as tu,a2 as cm,a3 as ou,a4 as dm,a5 as um,a6 as _l,a7 as fm,a8 as pm,a9 as xl,aa as hm,ab as mm,ac as gm,ad as vm,ae as Cm}from"../chunk/light-64dcce40.js";import{_ as He,s as bm,g as Em,l as Z,M as Sm,D as gn,T as Lr,v as Ls,B as Tl,a as zr,E as It,b as ym,A as Al,c as _m,d as xm}from"../chunk/xcs-canvas-b2d8c2b7.js";import{c as Tm,a as Am,b as wm,d as Ko,F as kt,C as Ta,i as Im,e as ce,r as Q,f as qo,w as Ue,g as X,h as ru,o as Eo,j as _t,k as Ci,t as Co,l as y,T as Aa,m as Rm,n as Pm,p as Lm,q as ut,s as Ze,u as bi,v as Om,x as Xo,y as wa,z as Jo,A as wl,B as Dm,D as Os,E as Il,G as tr,H as No,I as Fn,J as Yt,K as jt,L as Xe,M as Rl,N as nu,O as km,P as iu,Q as Nm,R as Mm,S as Fm,U as Bm,V as Hm,W as $m}from"../chunk/xcs-vue-family-a84caca3.js";let es;const zm={mounted(e,{value:t}){const o=document.createElement("div");o.id="reference-el",e.append(o);let r=!1,n=!0;es=new IntersectionObserver(i=>{if(i[0].isIntersecting){if(n){n=!1;return}if(r)return;r=!0,requestIdleCallback(async()=>{console.log("scroll load ");try{await t.fn({scrollLoad:!0}),r=!1}catch{r=!1}},{timeout:300})}},{rootMargin:"0px 0px 300px 0px"}),es.observe(o)},unmounted(){es.disconnect()}},Um={scrollLoad:zm},Vm={install(e){for(const[t,o]of Object.entries(Um))e.directive(t,o)}},ts={Editor:"Editor",ExampleList:"ExampleList",ExampleDetail:"ExampleDetail"},Bn={Editor:"/",ExampleList:"/example/list",ExampleDetail:"/example/detail/"},Wm=[{path:Bn.Editor,name:ts.Editor,component:()=>He(()=>import("../chunk/editor-bb8963ed.js"),["../chunk/editor-bb8963ed.js","../chunk/xcs-vue-family-a84caca3.js","../chunk/xcs-canvas-b2d8c2b7.js","../chunk/utils-1e4f58a1.js","../chunk/light-64dcce40.js","../chunk/lib.es-0a44dc39.js","../chunk/spin-3011d666.js","../chunk/composables-0714a0f7.js","../chunk/index-a0f0249c.js","../chunk/orderprocesslist-915761c3.js","../chunk/index-92eae098.js"],import.meta.url)},{path:Bn.ExampleList,name:ts.ExampleList,component:()=>He(()=>import("../chunk/examplelist-8c8c3f6b.js"),["../chunk/examplelist-8c8c3f6b.js","../chunk/xcs-vue-family-a84caca3.js","../chunk/index-a0f0249c.js","../chunk/lib.es-0a44dc39.js","../chunk/light-64dcce40.js","../chunk/spin-3011d666.js","../chunk/xcs-canvas-b2d8c2b7.js","../chunk/utils-1e4f58a1.js","../chunk/layout-9afa26cd.js"],import.meta.url)},{path:Bn.ExampleDetail+":id",name:ts.ExampleDetail,component:()=>He(()=>import("../chunk/exampledetail-894dd540.js"),["../chunk/exampledetail-894dd540.js","../chunk/index-a0f0249c.js","../chunk/xcs-vue-family-a84caca3.js","../chunk/lib.es-0a44dc39.js","../chunk/light-64dcce40.js","../chunk/spin-3011d666.js","../chunk/utils-1e4f58a1.js","../chunk/layout-9afa26cd.js","../chunk/composables-0714a0f7.js","../chunk/xcs-canvas-b2d8c2b7.js"],import.meta.url),props:!0}],Gm=Tm({history:Am(),routes:Wm}),jm=(e,t)=>{const o=e[t];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((r,n)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})},Pl={prod:{url:"https://xcs-api.mblock.cc",common:"https://api.mblock.cc"},test:{url:"https://xcs-api-test.makeblock.com",common:"https://api-test.makeblock.com"}},Ia=()=>{let e=Pl.prod,t="localMaterials";return localStorage.getItem("testEnv")&&(e=Pl.test,t="localMaterials_testEnv"),{domain:e,LOCAL_MATERIALS:t}},Ym="/v1";function su(e,t){return function(){return e.apply(t,arguments)}}const{toString:au}=Object.prototype,{getPrototypeOf:Ra}=Object,Pa=(e=>t=>{const o=au.call(t);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),Nt=e=>(e=e.toLowerCase(),t=>Pa(t)===e),Ei=e=>t=>typeof t===e,{isArray:nn}=Array,Ds=Ei("undefined");function Km(e){return e!==null&&!Ds(e)&&e.constructor!==null&&!Ds(e.constructor)&&or(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lu=Nt("ArrayBuffer");function qm(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&lu(e.buffer),t}const Xm=Ei("string"),or=Ei("function"),cu=Ei("number"),du=e=>e!==null&&typeof e=="object",Jm=e=>e===!0||e===!1,Hn=e=>{if(Pa(e)!=="object")return!1;const t=Ra(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zm=Nt("Date"),Qm=Nt("File"),eg=Nt("Blob"),tg=Nt("FileList"),og=e=>du(e)&&or(e.pipe),rg=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||au.call(e)===t||or(e.toString)&&e.toString()===t)},ng=Nt("URLSearchParams"),ig=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Si(e,t,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),nn(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const i=o?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let a;for(r=0;r<s;r++)a=i[r],t.call(null,e[a],a,e)}}function ks(){const e={},t=(o,r)=>{Hn(e[r])&&Hn(o)?e[r]=ks(e[r],o):Hn(o)?e[r]=ks({},o):nn(o)?e[r]=o.slice():e[r]=o};for(let o=0,r=arguments.length;o<r;o++)arguments[o]&&Si(arguments[o],t);return e}const sg=(e,t,o,{allOwnKeys:r}={})=>(Si(t,(n,i)=>{o&&or(n)?e[i]=su(n,o):e[i]=n},{allOwnKeys:r}),e),ag=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),lg=(e,t,o,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),o&&Object.assign(e.prototype,o)},cg=(e,t,o,r)=>{let n,i,s;const a={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)s=n[i],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=o!==!1&&Ra(e)}while(e&&(!o||o(e,t))&&e!==Object.prototype);return t},dg=(e,t,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=t.length;const r=e.indexOf(t,o);return r!==-1&&r===o},ug=e=>{if(!e)return null;if(nn(e))return e;let t=e.length;if(!cu(t))return null;const o=new Array(t);for(;t-- >0;)o[t]=e[t];return o},fg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ra(Uint8Array)),pg=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},hg=(e,t)=>{let o;const r=[];for(;(o=e.exec(t))!==null;)r.push(o);return r},mg=Nt("HTMLFormElement"),gg=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(o,r,n){return r.toUpperCase()+n}),Ll=(({hasOwnProperty:e})=>(t,o)=>e.call(t,o))(Object.prototype),vg=Nt("RegExp"),uu=(e,t)=>{const o=Object.getOwnPropertyDescriptors(e),r={};Si(o,(n,i)=>{t(n,i,e)!==!1&&(r[i]=n)}),Object.defineProperties(e,r)},Cg=e=>{uu(e,(t,o)=>{const r=e[o];if(!!or(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not read-only method '"+o+"'")})}})},bg=(e,t)=>{const o={},r=n=>{n.forEach(i=>{o[i]=!0})};return nn(e)?r(e):r(String(e).split(t)),o},Eg=()=>{},Sg=(e,t)=>(e=+e,Number.isFinite(e)?e:t),A={isArray:nn,isArrayBuffer:lu,isBuffer:Km,isFormData:rg,isArrayBufferView:qm,isString:Xm,isNumber:cu,isBoolean:Jm,isObject:du,isPlainObject:Hn,isUndefined:Ds,isDate:Zm,isFile:Qm,isBlob:eg,isRegExp:vg,isFunction:or,isStream:og,isURLSearchParams:ng,isTypedArray:fg,isFileList:tg,forEach:Si,merge:ks,extend:sg,trim:ig,stripBOM:ag,inherits:lg,toFlatObject:cg,kindOf:Pa,kindOfTest:Nt,endsWith:dg,toArray:ug,forEachEntry:pg,matchAll:hg,isHTMLForm:mg,hasOwnProperty:Ll,hasOwnProp:Ll,reduceDescriptors:uu,freezeMethods:Cg,toObjectSet:bg,toCamelCase:gg,noop:Eg,toFiniteNumber:Sg};function le(e,t,o,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),o&&(this.config=o),r&&(this.request=r),n&&(this.response=n)}A.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const fu=le.prototype,pu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{pu[e]={value:e}});Object.defineProperties(le,pu);Object.defineProperty(fu,"isAxiosError",{value:!0});le.from=(e,t,o,r,n,i)=>{const s=Object.create(fu);return A.toFlatObject(e,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),le.call(s,e.message,t,o,r,n),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};var yg=typeof self=="object"?self.FormData:window.FormData;function Ns(e){return A.isPlainObject(e)||A.isArray(e)}function hu(e){return A.endsWith(e,"[]")?e.slice(0,-2):e}function Ol(e,t,o){return e?e.concat(t).map(function(n,i){return n=hu(n),!o&&i?"["+n+"]":n}).join(o?".":""):t}function _g(e){return A.isArray(e)&&!e.some(Ns)}const xg=A.toFlatObject(A,{},null,function(t){return/^is[A-Z]/.test(t)});function Tg(e){return e&&A.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function yi(e,t,o){if(!A.isObject(e))throw new TypeError("target must be an object");t=t||new(yg||FormData),o=A.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!A.isUndefined(v[m])});const r=o.metaTokens,n=o.visitor||d,i=o.dots,s=o.indexes,l=(o.Blob||typeof Blob<"u"&&Blob)&&Tg(t);if(!A.isFunction(n))throw new TypeError("visitor must be a function");function c(f){if(f===null)return"";if(A.isDate(f))return f.toISOString();if(!l&&A.isBlob(f))throw new le("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(f)||A.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function d(f,m,v){let C=f;if(f&&!v&&typeof f=="object"){if(A.endsWith(m,"{}"))m=r?m:m.slice(0,-2),f=JSON.stringify(f);else if(A.isArray(f)&&_g(f)||A.isFileList(f)||A.endsWith(m,"[]")&&(C=A.toArray(f)))return m=hu(m),C.forEach(function(R,_){!(A.isUndefined(R)||R===null)&&t.append(s===!0?Ol([m],_,i):s===null?m:m+"[]",c(R))}),!1}return Ns(f)?!0:(t.append(Ol(v,m,i),c(f)),!1)}const u=[],p=Object.assign(xg,{defaultVisitor:d,convertValue:c,isVisitable:Ns});function h(f,m){if(!A.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+m.join("."));u.push(f),A.forEach(f,function(C,E){(!(A.isUndefined(C)||C===null)&&n.call(t,C,A.isString(E)?E.trim():E,m,p))===!0&&h(C,m?m.concat(E):[E])}),u.pop()}}if(!A.isObject(e))throw new TypeError("data must be an object");return h(e),t}function Dl(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function La(e,t){this._pairs=[],e&&yi(e,this,t)}const mu=La.prototype;mu.append=function(t,o){this._pairs.push([t,o])};mu.toString=function(t){const o=t?function(r){return t.call(this,r,Dl)}:Dl;return this._pairs.map(function(n){return o(n[0])+"="+o(n[1])},"").join("&")};function Ag(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gu(e,t,o){if(!t)return e;const r=o&&o.encode||Ag,n=o&&o.serialize;let i;if(n?i=n(t,o):i=A.isURLSearchParams(t)?t.toString():new La(t,o).toString(r),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class kl{constructor(){this.handlers=[]}use(t,o,r){return this.handlers.push({fulfilled:t,rejected:o,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){A.forEach(this.handlers,function(r){r!==null&&t(r)})}}const vu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wg=typeof URLSearchParams<"u"?URLSearchParams:La,Ig=FormData,Rg=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Lt={isBrowser:!0,classes:{URLSearchParams:wg,FormData:Ig,Blob},isStandardBrowserEnv:Rg,protocols:["http","https","file","blob","url","data"]};function Pg(e,t){return yi(e,new Lt.classes.URLSearchParams,Object.assign({visitor:function(o,r,n,i){return Lt.isNode&&A.isBuffer(o)?(this.append(r,o.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Lg(e){return A.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Og(e){const t={},o=Object.keys(e);let r;const n=o.length;let i;for(r=0;r<n;r++)i=o[r],t[i]=e[i];return t}function Cu(e){function t(o,r,n,i){let s=o[i++];const a=Number.isFinite(+s),l=i>=o.length;return s=!s&&A.isArray(n)?n.length:s,l?(A.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!a):((!n[s]||!A.isObject(n[s]))&&(n[s]=[]),t(o,r,n[s],i)&&A.isArray(n[s])&&(n[s]=Og(n[s])),!a)}if(A.isFormData(e)&&A.isFunction(e.entries)){const o={};return A.forEachEntry(e,(r,n)=>{t(Lg(r),n,o,0)}),o}return null}function Dg(e,t,o){const r=o.config.validateStatus;!o.status||!r||r(o.status)?e(o):t(new le("Request failed with status code "+o.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}const kg=Lt.isStandardBrowserEnv?function(){return{write:function(o,r,n,i,s,a){const l=[];l.push(o+"="+encodeURIComponent(r)),A.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),A.isString(i)&&l.push("path="+i),A.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(o){const r=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ng(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Mg(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function bu(e,t){return e&&!Ng(t)?Mg(e,t):t}const Fg=Lt.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");let r;function n(i){let s=i;return t&&(o.setAttribute("href",s),s=o.href),o.setAttribute("href",s),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return r=n(window.location.href),function(s){const a=A.isString(s)?n(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function sn(e,t,o){le.call(this,e==null?"canceled":e,le.ERR_CANCELED,t,o),this.name="CanceledError"}A.inherits(sn,le,{__CANCEL__:!0});function Bg(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}const Hg=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$g=e=>{const t={};let o,r,n;return e&&e.split(`
`).forEach(function(s){n=s.indexOf(":"),o=s.substring(0,n).trim().toLowerCase(),r=s.substring(n+1).trim(),!(!o||t[o]&&Hg[o])&&(o==="set-cookie"?t[o]?t[o].push(r):t[o]=[r]:t[o]=t[o]?t[o]+", "+r:r)}),t},Nl=Symbol("internals"),Eu=Symbol("defaults");function yr(e){return e&&String(e).trim().toLowerCase()}function $n(e){return e===!1||e==null?e:A.isArray(e)?e.map($n):String(e)}function zg(e){const t=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=o.exec(e);)t[r[1]]=r[2];return t}function Ml(e,t,o,r){if(A.isFunction(r))return r.call(this,t,o);if(!!A.isString(t)){if(A.isString(r))return t.indexOf(r)!==-1;if(A.isRegExp(r))return r.test(t)}}function Ug(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,o,r)=>o.toUpperCase()+r)}function Vg(e,t){const o=A.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+o,{value:function(n,i,s){return this[r].call(this,t,n,i,s)},configurable:!0})})}function mr(e,t){t=t.toLowerCase();const o=Object.keys(e);let r=o.length,n;for(;r-- >0;)if(n=o[r],t===n.toLowerCase())return n;return null}function nt(e,t){e&&this.set(e),this[Eu]=t||null}Object.assign(nt.prototype,{set:function(e,t,o){const r=this;function n(i,s,a){const l=yr(s);if(!l)throw new Error("header name must be a non-empty string");const c=mr(r,l);c&&a!==!0&&(r[c]===!1||a===!1)||(r[c||s]=$n(i))}return A.isPlainObject(e)?A.forEach(e,(i,s)=>{n(i,s,t)}):n(t,e,o),this},get:function(e,t){if(e=yr(e),!e)return;const o=mr(this,e);if(o){const r=this[o];if(!t)return r;if(t===!0)return zg(r);if(A.isFunction(t))return t.call(this,r,o);if(A.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}},has:function(e,t){if(e=yr(e),e){const o=mr(this,e);return!!(o&&(!t||Ml(this,this[o],o,t)))}return!1},delete:function(e,t){const o=this;let r=!1;function n(i){if(i=yr(i),i){const s=mr(o,i);s&&(!t||Ml(o,o[s],s,t))&&(delete o[s],r=!0)}}return A.isArray(e)?e.forEach(n):n(e),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){const t=this,o={};return A.forEach(this,(r,n)=>{const i=mr(o,n);if(i){t[i]=$n(r),delete t[n];return}const s=e?Ug(n):String(n).trim();s!==n&&delete t[n],t[s]=$n(r),o[s]=!0}),this},toJSON:function(e){const t=Object.create(null);return A.forEach(Object.assign({},this[Eu]||null,this),(o,r)=>{o==null||o===!1||(t[r]=e&&A.isArray(o)?o.join(", "):o)}),t}});Object.assign(nt,{from:function(e){return A.isString(e)?new this($g(e)):e instanceof this?e:new this(e)},accessor:function(e){const o=(this[Nl]=this[Nl]={accessors:{}}).accessors,r=this.prototype;function n(i){const s=yr(i);o[s]||(Vg(r,i),o[s]=!0)}return A.isArray(e)?e.forEach(n):n(e),this}});nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);A.freezeMethods(nt.prototype);A.freezeMethods(nt);function Wg(e,t){e=e||10;const o=new Array(e),r=new Array(e);let n=0,i=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=r[i];s||(s=c),o[n]=l,r[n]=c;let u=i,p=0;for(;u!==n;)p+=o[u++],u=u%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),c-s<t)return;const h=d&&c-d;return h?Math.round(p*1e3/h):void 0}}function Fl(e,t){let o=0;const r=Wg(50,250);return n=>{const i=n.loaded,s=n.lengthComputable?n.total:void 0,a=i-o,l=r(a),c=i<=s;o=i;const d={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-i)/l:void 0};d[t?"download":"upload"]=!0,e(d)}}function Bl(e){return new Promise(function(o,r){let n=e.data;const i=nt.from(e.headers).normalize(),s=e.responseType;let a;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}A.isFormData(n)&&Lt.isStandardBrowserEnv&&i.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const h=e.auth.username||"",f=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(h+":"+f))}const d=bu(e.baseURL,e.url);c.open(e.method.toUpperCase(),gu(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function u(){if(!c)return;const h=nt.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),m={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:h,config:e,request:c};Dg(function(C){o(C),l()},function(C){r(C),l()},m),c=null}if("onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(u)},c.onabort=function(){!c||(r(new le("Request aborted",le.ECONNABORTED,e,c)),c=null)},c.onerror=function(){r(new le("Network Error",le.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let f=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const m=e.transitional||vu;e.timeoutErrorMessage&&(f=e.timeoutErrorMessage),r(new le(f,m.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,e,c)),c=null},Lt.isStandardBrowserEnv){const h=(e.withCredentials||Fg(d))&&e.xsrfCookieName&&kg.read(e.xsrfCookieName);h&&i.set(e.xsrfHeaderName,h)}n===void 0&&i.setContentType(null),"setRequestHeader"in c&&A.forEach(i.toJSON(),function(f,m){c.setRequestHeader(m,f)}),A.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&s!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",Fl(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Fl(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=h=>{!c||(r(!h||h.type?new sn(null,e,c):h),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const p=Bg(d);if(p&&Lt.protocols.indexOf(p)===-1){r(new le("Unsupported protocol "+p+":",le.ERR_BAD_REQUEST,e));return}c.send(n||null)})}const Hl={http:Bl,xhr:Bl},$l={getAdapter:e=>{if(A.isString(e)){const t=Hl[e];if(!e)throw Error(A.hasOwnProp(e)?`Adapter '${e}' is not available in the build`:`Can not resolve adapter '${e}'`);return t}if(!A.isFunction(e))throw new TypeError("adapter is not a function");return e},adapters:Hl},Gg={"Content-Type":"application/x-www-form-urlencoded"};function jg(){let e;return typeof XMLHttpRequest<"u"?e=$l.getAdapter("xhr"):typeof process<"u"&&A.kindOf(process)==="process"&&(e=$l.getAdapter("http")),e}function Yg(e,t,o){if(A.isString(e))try{return(t||JSON.parse)(e),A.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(o||JSON.stringify)(e)}const rr={transitional:vu,adapter:jg(),transformRequest:[function(t,o){const r=o.getContentType()||"",n=r.indexOf("application/json")>-1,i=A.isObject(t);if(i&&A.isHTMLForm(t)&&(t=new FormData(t)),A.isFormData(t))return n&&n?JSON.stringify(Cu(t)):t;if(A.isArrayBuffer(t)||A.isBuffer(t)||A.isStream(t)||A.isFile(t)||A.isBlob(t))return t;if(A.isArrayBufferView(t))return t.buffer;if(A.isURLSearchParams(t))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Pg(t,this.formSerializer).toString();if((a=A.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return yi(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||n?(o.setContentType("application/json",!1),Yg(t)):t}],transformResponse:[function(t){const o=this.transitional||rr.transitional,r=o&&o.forcedJSONParsing,n=this.responseType==="json";if(t&&A.isString(t)&&(r&&!this.responseType||n)){const s=!(o&&o.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?le.from(a,le.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lt.classes.FormData,Blob:Lt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};A.forEach(["delete","get","head"],function(t){rr.headers[t]={}});A.forEach(["post","put","patch"],function(t){rr.headers[t]=A.merge(Gg)});function os(e,t){const o=this||rr,r=t||o,n=nt.from(r.headers);let i=r.data;return A.forEach(e,function(a){i=a.call(o,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function Su(e){return!!(e&&e.__CANCEL__)}function rs(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new sn}function zl(e){return rs(e),e.headers=nt.from(e.headers),e.data=os.call(e,e.transformRequest),(e.adapter||rr.adapter)(e).then(function(r){return rs(e),r.data=os.call(e,e.transformResponse,r),r.headers=nt.from(r.headers),r},function(r){return Su(r)||(rs(e),r&&r.response&&(r.response.data=os.call(e,e.transformResponse,r.response),r.response.headers=nt.from(r.response.headers))),Promise.reject(r)})}function Ur(e,t){t=t||{};const o={};function r(c,d){return A.isPlainObject(c)&&A.isPlainObject(d)?A.merge(c,d):A.isPlainObject(d)?A.merge({},d):A.isArray(d)?d.slice():d}function n(c){if(A.isUndefined(t[c])){if(!A.isUndefined(e[c]))return r(void 0,e[c])}else return r(e[c],t[c])}function i(c){if(!A.isUndefined(t[c]))return r(void 0,t[c])}function s(c){if(A.isUndefined(t[c])){if(!A.isUndefined(e[c]))return r(void 0,e[c])}else return r(void 0,t[c])}function a(c){if(c in t)return r(e[c],t[c]);if(c in e)return r(void 0,e[c])}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a};return A.forEach(Object.keys(e).concat(Object.keys(t)),function(d){const u=l[d]||n,p=u(d);A.isUndefined(p)&&u!==a||(o[d]=p)}),o}const yu="1.1.3",Oa={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Oa[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Ul={};Oa.transitional=function(t,o,r){function n(i,s){return"[Axios v"+yu+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(t===!1)throw new le(n(s," has been removed"+(o?" in "+o:"")),le.ERR_DEPRECATED);return o&&!Ul[s]&&(Ul[s]=!0,console.warn(n(s," has been deprecated since v"+o+" and will be removed in the near future"))),t?t(i,s,a):!0}};function Kg(e,t,o){if(typeof e!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const i=r[n],s=t[i];if(s){const a=e[i],l=a===void 0||s(a,i,e);if(l!==!0)throw new le("option "+i+" must be "+l,le.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new le("Unknown option "+i,le.ERR_BAD_OPTION)}}const Ms={assertOptions:Kg,validators:Oa},$t=Ms.validators;class fo{constructor(t){this.defaults=t,this.interceptors={request:new kl,response:new kl}}request(t,o){typeof t=="string"?(o=o||{},o.url=t):o=t||{},o=Ur(this.defaults,o);const{transitional:r,paramsSerializer:n}=o;r!==void 0&&Ms.assertOptions(r,{silentJSONParsing:$t.transitional($t.boolean),forcedJSONParsing:$t.transitional($t.boolean),clarifyTimeoutError:$t.transitional($t.boolean)},!1),n!==void 0&&Ms.assertOptions(n,{encode:$t.function,serialize:$t.function},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();const i=o.headers&&A.merge(o.headers.common,o.headers[o.method]);i&&A.forEach(["delete","get","head","post","put","patch","common"],function(f){delete o.headers[f]}),o.headers=new nt(o.headers,i);const s=[];let a=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(o)===!1||(a=a&&f.synchronous,s.unshift(f.fulfilled,f.rejected))});const l=[];this.interceptors.response.forEach(function(f){l.push(f.fulfilled,f.rejected)});let c,d=0,u;if(!a){const h=[zl.bind(this),void 0];for(h.unshift.apply(h,s),h.push.apply(h,l),u=h.length,c=Promise.resolve(o);d<u;)c=c.then(h[d++],h[d++]);return c}u=s.length;let p=o;for(d=0;d<u;){const h=s[d++],f=s[d++];try{p=h(p)}catch(m){f.call(this,m);break}}try{c=zl.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(t){t=Ur(this.defaults,t);const o=bu(t.baseURL,t.url);return gu(o,t.params,t.paramsSerializer)}}A.forEach(["delete","get","head","options"],function(t){fo.prototype[t]=function(o,r){return this.request(Ur(r||{},{method:t,url:o,data:(r||{}).data}))}});A.forEach(["post","put","patch"],function(t){function o(r){return function(i,s,a){return this.request(Ur(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}fo.prototype[t]=o(),fo.prototype[t+"Form"]=o(!0)});class Da{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(i){o=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(n);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i,s,a){r.reason||(r.reason=new sn(i,s,a),o(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const o=this._listeners.indexOf(t);o!==-1&&this._listeners.splice(o,1)}static source(){let t;return{token:new Da(function(n){t=n}),cancel:t}}}function qg(e){return function(o){return e.apply(null,o)}}function Xg(e){return A.isObject(e)&&e.isAxiosError===!0}function _u(e){const t=new fo(e),o=su(fo.prototype.request,t);return A.extend(o,fo.prototype,t,{allOwnKeys:!0}),A.extend(o,t,null,{allOwnKeys:!0}),o.create=function(n){return _u(Ur(e,n))},o}const Oe=_u(rr);Oe.Axios=fo;Oe.CanceledError=sn;Oe.CancelToken=Da;Oe.isCancel=Su;Oe.VERSION=yu;Oe.toFormData=yi;Oe.AxiosError=le;Oe.Cancel=Oe.CanceledError;Oe.all=function(t){return Promise.all(t)};Oe.spread=qg;Oe.isAxiosError=Xg;Oe.formToJSON=e=>Cu(A.isHTMLForm(e)?new FormData(e):e);const ka=()=>{const{domain:e}=Ia();return e.url+Ym};function Na(e){return new Promise((t,o)=>{Oe({method:"get",timeout:5e3,...e}).then(r=>{r.data.code===0?t(r.data.data):o(r.data)}).catch(r=>o(r))})}const kL=async e=>await Na({baseURL:ka(),url:"/web/materials",params:e}),Jg=async e=>await Na({method:"post",baseURL:ka(),url:"/web/materials/increment",data:{data:e}}),Zg=async()=>await Na({baseURL:ka(),url:"/public/data/type/material_category/items"});var Qg="[object Symbol]";function Ma(e){return typeof e=="symbol"||hi(e)&&Qo(e)==Qg}function xu(e,t){for(var o=-1,r=e==null?0:e.length,n=Array(r);++o<r;)n[o]=t(e[o],o,e);return n}var ev=1/0,Vl=yl?yl.prototype:void 0,Wl=Vl?Vl.toString:void 0;function _i(e){if(typeof e=="string")return e;if(it(e))return xu(e,_i)+"";if(Ma(e))return Wl?Wl.call(e):"";var t=e+"";return t=="0"&&1/e==-ev?"-0":t}var tv=/\s/;function Tu(e){for(var t=e.length;t--&&tv.test(e.charAt(t)););return t}var ov=/^\s+/;function rv(e){return e&&e.slice(0,Tu(e)+1).replace(ov,"")}var nv=mi(gi,"WeakMap");const Fs=nv;function iv(){}function sv(e,t,o,r){for(var n=e.length,i=o+(r?1:-1);r?i--:++i<n;)if(t(e[i],i,e))return i;return-1}function av(e){return e!==e}function lv(e,t,o){for(var r=o-1,n=e.length;++r<n;)if(e[r]===t)return r;return-1}function Fa(e,t,o){return t===t?lv(e,t,o):sv(e,av,o)}function cv(e,t){var o=e==null?0:e.length;return!!o&&Fa(e,t,0)>-1}var dv=Yh(Object.keys,Object);const uv=dv;var fv=Object.prototype,pv=fv.hasOwnProperty;function Au(e){if(!jd(e))return uv(e);var t=[];for(var o in Object(e))pv.call(e,o)&&o!="constructor"&&t.push(o);return t}function hv(e){return Yd(e)?Kh(e):Au(e)}var mv=qh(function(e,t,o,r){Xh(t,Jh(t),e,r)});const Gl=mv;var gv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vv=/^\w*$/;function Cv(e,t){if(it(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||Ma(e)?!0:vv.test(e)||!gv.test(e)||t!=null&&e in Object(t)}var bv="Expected a function";function Ba(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(bv);var o=function(){var r=arguments,n=t?t.apply(this,r):r[0],i=o.cache;if(i.has(n))return i.get(n);var s=e.apply(this,r);return o.cache=i.set(n,s)||i,s};return o.cache=new(Ba.Cache||_a),o}Ba.Cache=_a;var Ev=500;function Sv(e){var t=Ba(e,function(r){return o.size===Ev&&o.clear(),r}),o=t.cache;return t}var yv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_v=/\\(\\)?/g,xv=Sv(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yv,function(o,r,n,i){t.push(n?i.replace(_v,"$1"):r||o)}),t});const Tv=xv;function nr(e){return e==null?"":_i(e)}function wu(e,t){return it(e)?e:Cv(e,t)?[e]:Tv(nr(e))}var Av=1/0;function Iu(e){if(typeof e=="string"||Ma(e))return e;var t=e+"";return t=="0"&&1/e==-Av?"-0":t}function wv(e,t){t=wu(t,e);for(var o=0,r=t.length;e!=null&&o<r;)e=e[Iu(t[o++])];return o&&o==r?e:void 0}function _r(e,t,o){var r=e==null?void 0:wv(e,t);return r===void 0?o:r}var Iv="[object DOMException]",Rv="[object Error]";function Ru(e){if(!hi(e))return!1;var t=Qo(e);return t==Rv||t==Iv||typeof e.message=="string"&&typeof e.name=="string"&&!$r(e)}var Pv=Zh(function(e,t){try{return Qh(e,void 0,t)}catch(o){return Ru(o)?o:new Error(o)}});const Lv=Pv;function Ov(e,t,o){var r=-1,n=e.length;t<0&&(t=-t>n?0:n+t),o=o>n?n:o,o<0&&(o+=n),n=t>o?0:o-t>>>0,t>>>=0;for(var i=Array(n);++r<n;)i[r]=e[r+t];return i}function Ha(e,t,o){var r=e.length;return o=o===void 0?r:o,!t&&o>=r?e:Ov(e,t,o)}var Dv="\\ud800-\\udfff",kv="\\u0300-\\u036f",Nv="\\ufe20-\\ufe2f",Mv="\\u20d0-\\u20ff",Fv=kv+Nv+Mv,Bv="\\ufe0e\\ufe0f",Hv="\\u200d",$v=RegExp("["+Hv+Dv+Fv+Bv+"]");function Pu(e){return $v.test(e)}function zv(e){return e.split("")}var Lu="\\ud800-\\udfff",Uv="\\u0300-\\u036f",Vv="\\ufe20-\\ufe2f",Wv="\\u20d0-\\u20ff",Gv=Uv+Vv+Wv,jv="\\ufe0e\\ufe0f",Yv="["+Lu+"]",Bs="["+Gv+"]",Hs="\\ud83c[\\udffb-\\udfff]",Kv="(?:"+Bs+"|"+Hs+")",Ou="[^"+Lu+"]",Du="(?:\\ud83c[\\udde6-\\uddff]){2}",ku="[\\ud800-\\udbff][\\udc00-\\udfff]",qv="\\u200d",Nu=Kv+"?",Mu="["+jv+"]?",Xv="(?:"+qv+"(?:"+[Ou,Du,ku].join("|")+")"+Mu+Nu+")*",Jv=Mu+Nu+Xv,Zv="(?:"+[Ou+Bs+"?",Bs,Du,ku,Yv].join("|")+")",Qv=RegExp(Hs+"(?="+Hs+")|"+Zv+Jv,"g");function eC(e){return e.match(Qv)||[]}function Vr(e){return Pu(e)?eC(e):zv(e)}function tC(e){return function(t){t=nr(t);var o=Pu(t)?Vr(t):void 0,r=o?o[0]:t.charAt(0),n=o?Ha(o,1).join(""):t.slice(1);return r[e]()+n}}var oC=tC("toUpperCase");const rC=oC;function nC(e){return function(t){return e==null?void 0:e[t]}}var iC=mi(gi,"DataView");const $s=iC;var sC=mi(gi,"Promise");const zs=sC;var aC=mi(gi,"Set");const Bo=aC;var jl="[object Map]",lC="[object Object]",Yl="[object Promise]",Kl="[object Set]",ql="[object WeakMap]",Xl="[object DataView]",cC=er($s),dC=er(Rs),uC=er(zs),fC=er(Bo),pC=er(Fs),Qt=Qo;($s&&Qt(new $s(new ArrayBuffer(1)))!=Xl||Rs&&Qt(new Rs)!=jl||zs&&Qt(zs.resolve())!=Yl||Bo&&Qt(new Bo)!=Kl||Fs&&Qt(new Fs)!=ql)&&(Qt=function(e){var t=Qo(e),o=t==lC?e.constructor:void 0,r=o?er(o):"";if(r)switch(r){case cC:return Xl;case dC:return jl;case uC:return Yl;case fC:return Kl;case pC:return ql}return t});const hC=Qt;var mC="__lodash_hash_undefined__";function gC(e){return this.__data__.set(e,mC),this}function vC(e){return this.__data__.has(e)}function Qn(e){var t=-1,o=e==null?0:e.length;for(this.__data__=new _a;++t<o;)this.add(e[t])}Qn.prototype.add=Qn.prototype.push=gC;Qn.prototype.has=vC;function CC(e,t){return e.has(t)}function Fu(e){var t=-1,o=Array(e.size);return e.forEach(function(r){o[++t]=r}),o}function bC(e,t,o){t=wu(t,e);for(var r=-1,n=t.length,i=!1;++r<n;){var s=Iu(t[r]);if(!(i=e!=null&&o(e,s)))break;e=e[s]}return i||++r!=n?i:(n=e==null?0:e.length,!!n&&em(n)&&tm(s,n)&&(it(e)||Kd(e)))}function EC(e,t,o){for(var r=-1,n=e==null?0:e.length;++r<n;)if(o(t,e[r]))return!0;return!1}var SC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yC=nC(SC);const _C=yC;var Bu=/[&<>"']/g,xC=RegExp(Bu.source);function TC(e){return e=nr(e),e&&xC.test(e)?e.replace(Bu,_C):e}var AC=Object.prototype,wC=AC.hasOwnProperty;function IC(e,t){return e!=null&&wC.call(e,t)}function Jl(e,t){return e!=null&&bC(e,t,IC)}var RC="[object String]";function st(e){return typeof e=="string"||!it(e)&&hi(e)&&Qo(e)==RC}function PC(e,t){return xu(t,function(o){return e[o]})}var LC="[object Map]",OC="[object Set]",DC=Object.prototype,kC=DC.hasOwnProperty;function ir(e){if(e==null)return!0;if(Yd(e)&&(it(e)||typeof e=="string"||typeof e.splice=="function"||om(e)||rm(e)||Kd(e)))return!e.length;var t=hC(e);if(t==LC||t==OC)return!e.size;if(jd(e))return!Au(e).length;for(var o in e)if(kC.call(e,o))return!1;return!0}var NC="[object Number]";function Zl(e){return typeof e=="number"||hi(e)&&Qo(e)==NC}function $a(e){return e===null}function Hu(e){return e===void 0}var $u=Object.prototype,MC=$u.hasOwnProperty;function Ql(e,t,o,r){return e===void 0||nm(e,$u[o])&&!MC.call(r,o)?t:e}var FC={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function BC(e){return"\\"+FC[e]}var HC=/<%=([\s\S]+?)%>/g;const zu=HC;var $C=/<%-([\s\S]+?)%>/g;const zC=$C;var UC=/<%([\s\S]+?)%>/g;const VC=UC;var WC={escape:zC,evaluate:VC,interpolate:zu,variable:"",imports:{_:{escape:TC}}};const ec=WC;var GC="Invalid `variable` option passed into `_.template`",jC=/\b__p \+= '';/g,YC=/\b(__p \+=) '' \+/g,KC=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qC=/[()=,{}\[\]\/\s]/,XC=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vn=/($^)/,JC=/['\n\r\u2028\u2029\\]/g,ZC=Object.prototype,tc=ZC.hasOwnProperty;function QC(e,t,o){var r=ec.imports._.templateSettings||ec;o&&im(e,t,o)&&(t=void 0),e=nr(e),t=Gl({},t,r,Ql);var n=Gl({},t.imports,r.imports,Ql),i=hv(n),s=PC(n,i),a,l,c=0,d=t.interpolate||vn,u="__p += '",p=RegExp((t.escape||vn).source+"|"+d.source+"|"+(d===zu?XC:vn).source+"|"+(t.evaluate||vn).source+"|$","g"),h=tc.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(p,function(v,C,E,R,_,T){return E||(E=R),u+=e.slice(c,T).replace(JC,BC),C&&(a=!0,u+=`' +
__e(`+C+`) +
'`),_&&(l=!0,u+=`';
`+_+`;
__p += '`),E&&(u+=`' +
((__t = (`+E+`)) == null ? '' : __t) +
'`),c=T+v.length,v}),u+=`';
`;var f=tc.call(t,"variable")&&t.variable;if(!f)u=`with (obj) {
`+u+`
}
`;else if(qC.test(f))throw new Error(GC);u=(l?u.replace(jC,""):u).replace(YC,"$1").replace(KC,"$1;"),u="function("+(f||"obj")+`) {
`+(f?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+u+`return __p
}`;var m=Lv(function(){return Function(i,h+"return "+u).apply(void 0,s)});if(m.source=u,Ru(m))throw m;return m}function Uu(e,t){for(var o=e.length;o--&&Fa(t,e[o],0)>-1;);return o}function eb(e,t){for(var o=-1,r=e.length;++o<r&&Fa(t,e[o],0)>-1;);return o}function tb(e,t,o){if(e=nr(e),e&&(o||t===void 0))return rv(e);if(!e||!(t=_i(t)))return e;var r=Vr(e),n=Vr(t),i=eb(r,n),s=Uu(r,n)+1;return Ha(r,i,s).join("")}function ob(e,t,o){if(e=nr(e),e&&(o||t===void 0))return e.slice(0,Tu(e)+1);if(!e||!(t=_i(t)))return e;var r=Vr(e),n=Uu(r,Vr(t))+1;return Ha(r,0,n).join("")}var rb=1/0,nb=Bo&&1/Fu(new Bo([,-0]))[1]==rb?function(e){return new Bo(e)}:iv;const ib=nb;var sb=200;function ab(e,t,o){var r=-1,n=cv,i=e.length,s=!0,a=[],l=a;if(o)s=!1,n=EC;else if(i>=sb){var c=t?null:ib(e);if(c)return Fu(c);s=!1,n=CC,l=new Qn}else l=t?[]:a;e:for(;++r<i;){var d=e[r],u=t?t(d):d;if(d=o||d!==0?d:0,s&&u===u){for(var p=l.length;p--;)if(l[p]===u)continue e;t&&l.push(u),a.push(d)}else n(l,u,o)||(l!==a&&l.push(u),a.push(d))}return a}function lb(e){return e&&e.length?ab(e):[]}var Vu=(e=>(e.CONNECTED="CONNECTED",e.CLOSED="CLOSED",e.ERROR="ERROR",e.RECEIVE="RECEIVE",e))(Vu||{}),Wu=(e=>(e[e.READY=0]="READY",e[e.UPLOADING=1]="UPLOADING",e[e.WORKING=2]="WORKING",e[e.PAUSE=3]="PAUSE",e[e.ABORT=4]="ABORT",e[e.CANCEL=5]="CANCEL",e[e.DONE=6]="DONE",e))(Wu||{}),cb=(e=>(e[e.CLOSE_UP=0]="CLOSE_UP",e[e.LONG_RANGE=1]="LONG_RANGE",e))(cb||{}),db=(e=>(e.PREVIEW="PREVIEW",e.WORKING="WORKING",e.UPLOADING="UPLOADING",e.SECURITY="SECURITY",e))(db||{}),Pe=(e=>(e.NOTE="note",e.HEAD="head",e.TAIL="tail",e.VECTOR_HEAD="vectorHead",e.VECTOR_TAIL="vectorTail",e.BITMAP_HEAD="bitmapHead",e.BITMAP_TAIL="bitmapTail",e))(Pe||{});const ko={VECTOR_CUTTING:10036991,VECTOR_ENGRAVING:16421416,FILL_VECTOR_ENGRAVING:16421416,BITMAP_ENGRAVING:16421416,KNIFE_CUTTING:2597107};var xi=(e=>(e.VECTOR_CUTTING="VECTOR_CUTTING",e.VECTOR_ENGRAVING="VECTOR_ENGRAVING",e.FILL_VECTOR_ENGRAVING="FILL_VECTOR_ENGRAVING",e.BITMAP_ENGRAVING="BITMAP_ENGRAVING",e.KNIFE_CUTTING="KNIFE_CUTTING",e))(xi||{}),za=(e=>(e.LASER_PLANE="LASER_PLANE",e.LASER_CYLINDER="LASER_CYLINDER",e.PASS_THROUGH="PASS_THROUGH",e.KNIFE_CUT="KNIFE_CUT",e.PRINTER_KNIFE_CUT="PRINTER_KNIFE_CUT",e.SUPER_LASER_PLANE="SUPER_LASER_PLANE",e.LASER_CONVEYOR_FEEDER="LASER_CONVEYOR_FEEDER",e))(za||{}),Zo=(e=>(e.BITMAP="BITMAP",e.VECTOR="VECTOR",e))(Zo||{}),Gu=(e=>(e.OFFICIAL="official",e.CUSTOMIZE="customize",e))(Gu||{}),ei=(e=>(e[e.text=0]="text",e[e.textWithArgs=1]="textWithArgs",e[e.textWidthEvent=2]="textWidthEvent",e))(ei||{});const NL={catch_data_empty:"device.process.catch_data_empty",no_elements:"device.process.no_elements",no_vector_elements:"device.process.no_vector_elements",element_out_zoom:"device.process.element_out_zoom",device_is_working:"device.process.device_is_working",request_status_fail:"device.process.request_status_fail"};var ub=(e=>(e.ROLLER="roller",e.CATCH="catch",e))(ub||{}),xr=(e=>(e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom",e))(xr||{}),ju=(e=>(e.P_IDLE="P_IDLE",e.P_WORK="P_WORK",e.UPGRADE="UPGRADE",e.P_SLEEP="P_SLEEP",e.P_ERROR="P_ERROR",e.P_WIFI_CONFIG="P_WIFI_CONFIG",e.P_TESTING="P_TESTING",e.P_MEASURE="P_MEASURE",e.P_WORKING=" P_WORKING",e.P_PAUSE="P_PAUSE",e.P_WORK_DONE="P_WORK_DONE",e))(ju||{}),Re=(e=>(e.MARK_POSITION="MARK_POSITION",e.MARK_POSITION_DONE="MARK_POSITION_DONE",e.MARK_POSITION_CANCEL="MARK_POSITION_CANCEL",e.UPDATE_PROCESSING_AREA="UPDATE_PROCESSING_AREA",e.UPDATE_DEVICE_INFO="UPDATE_DEVICE_INFO",e.DEVICE_STATE_CHANGE="DEVICE_STATE_CHANGE",e.UPDATE_CANVAS_BACK_DROP="UPDATE_CANVAS_BACK_DROP",e.CLEAN_CANVAS_BACK_DROP="CLEAN_CANVAS_BACK_DROP",e.UPDATE_CANVAS_LOCAL_BACK_DROP="UPDATE_CANVAS_LOCAL_BACK_DROP",e.MOVE_CYLINDER="MOVE_CYLINDER",e))(Re||{}),zn=(e=>(e.CAPTURE_IMAGE_PROGRESS="CAPTURE_IMAGE_PROGRESS",e.CAPTURING="CAPTURING",e.CAPTURE_STATUS="CAPTURE_STATUS",e))(zn||{}),Us=(e=>(e.MEASURE_SUCCESS="MEASURE_SUCCESS",e.MEASURE_FAIL="MEASURE_FAIL",e))(Us||{}),eo=(e=>(e.UPDATE_PROCESSING_AREA="UPDATE_PROCESSING_AREA",e.UPDATE_CANVAS_INIT_STATUS="UPDATE_CANVAS_INIT_STATUS",e.UPDATE_DISPLAYS_STATUS="UPDATE_DISPLAYS_STATUS",e.UPDATE_CYLINDER_STATUS="UPDATE_CYLINDER_STATUS",e.CLEAR_ALL_CYLINDER="CLEAR_ALL_CYLINDER",e.CANCEL_CURRENT_CYLINDER="CANCEL_CURRENT_CYLINDER",e.IMAGE_CALIBRATION="IMAGE_CALIBRATION",e))(eo||{}),ze=(e=>(e.ETH="ETH",e.WIFI="WIFI",e.SERIAL="SERIAL",e))(ze||{}),Ge=(e=>(e.D1Pro="D1Pro",e.D1="D1",e.M1="M1",e.P1="P1",e.P2="P2",e.F1="F1",e))(Ge||{}),Yu=(e=>(e.BEFORE_START="BEFORE_START",e.START_PROCESS="START_PROCESS",e.PAUSE_PROCESS="PAUSE_PROCESS",e.CANCEL_PROCESS="CANCEL_PROCESS",e.FINISH_PROCESS="FINISH_PROCESS",e.UPLOAD_PROGRESS="UPLOAD_PROGRESS",e.UPLOAD_SUCCESS="UPLOAD_SUCCESS",e.UPLOAD_FAIL="UPLOAD_FAIL",e.CALCULATE_PASS_THROUGH_GCODE="CALCULATE_PASS_THROUGH_GCODE",e))(Yu||{}),fb=(e=>(e.laserPlane="laserPlane",e.laserCylinder="laserCylinder",e.knifeCut="knifeCut",e.planeFeeder="planeFeeder",e))(fb||{}),pb=(e=>(e.color="color",e.rotate_multiple="rotate_multiple",e))(pb||{}),Mt={exports:{}},Ho=typeof Reflect=="object"?Reflect:null,oc=Ho&&typeof Ho.apply=="function"?Ho.apply:function(t,o,r){return Function.prototype.apply.call(t,o,r)},Un;Ho&&typeof Ho.ownKeys=="function"?Un=Ho.ownKeys:Object.getOwnPropertySymbols?Un=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Un=function(t){return Object.getOwnPropertyNames(t)};function hb(e){console&&console.warn&&console.warn(e)}var Ku=Number.isNaN||function(t){return t!==t};function he(){he.init.call(this)}Mt.exports=he;Mt.exports.once=Cb;he.EventEmitter=he;he.prototype._events=void 0;he.prototype._eventsCount=0;he.prototype._maxListeners=void 0;var rc=10;function Ti(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(he,"defaultMaxListeners",{enumerable:!0,get:function(){return rc},set:function(e){if(typeof e!="number"||e<0||Ku(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");rc=e}});he.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};he.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Ku(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function qu(e){return e._maxListeners===void 0?he.defaultMaxListeners:e._maxListeners}he.prototype.getMaxListeners=function(){return qu(this)};he.prototype.emit=function(t){for(var o=[],r=1;r<arguments.length;r++)o.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(o.length>0&&(s=o[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=i[t];if(l===void 0)return!1;if(typeof l=="function")oc(l,this,o);else for(var c=l.length,d=ef(l,c),r=0;r<c;++r)oc(d[r],this,o);return!0};function Xu(e,t,o,r){var n,i,s;if(Ti(o),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,o.listener?o.listener:o),i=e._events),s=i[t]),s===void 0)s=i[t]=o,++e._eventsCount;else if(typeof s=="function"?s=i[t]=r?[o,s]:[s,o]:r?s.unshift(o):s.push(o),n=qu(e),n>0&&s.length>n&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,hb(a)}return e}he.prototype.addListener=function(t,o){return Xu(this,t,o,!1)};he.prototype.on=he.prototype.addListener;he.prototype.prependListener=function(t,o){return Xu(this,t,o,!0)};function mb(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ju(e,t,o){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:o},n=mb.bind(r);return n.listener=o,r.wrapFn=n,n}he.prototype.once=function(t,o){return Ti(o),this.on(t,Ju(this,t,o)),this};he.prototype.prependOnceListener=function(t,o){return Ti(o),this.prependListener(t,Ju(this,t,o)),this};he.prototype.removeListener=function(t,o){var r,n,i,s,a;if(Ti(o),n=this._events,n===void 0)return this;if(r=n[t],r===void 0)return this;if(r===o||r.listener===o)--this._eventsCount===0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||o));else if(typeof r!="function"){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===o||r[s].listener===o){a=r[s].listener,i=s;break}if(i<0)return this;i===0?r.shift():gb(r,i),r.length===1&&(n[t]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",t,a||o)}return this};he.prototype.off=he.prototype.removeListener;he.prototype.removeAllListeners=function(t){var o,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),s;for(n=0;n<i.length;++n)s=i[n],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(o=r[t],typeof o=="function")this.removeListener(t,o);else if(o!==void 0)for(n=o.length-1;n>=0;n--)this.removeListener(t,o[n]);return this};function Zu(e,t,o){var r=e._events;if(r===void 0)return[];var n=r[t];return n===void 0?[]:typeof n=="function"?o?[n.listener||n]:[n]:o?vb(n):ef(n,n.length)}he.prototype.listeners=function(t){return Zu(this,t,!0)};he.prototype.rawListeners=function(t){return Zu(this,t,!1)};he.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Qu.call(e,t)};he.prototype.listenerCount=Qu;function Qu(e){var t=this._events;if(t!==void 0){var o=t[e];if(typeof o=="function")return 1;if(o!==void 0)return o.length}return 0}he.prototype.eventNames=function(){return this._eventsCount>0?Un(this._events):[]};function ef(e,t){for(var o=new Array(t),r=0;r<t;++r)o[r]=e[r];return o}function gb(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function vb(e){for(var t=new Array(e.length),o=0;o<t.length;++o)t[o]=e[o].listener||e[o];return t}function Cb(e,t){return new Promise(function(o,r){function n(s){e.removeListener(t,i),r(s)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",n),o([].slice.call(arguments))}tf(e,t,i,{once:!0}),t!=="error"&&bb(e,n,{once:!0})})}function bb(e,t,o){typeof e.on=="function"&&tf(e,"error",t,o)}function tf(e,t,o,r){if(typeof e.on=="function")r.once?e.once(t,o):e.on(t,o);else if(typeof e.addEventListener=="function")e.addEventListener(t,function n(i){r.once&&e.removeEventListener(t,n),o(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}function Eb(e,t){t.forEach(o=>{Object.getOwnPropertyNames(o.prototype).forEach(r=>{Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(o.prototype,r)||Object.create(null))})})}const Sb=function(e,t){const o=e.split("."),r=t.split(".");for(let n=0;n<o.length||n<r.length;++n){let i=0,s=0;if(n<o.length&&(i=parseInt(o[n])),n<r.length&&(s=parseInt(r[n])),i>s)return 1;if(i<s)return-1}return 0},ti=e=>new Promise(t=>{setTimeout(t,e)});function pt(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function nc(e,t){for(var o="",r=0,n=-1,i=0,s,a=0;a<=e.length;++a){if(a<e.length)s=e.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(n===a-1||i===1))if(n!==a-1&&i===2){if(o.length<2||r!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var l=o.lastIndexOf("/");if(l!==o.length-1){l===-1?(o="",r=0):(o=o.slice(0,l),r=o.length-1-o.lastIndexOf("/")),n=a,i=0;continue}}else if(o.length===2||o.length===1){o="",r=0,n=a,i=0;continue}}t&&(o.length>0?o+="/..":o="..",r=2)}else o.length>0?o+="/"+e.slice(n+1,a):o=e.slice(n+1,a),r=a-n-1;n=a,i=0}else s===46&&i!==-1?++i:i=-1}return o}function yb(e,t){var o=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return o?o===t.root?o+r:o+e+r:r}var $o={resolve:function(){for(var t="",o=!1,r,n=arguments.length-1;n>=-1&&!o;n--){var i;n>=0?i=arguments[n]:(r===void 0&&(r=process.cwd()),i=r),pt(i),i.length!==0&&(t=i+"/"+t,o=i.charCodeAt(0)===47)}return t=nc(t,!o),o?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(pt(t),t.length===0)return".";var o=t.charCodeAt(0)===47,r=t.charCodeAt(t.length-1)===47;return t=nc(t,!o),t.length===0&&!o&&(t="."),t.length>0&&r&&(t+="/"),o?"/"+t:t},isAbsolute:function(t){return pt(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,o=0;o<arguments.length;++o){var r=arguments[o];pt(r),r.length>0&&(t===void 0?t=r:t+="/"+r)}return t===void 0?".":$o.normalize(t)},relative:function(t,o){if(pt(t),pt(o),t===o||(t=$o.resolve(t),o=$o.resolve(o),t===o))return"";for(var r=1;r<t.length&&t.charCodeAt(r)===47;++r);for(var n=t.length,i=n-r,s=1;s<o.length&&o.charCodeAt(s)===47;++s);for(var a=o.length,l=a-s,c=i<l?i:l,d=-1,u=0;u<=c;++u){if(u===c){if(l>c){if(o.charCodeAt(s+u)===47)return o.slice(s+u+1);if(u===0)return o.slice(s+u)}else i>c&&(t.charCodeAt(r+u)===47?d=u:u===0&&(d=0));break}var p=t.charCodeAt(r+u),h=o.charCodeAt(s+u);if(p!==h)break;p===47&&(d=u)}var f="";for(u=r+d+1;u<=n;++u)(u===n||t.charCodeAt(u)===47)&&(f.length===0?f+="..":f+="/..");return f.length>0?f+o.slice(s+d):(s+=d,o.charCodeAt(s)===47&&++s,o.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(pt(t),t.length===0)return".";for(var o=t.charCodeAt(0),r=o===47,n=-1,i=!0,s=t.length-1;s>=1;--s)if(o=t.charCodeAt(s),o===47){if(!i){n=s;break}}else i=!1;return n===-1?r?"/":".":r&&n===1?"//":t.slice(0,n)},basename:function(t,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');pt(t);var r=0,n=-1,i=!0,s;if(o!==void 0&&o.length>0&&o.length<=t.length){if(o.length===t.length&&o===t)return"";var a=o.length-1,l=-1;for(s=t.length-1;s>=0;--s){var c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===o.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=t.length),t.slice(r,n)}else{for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)}},extname:function(t){pt(t);for(var o=-1,r=0,n=-1,i=!0,s=0,a=t.length-1;a>=0;--a){var l=t.charCodeAt(a);if(l===47){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===46?o===-1?o=a:s!==1&&(s=1):o!==-1&&(s=-1)}return o===-1||n===-1||s===0||s===1&&o===n-1&&o===r+1?"":t.slice(o,n)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return yb("/",t)},parse:function(t){pt(t);var o={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return o;var r=t.charCodeAt(0),n=r===47,i;n?(o.root="/",i=1):i=0;for(var s=-1,a=0,l=-1,c=!0,d=t.length-1,u=0;d>=i;--d){if(r=t.charCodeAt(d),r===47){if(!c){a=d+1;break}continue}l===-1&&(c=!1,l=d+1),r===46?s===-1?s=d:u!==1&&(u=1):s!==-1&&(u=-1)}return s===-1||l===-1||u===0||u===1&&s===l-1&&s===a+1?l!==-1&&(a===0&&n?o.base=o.name=t.slice(1,l):o.base=o.name=t.slice(a,l)):(a===0&&n?(o.name=t.slice(1,s),o.base=t.slice(1,l)):(o.name=t.slice(a,s),o.base=t.slice(a,l)),o.ext=t.slice(s,l)),a>0?o.dir=t.slice(0,a-1):n&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};$o.posix=$o;var of=$o;const rf=e=>{const t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});e.dispatchEvent(t)},_b=(e,t)=>{const o=document.createElement("a");o.setAttribute("download",t||"image.png"),o.setAttribute("href",e),o.setAttribute("target","_blank"),rf(o)},ic=(e,t)=>{const o=window.URL.createObjectURL(t);_b(o,e),window.URL.revokeObjectURL(o)},sc=e=>new Promise(async(t,o)=>{if(st(e)){const i=await Tb(e);e=new Blob([i])}const r=URL.createObjectURL(e),n=new Image;n.src=r,n.onload=()=>{URL.revokeObjectURL(r),t(n)},n.onerror=o}),Vs=(e,t="text")=>{var o;if(st(e)){const r=(o=window.MeApi)==null?void 0:o.fileHelper;return r?t==="text"?r.read2Str(e):r.read2Buffer(e):Promise.reject(`read file error. path: ${e}`)}return new Promise(r=>{const n=new FileReader;n.onload=()=>{r(n.result)},t==="text"?n.readAsText(e):n.readAsArrayBuffer(e)})},Ai=async e=>{var t;if(st(e)){const o=(t=window.MeApi)==null?void 0:t.fileHelper;if(o){const r=await o.read2Buffer(e),n=new Blob([r]);return Vs(n)}}return Vs(e)},ac=(e,t)=>typeof t=="object"&&t!==null&&t.dataType==="Map"&&t.value instanceof Array?new Map(t.value):t,xb=e=>{var t;if(st(e)){const o=(t=window.MeApi)==null?void 0:t.fileHelper;if(o)return o.read2Str(e).then(r=>JSON.parse(r,ac))}return Ai(e).then(o=>JSON.parse(o,ac))},Tb=async e=>Vs(e,"arraybuffer");class nf extends Error{}const sf=(e,t)=>{var n;console.log(["=> openFileDialog"]);const o=(n=window.MeApi)==null?void 0:n.fileHelper;if(o)return o.openDialog({filters:[{name:"file",extensions:e}],type:t});const r=()=>{let i=document.querySelector("#fileDialog");return i instanceof HTMLInputElement||(i=document.createElement("input"),i.id="fileDialog",i.style.position="absolute",i.style.visibility="hidden",i.style.top="-100%",i.setAttribute("type","file")),i};return new Promise((i,s)=>{let a=null,l=!1;const c=r(),d=()=>{c.value=""};e&&(it(e)&&(e=`.${e.join(",.")}`),c.setAttribute("accept",e));const u=()=>{console.log(["=> openFileDialog: handleClick"]),l=!0},p=f=>{var m;if(console.log(["=> openFileDialog: handleChange",(m=f==null?void 0:f.target)==null?void 0:m.files]),clearTimeout(a),f){const v=f.target.files;if(v.length>0){i(v[0]),d();return}}d(),s(new nf("cancel open file."))},h=()=>{console.log(["= openFileDialog: window handleFocus"]),l&&(l=!1,clearTimeout(a),a=setTimeout(()=>{p()},1e3))};c.onchange=p,c.onclick=u,window.addEventListener("focus",h,{once:!0}),rf(c)})},Ab=(e,t)=>{var r;const o=(r=window.MeApi)==null?void 0:r.fileHelper;if(o&&e)return o.rename(e,t)},Ws=async(e,t,o=!1,r={})=>{var i;const n=(i=window.MeApi)==null?void 0:i.fileHelper;if(n)return await n.save(e,t,{write:"utf8",save:{defaultPath:e,...r},saveAs:o});if(t instanceof Blob)ic(e,t);else if(st(t)){const s=new File([t],e);ic(e,s)}else console.warn(["=> not support save file content",{fp:e,content:t}])},Gs=e=>{var t,o;return(t=window.MeApi)!=null&&t.path?(o=window.MeApi)==null?void 0:o.path.extname(e):of.extname(e)},oi=(e,t)=>{var o,r;return(o=window.MeApi)!=null&&o.path?(r=window.MeApi)==null?void 0:r.path.basename(e,t):of.basename(e,t)};function lc(e={},t="en"){var n,i,s,a,l,c,d;if(!e)return"";const o=u=>typeof u=="string"&&u,r=u=>o(e[u])?e[u]:null;return(d=(c=(l=(a=r(t))!=null?a:t.startsWith("zh")?(s=(i=(n=r("zh-HK"))!=null?n:r("zh-TW"))!=null?i:r("zh-Hant"))!=null?s:r("zh"):null)!=null?l:r("en"))!=null?c:Object.values(e).find(u=>o(u)))!=null?d:""}function cc(e){return typeof e=="string"&&e}const wb=e=>{let t=1/0,o=1/0,r=-1/0,n=-1/0;return e.forEach(i=>{const{x:s,y:a,width:l,height:c}=i;t=Math.min(s,t),o=Math.min(a,o),r=Math.max(s+(l||0),r),n=Math.max(a+(c||0),n)}),{minX:t,minY:o,maxX:r,maxY:n}},af={id:0,power:0,name:{zh:"device.common.user_defined_material",en:"device.common.user_defined_material"},thickness:null,diameter:null,perimeter:null,processingData:{VECTOR_CUTTING:{power:1,speed:16,repeat:1},VECTOR_ENGRAVING:{power:1,speed:20,repeat:1},FILL_VECTOR_ENGRAVING:{power:1,speed:80,repeat:1,density:100,bitmapMode:"grayscale",bitmapScanMode:"zMode"},BITMAP_ENGRAVING:{power:1,speed:80,repeat:1,density:100,bitmapMode:"grayscale",bitmapScanMode:"zMode"},KNIFE_CUTTING:{cutPressure:45,speed:40,repeat:1}}},lf=()=>JSON.parse(localStorage.getItem(Ia().LOCAL_MATERIALS)||"[]"),Ib=e=>{localStorage.setItem(Ia().LOCAL_MATERIALS,JSON.stringify(e))},Rb=({identifier:e,power:t,materialList:o})=>{const{VECTOR_CUTTING:r,VECTOR_ENGRAVING:n,FILL_VECTOR_ENGRAVING:i,BITMAP_ENGRAVING:s,KNIFE_CUTTING:a}=xi,l=[];return o.forEach(({id:c,name:d,thickness:u,diameter:p,perimeter:h,machineParas:f})=>{var w,b,x,L;$a(f)&&(f=[]);const m={},v=(F,z,G)=>f.find(O=>O.processingType.code===F&&O.laserPower.code===G.toString()&&O.deviceMode.code===z),C=v(r,e,t),E=v(n,e,t),R=v(i,e,t),_=v(s,e,t),T=v(a,e,t);C&&(m[r]={power:C.power,speed:C.speed,repeat:C.repeat}),E&&(m[n]={power:E.power,speed:E.speed,repeat:E.repeat}),R&&(m[i]={power:R.power,speed:R.speed,repeat:R.repeat,density:Number((w=R.density)==null?void 0:w.name),bitmapMode:(b=R.bitmapMode)==null?void 0:b.name}),_&&(m[s]={power:_.power,speed:_.speed,repeat:_.repeat,density:Number((x=_.density)==null?void 0:x.name),bitmapMode:(L=_.bitmapMode)==null?void 0:L.name}),T&&(m[a]={cutPressure:T.cutPressure,speed:T.speed,repeat:T.repeat}),ir(m)||l.push({id:c,name:d,thickness:u,diameter:p,perimeter:h,power:t,processingData:m})}),l},ML=(e,t)=>{const o=[];return t.forEach(r=>{let n=!1;e.forEach(i=>{r.processingData[i]&&(n=!0)}),n&&o.push(r)}),o},ns=(e,t={x:1,y:1},o=!1,r=!0,n=0,i=0)=>{let s="";for(let a=0;a<e.length;a++){for(let l=0;l<e[a].length;l++){const c=o&&![0,e[a].length-1].includes(l);l?s+=c?"Q":"L":s+="M",s+=c?`${n+(e[a][l].x+e[a][l-1].x)/2/t.x} ${i+(e[a][l].y+e[a][l-1].y)/2/t.y} ${n+(e[a][l].x+e[a][l+1].x)/2/t.x} ${i+(e[a][l].y+e[a][l+1].y)/2/t.y}`:`${n+e[a][l].x/t.x}, ${i+e[a][l].y/t.y}`}r&&(s+="Z")}return s===""&&(s="M0,0"),s},Pb=(e,t)=>{const{x:o=0,y:r=0,scaleX:n=1,scaleY:i=1}=t;for(let s=0;s<e.length;s++)for(let a=0;a<e[s].length;a++)e[s][a].x=o+e[s][a].x/n,e[s][a].y=r+e[s][a].y/i},Cn=e=>`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" xml:space="preserve">
    <path d="${e}" />
  </svg>`,is=e=>{if(!e)return"";const t=e.match(/<path\s+d="([^"]+)"/)||[];return t.length>1?t[1]:""},js=()=>{const e=new AbortController;return{signal:e.signal,cancel(){e.abort()}}},Lb="8080",Ys=(e,t=Lb)=>`http://${e}:${t}`,Ob=Oe.create({timeout:3e3}),Ks=async(e,t,o)=>{const{url:r="",type:n="get",params:i,data:s,transformResult:a,...l}=e,{url:c,params:d,data:u,...p}=t||{};let h;$r(u)?h=Object.assign({},s,u):h=u;const f={url:st(c)?`${r+c}`:r,method:n,params:{...i,...d},data:h||s,...l,...p};try{let m=await Ob(f).then(v=>v.data);if($r(m)&&"code"in m)if(m.code===0)m=m.data;else return r==="/device/machineInfo"?m:Promise.reject(m);return Ae(a)?a(m):m}catch(m){return o===!0?m:Promise.reject(m)}},bn=new Map;function Db(e,t){const o={cancel:r=>{const n=bn.get(r);return Ae(n)&&(n(),bn.delete(r)),Promise.resolve("")}};return e.forEach(r=>{const{name:n,url:i="",type:s="get",params:a,timeout:l=3e3,list:c,port:d,transformResponse:u,headers:p,transformRequest:h,...f}=r;o[n]=async m=>{const v=C=>{let E=[];return C&&E.push(C),m!=null&&m.transformResponse&&(it(m==null?void 0:m.transformResponse)?E=E.concat(m==null?void 0:m.transformResponse):E.push(m==null?void 0:m.transformResponse)),E};try{let C;if(it(c)&&!ir(c)){const E=c.map(_=>{const{url:T="",type:w="get",params:b,port:x,timeout:L=3e3,transformResponse:F,transformRequest:z,headers:G}=_,O={...b};return(O==null?void 0:O.cmd)&&typeof m=="string"&&(O.cmd=`${O.cmd} ${m}`),Oe({baseURL:Ys(t,x),url:T,method:w,timeout:L,params:O,transformRequest:z,headers:G,transformResponse:v(F),...f}).catch(I=>Promise.resolve(I))});C=(await Promise.all(E)).map(_=>_.data),Ae(u)&&(C=u(C)),console.log({name:n,url:i,params:a,result:C})}else{const E={...a};E.cmd!==void 0&&typeof m=="string"&&(E.cmd?E.cmd=`${E.cmd} ${m}`:E.cmd=m);const R=Oe.CancelToken,_=await Oe({baseURL:Ys(t,d),url:m!=null&&m.url?i+m.url:i,method:s,timeout:l,params:{...E,...m==null?void 0:m.params},data:(m==null?void 0:m.data)||s.toLocaleLowerCase()==="post"&&m,transformRequest:h,transformResponse:v(u),headers:p,cancelToken:new R(T=>{bn.set(n,T)}),onDownloadProgress:T=>{Ae(m==null?void 0:m.onDownloadProgress)&&(m==null||m.onDownloadProgress(T))},onUploadProgress:T=>{Ae(m==null?void 0:m.onUploadProgress)&&(m==null||m.onUploadProgress(T))},...f});bn.delete(n),C=_.data}return C}catch(C){return new Error(C)}}}),o}const cf=(e,t,o)=>{const r={};return e.forEach(n=>{const{name:i,list:s,port:a,transformResult:l,...c}=n,d=Ys(t,a);r[i]=(u,p)=>{if(it(s)&&!ir(s)){const h=s.map(f=>{const m={baseURL:d,...o,...c,...f};return Ks(m,u,p!=null?p:!0)});return Ae(l)?Promise.all(h).then(f=>l(f)):Promise.all(h)}else return Ks({baseURL:d,transformResult:l,...o,...c},u,p)}}),r},kb=60*60*24*30,Nb=({prefixKey:e="",storage:t=localStorage}={})=>{const o=class{constructor(){H(this,"storage",t);H(this,"prefixKey",e)}getKey(r){return`${this.prefixKey}${r}`.toUpperCase()}set(r,n){const i=JSON.stringify(n);this.storage.setItem(this.getKey(r),i)}get(r,n=null){const i=this.storage.getItem(this.getKey(r));if(i)try{return JSON.parse(i)}catch{return n}return n}remove(r){this.storage.removeItem(this.getKey(r))}clear(){this.storage.clear()}setCookie(r,n,i=kb){document.cookie=`${this.getKey(r)}=${n}; Max-Age=${i}`}getCookie(r){const n=document.cookie.split("; ");for(let i=0,s=n.length;i<s;i++){const a=n[i].split("=");if(a[0]===this.getKey(r))return a[1]}return""}removeCookie(r){this.setCookie(r,1,-1)}clearCookie(){const r=document.cookie.match(/[^ =;]+(?==)/g);if(r)for(let n=r.length;n--;)document.cookie=r[n]+"=0;expire="+new Date(0).toUTCString()}};return new o};let ss=null;const po=()=>(ss||(ss=Nb()),ss),Mb=e=>{typeof e=="function"&&e()},Fb=(e,t=3e3,o)=>{const{immediate:r=!1}=o!=null?o:{};let n=null;const i=(a=!1)=>{a===!0&&s(),n=setTimeout(()=>{Mb(e)},t)},s=()=>{n&&(clearTimeout(n),n=null)};return r===!0&&i(),{start:i,stop:s}},Bb=.0393700787;var Hb=(e=>(e.MM="mm",e.IN="in",e))(Hb||{}),df=(e=>(e[e.MM=1]="MM",e[e.IN=Bb]="IN",e))(df||{});const uf=e=>({mm:{fractionDigits:1,step:.1,scale:1,current:"mm"},in:{fractionDigits:3,step:.001,scale:df.IN,current:"in"}})[e],ff="SETTING_UNIT",$b=e=>{localStorage.setItem(ff,e)},zb=()=>{var t;return(t=localStorage.getItem(ff))!=null?t:"mm"},Ub=()=>{const e=zb();return Object.assign({},{scale:1,current:"mm",fractionDigits:1,step:.1},uf(e))};var ot;class So extends Mt.exports{constructor(o){super();pe(this,ot,void 0);o&&(ye(this,ot,new o),V(this,ot).addEventListener("error",r=>{this.emit("error",r)}),V(this,ot).addEventListener("message",r=>{_r(r.data,"reqID")||this.emit("message",r.data)}))}get worker(){return V(this,ot)}request(o,r=0){return V(this,ot)?new Promise((n,i)=>{var c,d;const s=Date.now(),a=Fb(()=>{i(),a.stop()},r);r>0&&a.start(),(c=V(this,ot))==null||c.postMessage({...o,reqId:s});const l=u=>{var h;const p=u.data;if(p.reqId===s)return(h=V(this,ot))==null||h.removeEventListener("message",l),a.stop(),n(p.data)};(d=V(this,ot))==null||d.addEventListener("message",l)}):Promise.reject("worker is not define.")}destroy(){var o;this.removeAllListeners(),(o=V(this,ot))==null||o.terminate()}}ot=new WeakMap;function Vb(){return new Worker(""+new URL("bitmapResizeWorker.8033d005.js",import.meta.url).href)}class Wb extends So{constructor(){super(Vb)}async resize(t){return this.request({type:"resize",data:t})}}function Gb(){return new Worker(""+new URL("clipperWorker.0e5daec0.js",import.meta.url).href)}class jb extends So{constructor(){super(Gb)}boolCalculate(t){return this.request({type:"boolCalculate",data:t})}scaleOffsetPoints(t){return this.request({type:"scaleOffsetPoints",data:t})}}function Yb(){return new Worker(""+new URL("dxfWorker.8ed381c0.js",import.meta.url).href)}class Kb extends So{constructor(){super(Yb)}preprocess(t){return this.request({type:"preprocess",data:t})}}function qb(){return new Worker(""+new URL("outlineWorker.6cd52222.js",import.meta.url).href)}const Xb=2,Ro=100;class Jb extends So{constructor(){super(qb)}async getBitmapOutLineSvg(t,o,r){const{bitmapShot:n,displaysBounds:i,bitmapScale:s,potracePath:a,extendPoints:l}=t,{width:c,height:d,canvas:u}=n,p=c/u.width,h=d/u.height,{x:f,y:m}=i;let v="";o!==0?(Pb(l,{x:f/p*Ro,y:m/h*Ro}),v=ns(l,{x:Ro/p,y:Ro/h})):v=bm(a).scale(1/s).translate(f,m).toString();let C=Cn(v);return r||(C=await this.request({type:"getRemoveSmallAreaSvg",data:{svg:C}})),C}async getVectorOutLineSvg(t,o){const{vectorDisplays:r,closePathPointsList:n,openPathPointsList:i,shapeExtendPoints:s}=t;if(o===0){const d=await this.request({type:"genVectorZeroOffsetPath",data:{vectorDisplays:r}});return Cn(d)}let a="";if((i==null?void 0:i.length)>0){const d=ns(s,{x:Ro,y:Ro});if(!["M0,0",""].includes(d)){const u=Cn(d);a=await this.request({type:"getRemoveSmallAreaSvg",data:{svg:u}})}}let l="";if((n==null?void 0:n.length)>0){const d=ns(n);if(!["M0,0",""].includes(d)){const u=Cn(d);l=await this.request({type:"genVectorCloseSvg",data:{svg:u,offset:o}})}}let c="";return a&&l?c=await this.request({type:"getUniteResult",data:{svgList:[a,l]}}):a?c=a:l&&(c=l),c}async genOutline(t=Xb,o={addBitmapInner:!0,bitmapPointsList:[]},r){const{addBitmapInner:n=!0}=o;let i="";r!=null&&r.bitmapData&&(i=await this.getBitmapOutLineSvg(r.bitmapData,t,n));let s="";r!=null&&r.vectorData&&(s=await this.getVectorOutLineSvg(r==null?void 0:r.vectorData,t));let a="";const l=is(i),c=is(s);return l&&c?(a=await this.request({type:"getUniteResult",data:{svgList:[i,s]}}),a=is(a)):l?a=l:c&&(a=c),a}cancelGeneral(){this.destroy()}}function Zb(){return new Worker(""+new URL("shapeMatchWorker.8c56f16a.js",import.meta.url).href)}class Qb extends So{constructor(){super(Zb)}async shapeMatch(t,o){return await this.request({type:"getShapeMatchResult",data:{displaysJSON:t,options:o}})}}function eE(){return new Worker(""+new URL("socketWorker.8c714122.js",import.meta.url).href)}class tE extends So{constructor(){super(eE)}create(t){return this.request({type:"createSocket",data:{url:t}})}close(){return this.request({type:"closeSocket"})}}const oE=e=>`ws://${e}:8081`;class rE extends Mt.exports.EventEmitter{constructor(o){super();H(this,"ip");H(this,"isOpen",!1);H(this,"webRequest",!0);H(this,"callbacks");H(this,"socketWorker");H(this,"EVENTS",Vu);H(this,"closePing",()=>{});this.ip=o,this.isOpen=!0,this.callbacks={onClose(){},onReceive(){},onError(){}}}get connectIdentify(){return this.ip}async setup(o){console.info(["=> setup NetServer",this.ip,{useSocket:o}]),this.setupCallbacks(),o&&await this.setupSocket(),await this.checkIpOnline()}async setupSocket(){return console.info(["=> setupSocket",this.ip]),new Promise(async(o,r)=>{this.socketWorker=new tE;const n={open:()=>{o(!0)},message:s=>{this.emit(this.EVENTS.RECEIVE,s)},close:()=>{console.info(["=> service message socket closed.",this.ip]),this.emit(this.EVENTS.CLOSED),this.socketWorker.destroy(),r()},error:s=>{console.error(["=> service message socket error",this.ip,s]),r(s)}};this.socketWorker.on("message",({type:s,data:a})=>{console.debug(["=> socket worker message",s,a]);const l=n[s];Ae(l)&&l(a)}),this.socketWorker.on("error",s=>{r(s)});const i=oE(this.ip);await this.socketWorker.create(i)})}setupCallbacks(){this.on(this.EVENTS.CLOSED,()=>{Ae(this.callbacks.onClose)&&this.callbacks.onClose()}),this.on(this.EVENTS.ERROR,()=>{Ae(this.callbacks.onError)&&this.callbacks.onError()}),this.on(this.EVENTS.RECEIVE,o=>{Ae(this.callbacks.onReceive)&&this.callbacks.onReceive(o)})}onReceive(o){const r=n=>{console.log({chunk:n}),Ae(o)&&o(n)};return this.on(this.EVENTS.RECEIVE,r),()=>{this.off(this.EVENTS.RECEIVE,r)}}setCallbacks(o){console.debug(["=> socket setCallback"]),this.callbacks=Object.assign(this.callbacks,o)}hasOpen(){return this.isOpen}apiParser(o){return Db(o,this.ip)}apiParserNext(o){return cf(o,this.ip)}async checkIpOnline(){var r,n,i;if(!((r=window.MeApi)!=null&&r.ping))return;if(!await((n=window.MeApi)==null?void 0:n.ping.pingOnceCheck(this.ip))){this.isOpen=!1;return}this.isOpen=!0,this.closePing=(i=window.MeApi)==null?void 0:i.ping.pingHeartCheck(this.ip,()=>{this.close()},{maxCount:8,timeout:1})}close(){this.closeSocket(),this.dispose()}closeSocket(){var o;return(o=this.socketWorker)==null?void 0:o.close()}dispose(){var o;this.isOpen=!1,Ae(this.closePing)&&this.closePing(),this.closePing=()=>{},this.emit(this.EVENTS.CLOSED),this.callbacks={onClose(){},onReceive(){},onError(){}},this.removeAllListeners(),(o=this.socketWorker)==null||o.destroy()}}const pf="201.234.3.1",nE=[{name:"version",timeout:3e3,list:[{url:"/system",params:{action:"version"},transformResult(e){return _r(e,"version")}},{url:"/system",params:{action:"version_v2"},transformResult(e){return _r(e,"package_version",e)}}]},{name:"info",timeout:3e3,list:[{url:"/system",params:{action:"get_dev_name"},transformResult(e){return _r(e,"name",e)}},{url:"/system",params:{action:"mac"},transformResult(e){return _r(e,"mac",tb(e,`
`))}}]}],Ua=async(e,t,o)=>{const r=cf(nE,e);try{const i=(await r.version({signal:o})).find(d=>st(d));if(!i)return null;const s=await r.info({signal:o}),[a,l]=s.map(d=>st(d)?d:""),c={ip:e,version:i,name:a,mac:l};return console.log(["=> data",c,e]),Ae(t)&&t(c),c}catch(n){console.error(n)}return null};var qs={exports:{}},Xs={exports:{}},Js={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;function o(r){return function(...n){if(r===null)throw new Error("Callback was already called.");var i=r;r=null,i.apply(this,n)}}e.exports=t.default})(Js,Js.exports);var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.fallback=hf;Ft.wrap=mf;var iE=Ft.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,sE=Ft.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,aE=Ft.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function hf(e){setTimeout(e,0)}function mf(e){return(t,...o)=>e(()=>t(...o))}var Tr;iE?Tr=queueMicrotask:sE?Tr=setImmediate:aE?Tr=process.nextTick:Tr=hf;Ft.default=mf(Tr);var Zs={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class o{constructor(){this.head=this.tail=null,this.length=0}removeLink(i){return i.prev?i.prev.next=i.next:this.head=i.next,i.next?i.next.prev=i.prev:this.tail=i.prev,i.prev=i.next=null,this.length-=1,i}empty(){for(;this.head;)this.shift();return this}insertAfter(i,s){s.prev=i,s.next=i.next,i.next?i.next.prev=s:this.tail=s,i.next=s,this.length+=1}insertBefore(i,s){s.prev=i.prev,s.next=i,i.prev?i.prev.next=s:this.head=s,i.prev=s,this.length+=1}unshift(i){this.head?this.insertBefore(this.head,i):r(this,i)}push(i){this.tail?this.insertAfter(this.tail,i):r(this,i)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var i=this.head;i;)yield i.data,i=i.next}remove(i){for(var s=this.head;s;){var{next:a}=s;i(s)&&this.removeLink(s),s=a}return this}}t.default=o;function r(n,i){n.length=1,n.head=n.tail=i}e.exports=t.default})(Zs,Zs.exports);var ht={},En={exports:{}},Qs={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(o){return function(...r){var n=r.pop();return o.call(this,r,n)}},e.exports=t.default})(Qs,Qs.exports);var dc;function lE(){return dc||(dc=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var o=Qs.exports,r=a(o),n=Ft,i=a(n),s=Va();function a(u){return u&&u.__esModule?u:{default:u}}function l(u){return(0,s.isAsync)(u)?function(...p){const h=p.pop(),f=u.apply(this,p);return c(f,h)}:(0,r.default)(function(p,h){var f;try{f=u.apply(this,p)}catch(m){return h(m)}if(f&&typeof f.then=="function")return c(f,h);h(null,f)})}function c(u,p){return u.then(h=>{d(p,null,h)},h=>{d(p,h&&h.message?h:new Error(h))})}function d(u,p,h){try{u(p,h)}catch(f){(0,i.default)(m=>{throw m},f)}}e.exports=t.default}(En,En.exports)),En.exports}var uc;function Va(){if(uc)return ht;uc=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.isAsyncIterable=ht.isAsyncGenerator=ht.isAsync=void 0;var e=lE(),t=o(e);function o(a){return a&&a.__esModule?a:{default:a}}function r(a){return a[Symbol.toStringTag]==="AsyncFunction"}function n(a){return a[Symbol.toStringTag]==="AsyncGenerator"}function i(a){return typeof a[Symbol.asyncIterator]=="function"}function s(a){if(typeof a!="function")throw new Error("expected a function");return r(a)?(0,t.default)(a):a}return ht.default=s,ht.isAsync=r,ht.isAsyncGenerator=n,ht.isAsyncIterable=i,ht}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o=Js.exports,r=d(o),n=Ft,i=d(n),s=Zs.exports,a=d(s),l=Va(),c=d(l);function d(p){return p&&p.__esModule?p:{default:p}}function u(p,h,f){if(h==null)h=1;else if(h===0)throw new RangeError("Concurrency must not be zero");var m=(0,c.default)(p),v=0,C=[];const E={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function R(I,P){E[I].push(P)}function _(I,P){const B=(...M)=>{T(I,B),P(...M)};E[I].push(B)}function T(I,P){if(!I)return Object.keys(E).forEach(B=>E[B]=[]);if(!P)return E[I]=[];E[I]=E[I].filter(B=>B!==P)}function w(I,...P){E[I].forEach(B=>B(...P))}var b=!1;function x(I,P,B,M){if(M!=null&&typeof M!="function")throw new Error("task callback must be a function");O.started=!0;var te,ne;function ue(Ne,...qe){if(Ne)return B?ne(Ne):te();if(qe.length<=1)return te(qe[0]);te(qe)}var _e=O._createTaskItem(I,B?ue:M||ue);if(P?O._tasks.unshift(_e):O._tasks.push(_e),b||(b=!0,(0,i.default)(()=>{b=!1,O.process()})),B||!M)return new Promise((Ne,qe)=>{te=Ne,ne=qe})}function L(I){return function(P,...B){v-=1;for(var M=0,te=I.length;M<te;M++){var ne=I[M],ue=C.indexOf(ne);ue===0?C.shift():ue>0&&C.splice(ue,1),ne.callback(P,...B),P!=null&&w("error",P,ne.data)}v<=O.concurrency-O.buffer&&w("unsaturated"),O.idle()&&w("drain"),O.process()}}function F(I){return I.length===0&&O.idle()?((0,i.default)(()=>w("drain")),!0):!1}const z=I=>P=>{if(!P)return new Promise((B,M)=>{_(I,(te,ne)=>{if(te)return M(te);B(ne)})});T(I),R(I,P)};var G=!1,O={_tasks:new a.default,_createTaskItem(I,P){return{data:I,callback:P}},*[Symbol.iterator](){yield*O._tasks[Symbol.iterator]()},concurrency:h,payload:f,buffer:h/4,started:!1,paused:!1,push(I,P){return Array.isArray(I)?F(I)?void 0:I.map(B=>x(B,!1,!1,P)):x(I,!1,!1,P)},pushAsync(I,P){return Array.isArray(I)?F(I)?void 0:I.map(B=>x(B,!1,!0,P)):x(I,!1,!0,P)},kill(){T(),O._tasks.empty()},unshift(I,P){return Array.isArray(I)?F(I)?void 0:I.map(B=>x(B,!0,!1,P)):x(I,!0,!1,P)},unshiftAsync(I,P){return Array.isArray(I)?F(I)?void 0:I.map(B=>x(B,!0,!0,P)):x(I,!0,!0,P)},remove(I){O._tasks.remove(I)},process(){if(!G){for(G=!0;!O.paused&&v<O.concurrency&&O._tasks.length;){var I=[],P=[],B=O._tasks.length;O.payload&&(B=Math.min(B,O.payload));for(var M=0;M<B;M++){var te=O._tasks.shift();I.push(te),C.push(te),P.push(te.data)}v+=1,O._tasks.length===0&&w("empty"),v===O.concurrency&&w("saturated");var ne=(0,r.default)(L(I));m(P,ne)}G=!1}},length(){return O._tasks.length},running(){return v},workersList(){return C},idle(){return O._tasks.length+v===0},pause(){O.paused=!0},resume(){O.paused!==!1&&(O.paused=!1,(0,i.default)(O.process))}};return Object.defineProperties(O,{saturated:{writable:!1,value:z("saturated")},unsaturated:{writable:!1,value:z("unsaturated")},empty:{writable:!1,value:z("empty")},drain:{writable:!1,value:z("drain")},error:{writable:!1,value:z("error")}}),O}e.exports=t.default})(Xs,Xs.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(a,l){var c=(0,i.default)(a);return(0,r.default)((d,u)=>{c(d[0],u)},l,1)};var o=Xs.exports,r=s(o),n=Va(),i=s(n);function s(a){return a&&a.__esModule?a:{default:a}}e.exports=t.default})(qs,qs.exports);const gf=Em(qs.exports),cE=50,vf=(e,t=[])=>{console.log(["=> sameGatewayIps",e]);const o=[];if(it(e))return e.forEach(a=>{o.push(...vf(a,t))}),o;const[r,n,i,s]=e.split(".");for(let a=1;a<255;a++){if(Number(s)===a)continue;const l=[r,n,i,a].join(".");t.includes(l)||o.push(l)}return o};let Vn;const Ar=gf((e,t)=>{e().finally(()=>{t()})},cE),Cf=()=>{if(Ar.kill(),Vn&&(Vn(),Vn=null),!window.MeApi)return;const{discovery:e}=window.MeApi;e&&e.dispose()},dE=async e=>{try{const{discovery:t}=window.MeApi,o=[];if(t){Cf();const r=[],n=u=>{o.some(h=>h.ip===u.ip)||(o.push(u),Ae(e.onDiscover)&&e.onDiscover(u))},{signal:i,cancel:s}=js();Vn=s;const a=u=>()=>Ua(u,n,i),l=async()=>{t.on("receiver",async u=>{const{ip:p,name:h,version:f}=u;!p||(r.push(p),p&&f?n({ip:p,name:h,version:f}):Ar.pushAsync(a(p)))}),await t.list(),t.dispose()};Ar.pushAsync(l);const c=await t.ip();let d=lb(vf(c,[...r,pf]));return d.length>100&&(d=d.slice(99).concat(d.slice(0,99))),d.forEach(u=>{Ar.pushAsync(a(u))}),await Ar.drain(),console.log(["=> \u961F\u5217\u6267\u884C\u5B8C\u6210"]),o}return[]}catch(t){return console.error(t),[]}},uE=()=>{Cf()},fE=()=>Ua(pf),pE=e=>new rE(e),hE=e=>{var t,o,r;return(t=window.MeApi)!=null&&t.serial?(r=(o=window.MeApi)==null?void 0:o.serial)==null?void 0:r.list(e):Promise.reject()},mE=e=>{var t,o,r,n;return(o=(t=window.MeApi)==null?void 0:t.serial)!=null&&o.open?(n=(r=window.MeApi)==null?void 0:r.serial)==null?void 0:n.open(e):Promise.reject()},gE=e=>e?Promise.all([e.getData("M99",void 0,1500),e.getData("M100",void 0,1500)]):Promise.reject(new Error("get device version error. port is unknown.")),bf={open:mE,list:hE,version:gE},Mo={ethList:fE,wifiList:dE,open:pE,info:Ua,stopList:uE},vE=e=>{var t,o,r,n;return(o=(t=window.MeApi)==null?void 0:t.serial)!=null&&o.updateFirmware?(n=(r=window.MeApi)==null?void 0:r.serial)==null?void 0:n.updateFirmware(e):(console.error("[serial-firmware-fail]"),Promise.reject(new Error("current env not support update firmware.")))},as="1a86",ls="7523",CE=230400,bE={15:Ge.P1,21:Ge.P2,30:Ge.D1,31:Ge.D1Pro,18:Ge.M1,51:Ge.F1},cs=e=>{var r;if(!st(e))return;if(new RegExp("[v|V]1\\.[0-9]+.[0-9]+ [b|B][0-9]+").test(e))return Ge.D1;const[,o]=(r=e.match(/\d+/g))!=null?r:[];return bE[o]},Xt={[ze.SERIAL]:{...bf,detect(e){return cs(e)}},[ze.ETH]:{list:Mo.ethList,open:Mo.open,detect(e){return cs(e)}},[ze.WIFI]:{list:Mo.wifiList,open:Mo.open,detect(e){return cs(e)}}};var di,io,Zr,ea,Wo,Wn,ui,Ef,Qr,ta,fi,Sf;class EE{constructor(){pe(this,Zr);pe(this,Wo);pe(this,ui);pe(this,Qr);pe(this,fi);pe(this,di,ze.SERIAL);pe(this,io,new Map)}set type(t){ye(this,di,t)}getDevice(t){return V(this,io).get(t)}async usbList(t){const o=await ft(this,fi,Sf).call(this,t);try{const r=await ft(this,ui,Ef).call(this);r&&(Ae(t)&&t(r),o.push(r))}catch(r){console.error(r)}return o}async wifiList(t){const o=[];return await Xt.WIFI.list({...t,onDiscover:r=>{const n=ft(this,Wo,Wn).call(this,r,ze.WIFI);n&&(o.push(n),Ae(t==null?void 0:t.onDiscover)&&(t==null||t.onDiscover(n)))}}),o}stopWifiList(){return Mo.stopList()}async ipDirectly(t,o=ze.WIFI){const r=await Mo.info(t);return r?ft(this,Wo,Wn).call(this,r,o):null}async serialDirectly(t){return ft(this,Qr,ta).call(this,t)}ports(){return Xt.SERIAL.list({vendorId:as,productId:ls})}closeConnect(t){V(this,io).forEach((o,r)=>{o&&o.hasOpen()&&Ae(o.close)&&r!==t&&(o.close(),V(this,io).delete(r))})}updateFirmware(t){return this.closeConnect(),vE(t)}}di=new WeakMap,io=new WeakMap,Zr=new WeakSet,ea=function(t,o){V(this,io).set(t,o)},Wo=new WeakSet,Wn=function(t,o){const{version:r,ip:n,name:i}=t,s=Xt[o],a=s.detect(r);if(!a)return null;const l=s.open(n);return ft(this,Zr,ea).call(this,n,l),{id:n,ip:n,name:i,product:a,type:o,version:r}},ui=new WeakSet,Ef=async function(){const t=await Xt.ETH.list();return t?ft(this,Wo,Wn).call(this,t,ze.ETH):null},Qr=new WeakSet,ta=async function(t){const o=await Xt.SERIAL.open({path:t,baudRate:CE}),r=Ae(o.hasOpen)&&o.hasOpen();if(console.info(["=> port isOpen",r]),!r)return Promise.reject("port is not open");const[n,i]=await bf.version(o),s=Xt.SERIAL.detect(n);if(!s)return;const a={id:t,port:t,name:i,product:s,version:n,type:ze.SERIAL};return ft(this,Zr,ea).call(this,t,o),a},fi=new WeakSet,Sf=async function(t){const o=await Xt.SERIAL.list(n=>(n.vendorId===as||n.productId===ls)&&(n.vendorId.toLowerCase()===as||n.productId.toLowerCase()===ls)),r=[];for(const n of o){const{path:i}=n,s=await ft(this,Qr,ta).call(this,i);s&&(r.push(s),Ae(t)&&t(s))}return r};const zt=new EE;function bo(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ve(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Gn(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gn=function(o){return typeof o}:Gn=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Gn(e)}function xt(e){Ve(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Gn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function SE(e,t){Ve(2,arguments);var o=xt(e).getTime(),r=bo(t);return new Date(o+r)}var yE={};function wi(){return yE}function _E(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function jn(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jn=function(o){return typeof o}:jn=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},jn(e)}function xE(e){return Ve(1,arguments),e instanceof Date||jn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function TE(e){if(Ve(1,arguments),!xE(e)&&typeof e!="number")return!1;var t=xt(e);return!isNaN(Number(t))}function AE(e,t){Ve(2,arguments);var o=bo(t);return SE(e,-o)}var wE=864e5;function IE(e){Ve(1,arguments);var t=xt(e),o=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),n=o-r;return Math.floor(n/wE)+1}function ri(e){Ve(1,arguments);var t=1,o=xt(e),r=o.getUTCDay(),n=(r<t?7:0)+r-t;return o.setUTCDate(o.getUTCDate()-n),o.setUTCHours(0,0,0,0),o}function yf(e){Ve(1,arguments);var t=xt(e),o=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(o+1,0,4),r.setUTCHours(0,0,0,0);var n=ri(r),i=new Date(0);i.setUTCFullYear(o,0,4),i.setUTCHours(0,0,0,0);var s=ri(i);return t.getTime()>=n.getTime()?o+1:t.getTime()>=s.getTime()?o:o-1}function RE(e){Ve(1,arguments);var t=yf(e),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var r=ri(o);return r}var PE=6048e5;function LE(e){Ve(1,arguments);var t=xt(e),o=ri(t).getTime()-RE(t).getTime();return Math.round(o/PE)+1}function ni(e,t){var o,r,n,i,s,a,l,c;Ve(1,arguments);var d=wi(),u=bo((o=(r=(n=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&o!==void 0?o:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=xt(e),h=p.getUTCDay(),f=(h<u?7:0)+h-u;return p.setUTCDate(p.getUTCDate()-f),p.setUTCHours(0,0,0,0),p}function _f(e,t){var o,r,n,i,s,a,l,c;Ve(1,arguments);var d=xt(e),u=d.getUTCFullYear(),p=wi(),h=bo((o=(r=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&n!==void 0?n:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(u+1,0,h),f.setUTCHours(0,0,0,0);var m=ni(f,t),v=new Date(0);v.setUTCFullYear(u,0,h),v.setUTCHours(0,0,0,0);var C=ni(v,t);return d.getTime()>=m.getTime()?u+1:d.getTime()>=C.getTime()?u:u-1}function OE(e,t){var o,r,n,i,s,a,l,c;Ve(1,arguments);var d=wi(),u=bo((o=(r=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&n!==void 0?n:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&o!==void 0?o:1),p=_f(e,t),h=new Date(0);h.setUTCFullYear(p,0,u),h.setUTCHours(0,0,0,0);var f=ni(h,t);return f}var DE=6048e5;function kE(e,t){Ve(1,arguments);var o=xt(e),r=ni(o,t).getTime()-OE(o,t).getTime();return Math.round(r/DE)+1}function fe(e,t){for(var o=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return o+r}var NE={y:function(t,o){var r=t.getUTCFullYear(),n=r>0?r:1-r;return fe(o==="yy"?n%100:n,o.length)},M:function(t,o){var r=t.getUTCMonth();return o==="M"?String(r+1):fe(r+1,2)},d:function(t,o){return fe(t.getUTCDate(),o.length)},a:function(t,o){var r=t.getUTCHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,o){return fe(t.getUTCHours()%12||12,o.length)},H:function(t,o){return fe(t.getUTCHours(),o.length)},m:function(t,o){return fe(t.getUTCMinutes(),o.length)},s:function(t,o){return fe(t.getUTCSeconds(),o.length)},S:function(t,o){var r=o.length,n=t.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,r-3));return fe(i,o.length)}};const Ut=NE;var Po={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ME={G:function(t,o,r){var n=t.getUTCFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,o,r){if(o==="yo"){var n=t.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ut.y(t,o)},Y:function(t,o,r,n){var i=_f(t,n),s=i>0?i:1-i;if(o==="YY"){var a=s%100;return fe(a,2)}return o==="Yo"?r.ordinalNumber(s,{unit:"year"}):fe(s,o.length)},R:function(t,o){var r=yf(t);return fe(r,o.length)},u:function(t,o){var r=t.getUTCFullYear();return fe(r,o.length)},Q:function(t,o,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(o){case"Q":return String(n);case"QQ":return fe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,o,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(o){case"q":return String(n);case"qq":return fe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,o,r){var n=t.getUTCMonth();switch(o){case"M":case"MM":return Ut.M(t,o);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,o,r){var n=t.getUTCMonth();switch(o){case"L":return String(n+1);case"LL":return fe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,o,r,n){var i=kE(t,n);return o==="wo"?r.ordinalNumber(i,{unit:"week"}):fe(i,o.length)},I:function(t,o,r){var n=LE(t);return o==="Io"?r.ordinalNumber(n,{unit:"week"}):fe(n,o.length)},d:function(t,o,r){return o==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ut.d(t,o)},D:function(t,o,r){var n=IE(t);return o==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):fe(n,o.length)},E:function(t,o,r){var n=t.getUTCDay();switch(o){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,o,r,n){var i=t.getUTCDay(),s=(i-n.weekStartsOn+8)%7||7;switch(o){case"e":return String(s);case"ee":return fe(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,o,r,n){var i=t.getUTCDay(),s=(i-n.weekStartsOn+8)%7||7;switch(o){case"c":return String(s);case"cc":return fe(s,o.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,o,r){var n=t.getUTCDay(),i=n===0?7:n;switch(o){case"i":return String(i);case"ii":return fe(i,o.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,o,r){var n=t.getUTCHours(),i=n/12>=1?"pm":"am";switch(o){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,o,r){var n=t.getUTCHours(),i;switch(n===12?i=Po.noon:n===0?i=Po.midnight:i=n/12>=1?"pm":"am",o){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,o,r){var n=t.getUTCHours(),i;switch(n>=17?i=Po.evening:n>=12?i=Po.afternoon:n>=4?i=Po.morning:i=Po.night,o){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,o,r){if(o==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ut.h(t,o)},H:function(t,o,r){return o==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ut.H(t,o)},K:function(t,o,r){var n=t.getUTCHours()%12;return o==="Ko"?r.ordinalNumber(n,{unit:"hour"}):fe(n,o.length)},k:function(t,o,r){var n=t.getUTCHours();return n===0&&(n=24),o==="ko"?r.ordinalNumber(n,{unit:"hour"}):fe(n,o.length)},m:function(t,o,r){return o==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ut.m(t,o)},s:function(t,o,r){return o==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ut.s(t,o)},S:function(t,o){return Ut.S(t,o)},X:function(t,o,r,n){var i=n._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(o){case"X":return pc(s);case"XXXX":case"XX":return to(s);case"XXXXX":case"XXX":default:return to(s,":")}},x:function(t,o,r,n){var i=n._originalDate||t,s=i.getTimezoneOffset();switch(o){case"x":return pc(s);case"xxxx":case"xx":return to(s);case"xxxxx":case"xxx":default:return to(s,":")}},O:function(t,o,r,n){var i=n._originalDate||t,s=i.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+fc(s,":");case"OOOO":default:return"GMT"+to(s,":")}},z:function(t,o,r,n){var i=n._originalDate||t,s=i.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+fc(s,":");case"zzzz":default:return"GMT"+to(s,":")}},t:function(t,o,r,n){var i=n._originalDate||t,s=Math.floor(i.getTime()/1e3);return fe(s,o.length)},T:function(t,o,r,n){var i=n._originalDate||t,s=i.getTime();return fe(s,o.length)}};function fc(e,t){var o=e>0?"-":"+",r=Math.abs(e),n=Math.floor(r/60),i=r%60;if(i===0)return o+String(n);var s=t||"";return o+String(n)+s+fe(i,2)}function pc(e,t){if(e%60===0){var o=e>0?"-":"+";return o+fe(Math.abs(e)/60,2)}return to(e,t)}function to(e,t){var o=t||"",r=e>0?"-":"+",n=Math.abs(e),i=fe(Math.floor(n/60),2),s=fe(n%60,2);return r+i+o+s}const FE=ME;var hc=function(t,o){switch(t){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});case"PPPP":default:return o.date({width:"full"})}},xf=function(t,o){switch(t){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});case"pppp":default:return o.time({width:"full"})}},BE=function(t,o){var r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return hc(t,o);var s;switch(n){case"P":s=o.dateTime({width:"short"});break;case"PP":s=o.dateTime({width:"medium"});break;case"PPP":s=o.dateTime({width:"long"});break;case"PPPP":default:s=o.dateTime({width:"full"});break}return s.replace("{{date}}",hc(n,o)).replace("{{time}}",xf(i,o))},HE={p:xf,P:BE};const $E=HE;var zE=["D","DD"],UE=["YY","YYYY"];function VE(e){return zE.indexOf(e)!==-1}function WE(e){return UE.indexOf(e)!==-1}function mc(e,t,o){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var GE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jE=function(t,o,r){var n,i=GE[t];return typeof i=="string"?n=i:o===1?n=i.one:n=i.other.replace("{{count}}",o.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};const YE=jE;function ds(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=t.width?String(t.width):e.defaultWidth,r=e.formats[o]||e.formats[e.defaultWidth];return r}}var KE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JE={date:ds({formats:KE,defaultWidth:"full"}),time:ds({formats:qE,defaultWidth:"full"}),dateTime:ds({formats:XE,defaultWidth:"full"})};const ZE=JE;var QE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eS=function(t,o,r,n){return QE[t]};const tS=eS;function gr(e){return function(t,o){var r=o!=null&&o.context?String(o.context):"standalone",n;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=o!=null&&o.width?String(o.width):i;n=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,l=o!=null&&o.width?String(o.width):e.defaultWidth;n=e.values[l]||e.values[a]}var c=e.argumentCallback?e.argumentCallback(t):t;return n[c]}}var oS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lS=function(t,o){var r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},cS={ordinalNumber:lS,era:gr({values:oS,defaultWidth:"wide"}),quarter:gr({values:rS,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:gr({values:nS,defaultWidth:"wide"}),day:gr({values:iS,defaultWidth:"wide"}),dayPeriod:gr({values:sS,defaultWidth:"wide",formattingValues:aS,defaultFormattingWidth:"wide"})};const dS=cS;function vr(e){return function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=o.width,n=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;var s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?fS(a,function(u){return u.test(s)}):uS(a,function(u){return u.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=o.valueCallback?o.valueCallback(c):c;var d=t.slice(s.length);return{value:c,rest:d}}}function uS(e,t){for(var o in e)if(e.hasOwnProperty(o)&&t(e[o]))return o}function fS(e,t){for(var o=0;o<e.length;o++)if(t(e[o]))return o}function pS(e){return function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var n=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=o.valueCallback?o.valueCallback(s):s;var a=t.slice(n.length);return{value:s,rest:a}}}var hS=/^(\d+)(th|st|nd|rd)?/i,mS=/\d+/i,gS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vS={any:[/^b/i,/^(a|c)/i]},CS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bS={any:[/1/i,/2/i,/3/i,/4/i]},ES={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_S={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},AS={ordinalNumber:pS({matchPattern:hS,parsePattern:mS,valueCallback:function(t){return parseInt(t,10)}}),era:vr({matchPatterns:gS,defaultMatchWidth:"wide",parsePatterns:vS,defaultParseWidth:"any"}),quarter:vr({matchPatterns:CS,defaultMatchWidth:"wide",parsePatterns:bS,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:vr({matchPatterns:ES,defaultMatchWidth:"wide",parsePatterns:SS,defaultParseWidth:"any"}),day:vr({matchPatterns:yS,defaultMatchWidth:"wide",parsePatterns:_S,defaultParseWidth:"any"}),dayPeriod:vr({matchPatterns:xS,defaultMatchWidth:"any",parsePatterns:TS,defaultParseWidth:"any"})};const wS=AS;var IS={code:"en-US",formatDistance:YE,formatLong:ZE,formatRelative:tS,localize:dS,match:wS,options:{weekStartsOn:0,firstWeekContainsDate:1}};const RS=IS;var PS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OS=/^'([^]*?)'?$/,DS=/''/g,kS=/[a-zA-Z]/;function NS(e,t,o){var r,n,i,s,a,l,c,d,u,p,h,f,m,v,C,E,R,_;Ve(2,arguments);var T=String(t),w=wi(),b=(r=(n=o==null?void 0:o.locale)!==null&&n!==void 0?n:w.locale)!==null&&r!==void 0?r:RS,x=bo((i=(s=(a=(l=o==null?void 0:o.firstWeekContainsDate)!==null&&l!==void 0?l:o==null||(c=o.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:w.firstWeekContainsDate)!==null&&s!==void 0?s:(u=w.locale)===null||u===void 0||(p=u.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=bo((h=(f=(m=(v=o==null?void 0:o.weekStartsOn)!==null&&v!==void 0?v:o==null||(C=o.locale)===null||C===void 0||(E=C.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&m!==void 0?m:w.weekStartsOn)!==null&&f!==void 0?f:(R=w.locale)===null||R===void 0||(_=R.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&h!==void 0?h:0);if(!(L>=0&&L<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var F=xt(e);if(!TE(F))throw new RangeError("Invalid time value");var z=_E(F),G=AE(F,z),O={firstWeekContainsDate:x,weekStartsOn:L,locale:b,_originalDate:F},I=T.match(LS).map(function(P){var B=P[0];if(B==="p"||B==="P"){var M=$E[B];return M(P,b.formatLong)}return P}).join("").match(PS).map(function(P){if(P==="''")return"'";var B=P[0];if(B==="'")return MS(P);var M=FE[B];if(M)return!(o!=null&&o.useAdditionalWeekYearTokens)&&WE(P)&&mc(P,t,String(e)),!(o!=null&&o.useAdditionalDayOfYearTokens)&&VE(P)&&mc(P,t,String(e)),M(G,P,b.localize,O);if(B.match(kS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return P}).join("");return I}function MS(e){var t=e.match(OS);return t?t[1].replace(DS,"'"):e}class FS extends Mt.exports.EventEmitter{}class BS extends FS{constructor(){super(...arguments);H(this,"_connected",!1);H(this,"connectType",ze.ETH);H(this,"_deviceInfo");H(this,"_deviceState");H(this,"_device");H(this,"_apis",{});H(this,"_canvasId","")}get LIFECYCLE(){return{LOAD:"load",CONNECTED:"connected",BEFORE_UNLOADED:"beforeUnloaded",DISCONNECT:"disconnect",CHANGE:"change"}}setupLifeCycle(){const{LIFECYCLE:o}=this;[{name:o.LOAD,listener:this.onLoad},{name:o.CONNECTED,listener:this.onConnected},{name:o.DISCONNECT,listener:this.onDisconnect},{name:o.CHANGE,listener:this.onChange},{name:o.BEFORE_UNLOADED,listener:this.onBeforeUnloaded}].forEach(({name:n,listener:i})=>{const s=()=>{};this.on(n,(i||s).bind(this))})}get supportUrls(){return{firmware:"",faqUrl:"",laserFaq:""}}get connected(){return this._connected}set connected(o){this._connected=o}get info(){return this.deviceInfo}get deviceInfo(){return this._deviceInfo}set deviceInfo(o){this._deviceInfo=Object.assign({},this._deviceInfo,o),this.emit(Re.UPDATE_DEVICE_INFO,o)}get deviceState(){return this._deviceState}set deviceState(o){this._deviceState=Object.assign({},this._deviceState,o),this.emit(Re.DEVICE_STATE_CHANGE,o)}get device(){return this._device}set device(o){o.on(o.EVENTS.RECEIVE,this.deviceCmdParsing.bind(this)),o.on(o.EVENTS.CLOSED,()=>{console.log(this),this.emit(this.LIFECYCLE.DISCONNECT,o.connectIdentify)}),this._device=o}deviceCmdParsing(o){console.log(o)}get apis(){return this._apis}set apis(o){this._apis=o}async initDeviceInfo(){const o=await this.apis.deviceInfo({},!1);return this.deviceInfo=o||{},o}async initDeviceState(){const o=await this.apis.deviceState();return this.deviceState=o,o}get canvasId(){return this._canvasId}set canvasId(o){this._canvasId=o}}class HS extends Mt.exports.EventEmitter{constructor(){super(...arguments);H(this,"_longRangeImageData")}calibration(){throw new Error("device ext camera `calibration` not implemented.")}get longRangeImageData(){return this._longRangeImageData}set longRangeImageData(o){this._longRangeImageData=o}}class $S{constructor(){H(this,"_config")}get config(){return this._config}set config(t){this._config=t}get hooks(){return this._config.gcodeHooks}get contentId(){return this._config.firmwareContentId}get id(){return this._config.id}get deviceExceptions(){return this._config.deviceExceptions}get networkProtocols(){var t;return(t=this._config.protocols)==null?void 0:t.network}get serialProtocols(){var t;return(t=this._config.protocols)==null?void 0:t.serial}get processingArea(){return this._config.processingArea}get baseProcessingArea(){return this._config.processingArea.base}getProcessingAreaByKey(t){const o=this._config.processingArea.data.find(r=>r.key===t);return o||this.baseProcessingArea}getProtocolConfig(t){if([ze.ETH,ze.WIFI].includes(t))return this.networkProtocols;if(t===ze.SERIAL)return this.serialProtocols}}class zS{constructor(){H(this,"downloadCancelable",()=>{});H(this,"uploadCancelable",()=>{})}downloadFirmware(t){const{signal:o,cancel:r}=js();return this.downloadCancelable=r,Ks({...t,timeout:0,responseType:"blob",signal:o})}async updateFirmware(t,o=!0){const{signal:r,cancel:n}=js();return this.uploadCancelable=n,Object.assign(t,{signal:r}),o?this.apis.updateFirmwareHandshake().then(i=>i.result==="ok"?this.apis.updateFirmware(t):Promise.reject(i)):this.apis.updateFirmware(t)}async checkFirmwareUpdated(t,o={delay:1e3*30,loopCount:100}){console.info(["=> checkFirmwareUpdated",t]),await ti(o.delay),console.info(["=> checkFirmwareUpdated delay done.",o.delay]);for(let r=0;r<o.loopCount;r++){try{console.log(["=> checkFirmwareUpdated compare version count",r+1]);const n=await this.apis.version(),i=Sb(n,t);if(console.log({version:t,deviceVersion:n,status:i}),i>=0)return Promise.resolve(!0)}catch(n){console.error(["=> checkFirmwareUpdated",n])}await ti(2e3)}return Promise.reject("checkFirmwareUpdated can not match the version.")}}class US extends Mt.exports.EventEmitter{constructor(){super(...arguments);H(this,"PROCESSING_STATE_CHANGE","PROCESSING_STATE_CHANGE");H(this,"processingState",Wu.READY)}startWalkBorder(o){console.log({gcode:o})}emitProcessingStateChange(o){if(o!==this.processingState){const r=this.processingState;this.processingState=o,this.emit(this.PROCESSING_STATE_CHANGE,{state:o,beforeState:r})}}}class VS{constructor(){H(this,"uiRef")}get ui(){return{}}get projectData(){var t;return(t=this.uiRef)==null?void 0:t.value.getProjectData()}set projectData(t){var o;(o=this.uiRef)==null||o.value.setProjectData(t)}getProcessingData(t){var o;return(o=this.projectData)==null?void 0:o.data.get(t)}toCopyDisplay(t){var s;const{displayJSONs:o,sourceCanvasId:r,targetCanvasId:n}=t,i=o.map(a=>({source:{canvasId:r,displayId:a.sourceId},target:[{canvasId:n,displayId:a.id}]}));(s=this.uiRef)==null||s.value.copyDisplaysData(i)}setLastExtDisplaysData(t){var o;(o=this.uiRef)==null||o.value.setLastExtDisplaysData(t)}}const Sn=.001,WS=(e,t)=>{const{x:o,y:r,width:n,height:i}=e,{x:s,y:a,width:l,height:c}=t,d=o+n,u=r+i,p=s+l,h=a+c;return o>s-Sn&&r>a-Sn&&d<p+Sn&&u<h+Sn},GS=(e,t)=>{let o=!0,r="";for(const n of t){const i=e[n];if(Z.exports.isNull(i)||Z.exports.isUndefined(i)){o=!1,r=n;break}}return{result:o,shortKey:r}};class jS{constructor(t){H(this,"checkRules");this.checkRules=t}check(t,o){if(console.log(["this.checkRules =>",this.checkRules]),t.elementCount.total===0)return{type:ei.text,text:"device.process.no_elements"};const{params:{processMode:n}}=t,{elementCountRules:i,collisionRules:s,integrityDataRules:a,addonStatusRules:l}=this.checkRules[n],c=i?this.checkElementCount(t,i):null;if(c)return c;const d=s?this.checkCollision(t,o,s):null;if(d)return d;const u=a?this.checkDataIntegrity(t,a):null;if(console.log(["integrityCheckResult=>",u]),u)return u;const p=l?this.checkAddonStatus(t,l):null;return p||null}checkElementCount(t,o){console.log(["check element count =>",t,o]);const{checkFunctionList:r,handler:n}=o,{elementCount:i}=t;let s=null;for(const a of r){const{func:l,args:c,info:d}=a,u=l(i[c]);console.log(["tempResult =>",u,i[c]]),u||(s=n(d),console.log(s))}return s}checkCollision(t,o,r){const{checkSizeType:n,ignoredDirection:i,handler:s}=r,{width:a,height:l,startX:c}=o,d={x:Z.exports.includes(i,xr.LEFT)?-1/0:c||0,y:Z.exports.includes(i,xr.TOP)?-1/0:0,width:Z.exports.includes(i,xr.RIGHT)?1/0:a,height:Z.exports.includes(i,xr.BOTTOM)?1/0:l};return WS(t[n],d)?null:s()}checkDataIntegrity(t,o){const{params:r}=t,{requireKeys:n,handler:i}=o,{result:s,shortKey:a}=GS(r,n);return console.log(["check data integrity =>",t,o,s]),s?null:i(a)}checkAddonStatus(t,o){const{addonCheckLists:r,rules:n}=o;let i=null;for(const s of r){const{checkKey:a,correctStatus:l,handler:c}=n[s],d=t.addonStatus?t.addonStatus[a]:null;if(!Z.exports.isNull(d)&&d!==l){i=c();break}}return i}}const YS="# parseMode=${parseMode}\n# W${width} H${height}\n# date:${time}\n# version:${version}\n";var en,pi;class KS{constructor(t,o){pe(this,en,void 0);pe(this,pi,void 0);ye(this,en,t),ye(this,pi,o)}extra(t,o,r){var i;const n=this.run(o,r,(i=V(this,en))!=null?i:{});return n&&(o.toLowerCase().includes("head")?t+=`
${n}`:t=`${n}
${t}`),t}run(t,o,r){var i;const n=(i=(r||this)[t])==null?void 0:i.bind(r||this);return Ae(n)?n(o):(console.warn(`hook '${t} is undefined.'`),"")}head(t){return console.log(["=> hook","processing gcode head."]),this.extra(`# processing gcode head
`,Pe.HEAD,t)+`
`}tail(t){return console.log(["=> hook","processing gcode tail."]),this.extra("# processing gcode tail.",Pe.TAIL,t)+`
`}vectorHead(t){return console.log(["=> hook","vector gcode head."]),this.extra("# vector gcode head.",Pe.VECTOR_HEAD,t)}vectorTail(t){return console.log(["=> hook","vector gcode tail."]),this.extra("# vector gcode tail.",Pe.VECTOR_TAIL,t)}bitmapHead(t){return console.log(["=> hook","bitmap gcode head."]),this.extra("# bitmap gcode head.",Pe.BITMAP_HEAD,t)}bitmapTail(t){return console.log(["=> hook","bitmap gcode tail."]),this.extra("# bitmap gcode tail.",Pe.BITMAP_TAIL,t)}note(t){const{version:o,width:r,height:n,parseMode:i}=t;return QC(YS)({time:new Date().toLocaleString(),parseMode:i,version:o,width:r,height:n})}}en=new WeakMap,pi=new WeakMap;function qS(){return new Worker(""+new URL("gcodeWorker.657dc757.js",import.meta.url).href)}class gc extends So{constructor(o,r,n=!0){super(qS);H(this,"hook");H(this,"storage");H(this,"buildOnce",!0);this.hook=r,this.storage=o,this.buildOnce=n}addCode(o,r){if(!this.buildOnce){this.storage.add("#".repeat(this.storage.placeholder));return}this.storage.add(this.hook.run(o,r))}async build(o){const r=s=>{const{data:a}=s;a&&this.storage.add(ob(a,`
`))};this.on("message",r);const{data:n,params:i}=o;this.storage.add(this.hook.run(Pe.NOTE,i),Pe.NOTE),this.addCode(Pe.HEAD,i);for(const s in n){const{list:a,params:l}=n[s];if(a.length===0)continue;const c=l.isVector,d=c?Pe.VECTOR_HEAD:Pe.BITMAP_HEAD;this.storage.add(this.hook.run(d,{...l,...i})),await this.request({type:"buildGcode",data:{list:a,params:{...l,...i}}});const u=c?Pe.VECTOR_TAIL:Pe.BITMAP_TAIL;this.storage.add(this.hook.run(u,{...l,...i})),this.storage.add(`
`)}this.addCode(Pe.TAIL,i),this.off("message",r),this.destroy()}async border(o){return new Promise(async(r,n)=>{const{data:i,params:s}=o,a=l=>{let c="";const{data:d}=l;d&&(c+=this.hook.head(s),c+=d,c+=this.hook.tail(s),r(c))};this.on("message",a),this.on("error",l=>{n(l)}),await this.request({type:"buildGcode",data:{list:[i],params:s}}),this.off("message",a),this.destroy()})}}class XS{constructor(){H(this,"_lastX",0);H(this,"_lastY",0);H(this,"_lastF0",0);H(this,"_lastF1",0);H(this,"_u2x",0);H(this,"_parseMode","")}clean(){this._lastX=0,this._lastY=0,this._lastF0=0,this._lastF1=0,this._u2x=0,this._parseMode=""}isEmpty(t){return Hu(t)||$a(t)}isNotCoordLine(t){return this.isEmpty(t.x)&&this.isEmpty(t.y)&&this.isEmpty(t.u)}parseLine(t){var n;const o={};(n=t.match(/(G|X|Y|U|F)-?\d*(\.-?\d+)?/g))==null||n.forEach(i=>{const[,s,a]=i.split(/(G|X|Y|F|U)/);if(s&&!this.isEmpty(a)){const l=s.toLowerCase();o[l]=Math.abs(Number(a))}});const r=this.isNotCoordLine(o);if(!(r&&this.isEmpty(o.f))){if(r&&!this.isEmpty(o.f)){o.g===0?this._lastF0=o.f:this._lastF1=o.f;return}return this._parseMode===za.LASER_CYLINDER?(o.y=this.isEmpty(o.x)?this._lastY:o.x,o.x=this.isEmpty(o.u)?this._lastX:this._u2x*o.u):(o.y=this.isEmpty(o.y)?this._lastY:o.y,o.x=this.isEmpty(o.x)?this._lastX:o.x),o.g===0&&(o.f=this.isEmpty(o.f)?this._lastF0:o.f,this._lastF0=o.f),o.g===1&&(o.f=this.isEmpty(o.f)?this._lastF1:o.f,this._lastF1=o.f),this._lastX=o.x,this._lastY=o.y,{g:o.g||0,f:o.f||0,x:o.x||0,y:o.y||0}}}transform(t){if(t.split(" ").join("").startsWith("#parseMode")&&(this._parseMode=t.split(" ").join("").replace("#parseMode","")),!(this._u2x&&t.startsWith("#"))&&(t.includes("config")&&(this._u2x=JSON.parse(t.split(" ").join("").replace("#config","")).rotate_multiple),t.startsWith("G0")||t.startsWith("G1")))return this.parseLine(t)}}class JS{constructor(t={accelX:3200,accelY:500,thresholdAngle:175}){H(this,"_transformer",new XS);H(this,"_lines",[]);H(this,"_config");this._config=t}get line(){return this._lines}clean(){this._lines=[],this._transformer.clean()}calculateAngle(t,o,r){const n=t.x-o.x,i=t.y-o.y,s=r.x-o.x,a=r.y-o.y,l=Math.abs((Math.atan2(i,n)-Math.atan2(a,s))*180/Math.PI);return l>180?360-l:l}addLine(t){const o=this._lines.length;if(o>1){const r=this.calculateAngle(this._lines[o-2],this._lines[o-1],t);this._lines[o-1].angle=r}this._lines.push(t)}readGcode(t){const o=this._transformer.transform(t);ir(o)||this.addLine(o)}getTime(){let t=0,o=0;const r=(n,i,s)=>{s===1/0&&(o+=n/i);const a=i*i/s;n>a?o+=(n+i*i/s)/i:o+=2*Math.sqrt(n/s)};for(const n in this._lines){if(Number(n)===0)continue;const{x:i,y:s,angle:a,g:l,f:c}=this._lines[n],{x:d,y:u,g:p,f:h}=this._lines[Number(n)-1],f=i-d,m=s-u,v=m>0?this._config.accelY:this._config.accelX;t=t+Math.sqrt(f*f+m*m),(()=>a<this._config.thresholdAngle||p!==l||h!==c)()&&(r(t,c/60,v),t=0),this._lines.length===Number(n)+1&&r(t,c/60,v)}return o}}class ZS{constructor(t){H(this,"q");H(this,"code","");H(this,"fileName","gcode.txt");H(this,"calculateTime");H(this,"len",0);H(this,"noteLen",0);H(this,"placeholder",500);this.calculateTime=new JS(t);const o=gf(async r=>{await r()},1);this.q=o}get writer(){var t,o;return(o=(t=window.MeApi)==null?void 0:t.fileHelper)==null?void 0:o.writeGCode.bind(window.MeApi.fileHelper)}get reader(){var t,o;return(o=(t=window.MeApi)==null?void 0:t.fileHelper)==null?void 0:o.readGcode.bind(window.MeApi.fileHelper)}get totalTime(){return this.calculateTime.getTime()}get writeGcodeWithPosition(){var t,o;return(o=(t=window.MeApi)==null?void 0:t.fileHelper)==null?void 0:o.writeGCodeWithPosition.bind(window.MeApi.fileHelper)}get appendFileSync(){var t,o;return(o=(t=window.MeApi)==null?void 0:t.fileHelper)==null?void 0:o.appendFileSync.bind(window.MeApi.fileHelper)}write(t){const o=this.writer;if(o)return o(this.fileName,`${t}
`);this.code+=`${t}
`}addProcessTime(t){var r;const o=t.split(`
`);for(const n of o)ir(n)||(r=this.calculateTime)==null||r.readGcode(n)}add(t,o){!st(t)||this.q.pushAsync(()=>(o===Pe.NOTE&&(this.noteLen=t.length),this.len=this.len+t.length,this.addProcessTime(t),this.write(t)))}async addToFile(t,o){if(!!st(t)){if(!this.writer){o?this.code+=`${t}
`:this.code=`${t}
${this.code}`;return}if(t.length<this.placeholder)t=t+`
`+"#".repeat(this.placeholder-t.length);else throw new Error("\u63D2\u5165 gcode \u8D85\u51FA\u9884\u7559\u957F\u5EA6");if(this.writeGcodeWithPosition){const r=await this.reader(this.fileName),n=o?r.length-this.placeholder-1:this.noteLen;return this.writeGcodeWithPosition(this.fileName,t,n)}if(this.appendFileSync)return this.appendFileSync(this.fileName,t,!o)}}clean(){this.len=0,this.calculateTime.clean(),this.code="",this.q.kill()}async finish(){await this.q.drain();const t=this.writer;if(t)return t(this.fileName,"",!0)}}var Sa;class QS{constructor(t,o,r){H(this,"hook");H(this,"storage");pe(this,Sa,null);this.hook=new KS(o,r.xcsVersion),this.storage=new ZS(t)}async motion(t,o=!0){this.clean(),await new gc(this.storage,this.hook,o).build(t),await this.storage.finish()}async border(t){return await new gc(this.storage,this.hook).border(t)}async gcode(t){if(t){const o=this.hook.run(Pe.HEAD,t),r=this.hook.run(Pe.TAIL,t);await this.storage.addToFile(o,!1),await this.storage.addToFile(r,!0)}return this.storage.writer?this.storage.reader(this.storage.fileName):this.storage.code}get gcodeFileName(){return this.storage.writer?this.storage.fileName:this.storage.code}get processTime(){return this.storage.totalTime}clean(){this.storage.clean()}}Sa=new WeakMap;var oa;(function(e){e.Grayscale="grayscale",e.Bayer="Bayer",e.Stucki="Stucki",e.Atkinson="Atkinson",e.Jarvis="Jarvis",e.Sierra="Sierra",e.Floyd="Floyd"})(oa||(oa={}));const{FILL_VECTOR_ENGRAVING:e0,BITMAP_ENGRAVING:t0}=xi;class o0{async resizeBitmapList(t){t.length;const o=new Wb;for(const r of t){const{source:n,oWidth:i=0,oHeight:s=0,width:a,height:l,bitmapMode:c,density:d=10}=r;r.source=await o.resize({id:r.id||"",bitmapMode:c||oa.Grayscale,imgData:n,oWidth:i,oHeight:s,destWidth:Math.ceil(a*d/10),destHeight:Math.ceil(l*d/10)})}o.destroy()}async resize(t){const o=t[t0].list,r=t[e0].list;await this.resizeBitmapList(o),await this.resizeBitmapList(r)}}var oo;(function(e){e.PlaneVector="PlaneVector",e.PlaneBitmap="PlaneBitmap",e.CylinderVector="CylinderVector",e.CylinderBitmap="CylinderBitmap",e.KnifeVector="KnifeVector"})(oo||(oo={}));var vc;(function(e){e.VECTOR_CUTTING="VECTOR_CUTTING",e.VECTOR_ENGRAVING="VECTOR_ENGRAVING",e.FILL_VECTOR_ENGRAVING="FILL_VECTOR_ENGRAVING",e.BITMAP_ENGRAVING="BITMAP_ENGRAVING",e.KNIFE_CUTTING="KNIFE_CUTTING"})(vc||(vc={}));var Cc;(function(e){e.LASER_PLANE="LASER_PLANE",e.LASER_CYLINDER="LASER_CYLINDER",e.PASS_THROUGH="PASS_THROUGH",e.KNIFE_CUT="KNIFE_CUT",e.PRINTER_KNIFE_CUT="PRINTER_KNIFE_CUT",e.SUPER_LASER_PLANE="SUPER_LASER_PLANE"})(Cc||(Cc={}));var bc;(function(e){e[e.plane=0]="plane",e[e.feeding=1]="feeding",e[e.cylinder=2]="cylinder"})(bc||(bc={}));var ii;(function(e){e[e.greedy=0]="greedy",e[e.fastGreedy=1]="fastGreedy",e[e.scanning=2]="scanning",e[e.treeLike=3]="treeLike"})(ii||(ii={}));const{KNIFE_CUT:r0}=za,{BITMAP:Cr,VECTOR:yn}=Zo,{VECTOR_CUTTING:Ec,VECTOR_ENGRAVING:Sc,FILL_VECTOR_ENGRAVING:yc,BITMAP_ENGRAVING:_c,KNIFE_CUTTING:xc}=xi,n0={[xc]:{list:[],params:{color:ko[xc],buildType:oo.PlaneVector,isVector:!0}},[Ec]:{list:[],params:{color:ko[Ec],buildType:oo.PlaneVector,optMode:ii.treeLike,isVector:!0}},[Sc]:{list:[],params:{color:ko[Sc],buildType:oo.PlaneVector,optMode:ii.greedy,isVector:!0}},[_c]:{list:[],params:{color:ko[_c],buildType:oo.PlaneVector,isVector:!1}},[yc]:{list:[],params:{color:ko[yc],buildType:oo.PlaneVector,isVector:!1}}};class i0{constructor(t){H(this,"_config");H(this,"_deviceInfo",{});H(this,"elementCount");H(this,"boundary");this._config=t;const o={topLeftX:Number.MAX_SAFE_INTEGER,topLeftY:Number.MAX_SAFE_INTEGER,bottomRightX:Number.MIN_SAFE_INTEGER,bottomRightY:Number.MIN_SAFE_INTEGER};this.elementCount={vector:0,bitmap:0,total:0},this.boundary={[Cr]:o,[yn]:o}}set deviceInfo(t){this._deviceInfo=t}get vectorSize(){const t=this.boundary[yn],{topLeftX:o,topLeftY:r,bottomRightX:n,bottomRightY:i}=t;return{x:o,y:r,width:n-o,height:i-r}}get bitmapSize(){const t=this.boundary[Cr],{topLeftX:o,topLeftY:r,bottomRightX:n,bottomRightY:i}=t;return{x:o,y:r,width:n-o,height:i-r}}get totalSize(){const t=this.boundary[yn],o=this.boundary[Cr],r=Math.min(t.topLeftX,o.topLeftX),n=Math.min(t.topLeftY,o.topLeftY);return{x:r,y:n,width:Math.max(t.bottomRightX,o.bottomRightX)-r,height:Math.max(t.bottomRightY,o.bottomRightY)-n}}calculateBoundary(t){const{x:o,y:r,width:n,height:i}=t,s=this.boundary[t.type];s.topLeftX=Math.min(o,s.topLeftX),s.topLeftY=Math.min(r,s.topLeftY),s.bottomRightX=Math.max(o+n,s.bottomRightX),s.bottomRightY=Math.max(r+i,s.bottomRightY)}getWalkBorderSize(t){const{modeWalkBorderType:o}=this._config;return!o||o[t]?this.totalSize:o[t].includes(Zo.BITMAP)?o[t].includes(Zo.VECTOR)?this.totalSize:this.bitmapSize:this.vectorSize}calculateBacklash(t){const o=this._deviceInfo.power;return this._config.backlash[o]?Math.min(.5,t*60/2e4):0}parse(t,o){var n;const r=Z.exports.cloneDeep(n0);for(const i of t){const s=o.displays.get(i.id),a=o.mode,l=s.processingType,c=s.data[l],d=c.materialType,u=(n=c.parameter[d])!=null?n:c.parameter[Gu.CUSTOMIZE];if(s!=null&&s.processIgnore)continue;const p=i.type.toUpperCase()===Cr,h=!p&&i.isFill===!0;if(a===r0&&(h||p))continue;p&&(i.isFill=!1),p||h?(i.type=Cr,this.elementCount.bitmap++):(i.type=yn,this.elementCount.vector++),this.calculateBoundary(i),this.elementCount.total++;const{power:f,cutPressure:m,speed:v,repeat:C,density:E,bitmapMode:R}=u,{x:_,y:T,width:w,height:b,oWidth:x,oHeight:L,path:F,imgData:z,isFill:G}=i;r[l].params.buildType=this._config.buildTypeMap[`${i.type}${a}`],r[l].params.overScanRequired=this._config.overScanRequired,r[l].list.push({source:F||(z!=null?z:""),x:_,y:T,width:w,height:b,power:f!=null?f:m,speed:v,elementProcessType:l,samplingAccuracy:.1,repeat:C,oWidth:x,oHeight:L,density:E,isFill:G,bitmapMode:R,color:ko[l],backlash:this.calculateBacklash(v)})}return{printData:r,totalSize:this.totalSize,walkBorderSize:this.getWalkBorderSize(o.mode),elementCount:this.elementCount}}}const{VECTOR:s0}=Zo;class Tf extends Mt.exports.EventEmitter{}Eb(Tf,[BS,HS,$S,US,zS,VS]);var tn;class Tc extends Tf{constructor(o,r){super();pe(this,tn,"");H(this,"processingModes",[]);H(this,"processingTypes",[]);H(this,"deviceData");H(this,"v2",!0);H(this,"builder");H(this,"runningStatus",ju.P_IDLE);H(this,"checker");H(this,"paramParser");H(this,"printInfo");H(this,"addonStatus");H(this,"isWalkBorderRunning",!1);this.config=o,this.deviceInfo={name:o.name,cover:o.cover,snCode:"",power:0,version:""},ye(this,tn,r.xcsVersion),this.setupLifeCycle(),this.builder=new QS(o.calculateTime,this.hooks,{xcsVersion:this.xcsVersion}),this.config.checkRules&&(this.checker=new jS(this.config.checkRules)),this.emit(this.LIFECYCLE.LOAD)}get id(){return this.config.id}get useSocket(){return this.config.canUseSocket}get xcsVersion(){return V(this,tn)}get walkBorderConfig(){const o=this.config.process.walkBorder,r=this.info.power;return o[r]||o.default}get processMode(){return this.deviceData.data.value.get(this.canvasId).mode}async init(o,r){this.setupDevice(o,r);const n=await this.initDeviceInfo();return this.apis.queryRunningStatus&&(this.runningStatus=await this.apis.queryRunningStatus()),this.connected=!0,this.emit(this.LIFECYCLE.CONNECTED,this),{info:n}}async exportGcode(){const{buildOnce:o=!0}=this.config.process,r=o===!1,n=await this.builder.gcode(r);return Ws(`${this.id}-${NS(new Date,"yy_MM_dd_HH_mm")}.gc`,n,!1,{filters:[{name:"GCode",extensions:["gc"]}]})}async walkBorder(o){const{power:r,speed:n,source:i,canvasId:s}=o,{canStopWalkBorder:a=!1,buildTypeMap:l}=this.config.process;if(a&&this.isWalkBorderRunning)return this.apis.stopWalkBorder();const c=this.getProcessingData(s),d={data:{source:i,power:r,speed:n,repeat:1},params:{params:this.printInfo.params,isWalkBorder:!0,buildType:l[`${s0}${c}`],isVector:!0}},u=await this.builder.border(d);return this.startWalkBorder(u)}async checkProcessData({canvasData:o,canvasId:r,centralAxisPosition:n,isWalkBorder:i=!1}){var d;const s=this.deviceData.data.value.get(r),a=this.deviceData.getCurrentDeviceModeData(s.mode);this.config.process.needCentralAxis&&(a.startX=n);const c=new i0(this._config.process).parse(o,s);return this.paramParser.isWalkBorder=i,this.paramParser.processingArea=a,this.paramParser.deviceData=s,this.paramParser.deviceInfo=this.deviceInfo,this.paramParser.totalSize=c.totalSize,this.printInfo={...c,params:{...this.paramParser.parse(),version:this.xcsVersion}},(d=this.checker)==null?void 0:d.check({...this.printInfo,addonStatus:this.addonStatus},a)}async buildProcessGcode(){const{printData:o,params:r}=this.printInfo,{buildOnce:n=!0}=this.config.process;await new o0().resize(o),await this.builder.motion({params:r,data:o},n)}async setupDevice(o,r){const n=this.getProtocolConfig(r);n&&(this.apis=o.apiParserNext(n)),this.device=o}takePicture(o){throw console.log({options:o}),new Error("device ext camera `takePicture` not implemented.")}exportLog(o="xcs_device_log.gz"){return this.apis.exportLog().then(r=>Ws(o,r,!0,{filters:[]}))}onLoad(){this.emit(Re.UPDATE_PROCESSING_AREA,this.baseProcessingArea)}onConnected(){this.connected=!0}onDisconnect(){this.connected=!1}onChange(){throw new Error("Method not implemented.")}onBeforeUnloaded(){this.dispose()}dispose(){var o;this.emit(Re.CLEAN_CANVAS_BACK_DROP),(o=this.device)==null||o.dispose(),this.removeAllListeners()}toJSON(){return{info:this.info}}}tn=new WeakMap;var Pt,so,ya,vt;const ml=class{constructor(t){pe(this,Pt,new Map);pe(this,so,new Set);pe(this,ya,new a0(ml.ExpiredAt,()=>{this._autoClearAction()}));pe(this,vt,void 0);if(typeof t!="function")throw Error("a function to get key must be provided");ye(this,vt,t)}_autoClearAction(){for(const t of V(this,Pt).keys())V(this,so).has(t)||V(this,Pt).delete(t)}has(t){return V(this,Pt).has(V(this,vt).call(this,t))}get(t){return V(this,Pt).get(V(this,vt).call(this,t))}set(t,o){if(!t)throw TypeError("buffer\u4E0D\u80FD\u4E3A\u7A7A");V(this,Pt).set(V(this,vt).call(this,t),o)}delete(t){const o=V(this,vt).call(this,t);return V(this,so).has(o)?!1:(V(this,Pt).delete(o),!0)}setPersistent(t){V(this,so).add(V(this,vt).call(this,t))}cancelPersistent(t){V(this,so).delete(V(this,vt).call(this,t))}};let Yn=ml;Pt=new WeakMap,so=new WeakMap,ya=new WeakMap,vt=new WeakMap,H(Yn,"ExpiredAt",1e4);class a0{constructor(t,o){H(this,"period");H(this,"timeout");H(this,"handler");if(!isFinite(t))throw TypeError("period must be a finite number");this.period=t,this.handler=o,this._setup()}_setup(){this.timeout=setTimeout(()=>{this.handler(),this._setup()},this.period)}}const l0=""+new URL("StardosStencil-Bold.c140c043.ttf",import.meta.url).href,c0=""+new URL("StardosStencil-Regular.51203997.ttf",import.meta.url).href,d0=""+new URL("LondrinaOutline-Regular.ca2ff899.ttf",import.meta.url).href,u0=""+new URL("Amita-Bold.fe189590.ttf",import.meta.url).href,f0=""+new URL("Amita-Regular.d62f55a6.ttf",import.meta.url).href,p0=""+new URL("Lobster-Regular.cddd7779.ttf",import.meta.url).href,h0=""+new URL("Atma-Bold.516a2b2d.ttf",import.meta.url).href,m0=""+new URL("Atma-Light.b8ae009b.ttf",import.meta.url).href,g0=""+new URL("Atma-Regular.159eb849.ttf",import.meta.url).href,v0=""+new URL("Combo-Regular.fac7723b.ttf",import.meta.url).href,C0=""+new URL("DancingScript-Bold.5a573995.ttf",import.meta.url).href,b0=""+new URL("DancingScript-Medium.8cc56496.ttf",import.meta.url).href,E0=""+new URL("DancingScript-Regular.49abeae0.ttf",import.meta.url).href,S0=""+new URL("AlegreyaSC-Bold.f0edaf1f.ttf",import.meta.url).href,y0=""+new URL("AlegreyaSC-Italic.2f721c67.ttf",import.meta.url).href,_0=""+new URL("AlegreyaSC-Medium.6e436b9c.ttf",import.meta.url).href,x0=""+new URL("AlegreyaSC-Regular.4b93934f.ttf",import.meta.url).href,T0=""+new URL("Caveat-Bold.45449f54.ttf",import.meta.url).href,A0=""+new URL("Caveat-Medium.3d25c421.ttf",import.meta.url).href,w0=""+new URL("Caveat-Regular.2829d935.ttf",import.meta.url).href,I0=""+new URL("Caveat-SemiBold.93330e10.ttf",import.meta.url).href,R0=""+new URL("Gorditas-Bold.de4ced4a.ttf",import.meta.url).href,P0=""+new URL("Gorditas-Regular.682faef3.ttf",import.meta.url).href,L0=""+new URL("LifeSavers-Bold.847b7ab6.ttf",import.meta.url).href,O0=""+new URL("LifeSavers-Regular.ebd8d5d1.ttf",import.meta.url).href,D0=""+new URL("Shalimar-Regular.fcd0c5da.ttf",import.meta.url).href,k0=""+new URL("SpaceGrotesk-Bold.f67349bd.ttf",import.meta.url).href,N0=""+new URL("SpaceGrotesk-Light.aed318c7.ttf",import.meta.url).href,M0=""+new URL("SpaceGrotesk-Medium.49a8792c.ttf",import.meta.url).href,F0=""+new URL("SpaceGrotesk-Regular.c269c205.ttf",import.meta.url).href,B0=""+new URL("SpaceGrotesk-SemiBold.75d1d5cd.ttf",import.meta.url).href,H0=""+new URL("Grandstander-Bold.550a3818.ttf",import.meta.url).href,$0=""+new URL("Grandstander-BoldItalic.f0db65ea.ttf",import.meta.url).href,z0=""+new URL("Grandstander-Light.808951bd.ttf",import.meta.url).href,U0=""+new URL("Grandstander-LightItalic.a9df1044.ttf",import.meta.url).href,V0=""+new URL("Grandstander-Medium.1e073e8f.ttf",import.meta.url).href,W0=""+new URL("Grandstander-Regular.3ed05e7f.ttf",import.meta.url).href,G0=""+new URL("Grandstander-Thin.29047536.ttf",import.meta.url).href,j0=""+new URL("Lato-Bold.d7f0b7f2.ttf",import.meta.url).href,Y0=""+new URL("Lato-BoldItalic.e38611f4.ttf",import.meta.url).href,K0=""+new URL("Lato-Italic.3be26bf6.ttf",import.meta.url).href,Af=""+new URL("Lato-Regular.e82542ae.ttf",import.meta.url).href,q0=""+new URL("DroidSansFallback.2e6c8efd.ttf",import.meta.url).href;function X0(e){return function(...t){var o=t.pop();return e.call(this,t,o)}}var J0=typeof queueMicrotask=="function"&&queueMicrotask,wf=typeof setImmediate=="function"&&setImmediate,If=typeof process=="object"&&typeof process.nextTick=="function";function Z0(e){setTimeout(e,0)}function Q0(e){return(t,...o)=>e(()=>t(...o))}var wr;J0?wr=queueMicrotask:wf?wr=setImmediate:If?wr=process.nextTick:wr=Z0;var Rf=Q0(wr);function ey(e){return Wa(e)?function(...t){const o=t.pop(),r=e.apply(this,t);return Ac(r,o)}:X0(function(t,o){var r;try{r=e.apply(this,t)}catch(n){return o(n)}if(r&&typeof r.then=="function")return Ac(r,o);o(null,r)})}function Ac(e,t){return e.then(o=>{wc(t,null,o)},o=>{wc(t,o&&o.message?o:new Error(o))})}function wc(e,t,o){try{e(t,o)}catch(r){Rf(n=>{throw n},r)}}function Wa(e){return e[Symbol.toStringTag]==="AsyncFunction"}function ty(e){return e[Symbol.toStringTag]==="AsyncGenerator"}function oy(e){return typeof e[Symbol.asyncIterator]=="function"}function Ee(e){if(typeof e!="function")throw new Error("expected a function");return Wa(e)?ey(e):e}function ie(e,t=e.length){if(!t)throw new Error("arity is undefined");function o(...r){return typeof r[t-1]=="function"?e.apply(this,r):new Promise((n,i)=>{r[t-1]=(s,...a)=>{if(s)return i(s);n(a.length>1?a:a[0])},e.apply(this,r)})}return o}function Ga(e,t,o,r){t=t||[];var n=[],i=0,s=Ee(o);return e(t,(a,l,c)=>{var d=i++;s(a,(u,p)=>{n[d]=p,c(u)})},a=>{r(a,n)})}function Ii(e){return e&&typeof e.length=="number"&&e.length>=0&&e.length%1===0}const Ri={};function sr(e){function t(...o){if(e!==null){var r=e;e=null,r.apply(this,o)}}return Object.assign(t,e),t}function ry(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}function ny(e){var t=-1,o=e.length;return function(){return++t<o?{value:e[t],key:t}:null}}function iy(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}function sy(e){var t=e?Object.keys(e):[],o=-1,r=t.length;return function n(){var i=t[++o];return i==="__proto__"?n():o<r?{value:e[i],key:i}:null}}function ay(e){if(Ii(e))return ny(e);var t=ry(e);return t?iy(t):sy(e)}function ar(e){return function(...t){if(e===null)throw new Error("Callback was already called.");var o=e;e=null,o.apply(this,t)}}function Ic(e,t,o,r){let n=!1,i=!1,s=!1,a=0,l=0;function c(){a>=t||s||n||(s=!0,e.next().then(({value:p,done:h})=>{if(!(i||n)){if(s=!1,h){n=!0,a<=0&&r(null);return}a++,o(p,l,d),l++,c()}}).catch(u))}function d(p,h){if(a-=1,!i){if(p)return u(p);if(p===!1){n=!0,i=!0;return}if(h===Ri||n&&a<=0)return n=!0,r(null);c()}}function u(p){i||(s=!1,n=!0,r(p))}c()}var Tt=e=>(t,o,r)=>{if(r=sr(r),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return r(null);if(ty(t))return Ic(t,e,o,r);if(oy(t))return Ic(t[Symbol.asyncIterator](),e,o,r);var n=ay(t),i=!1,s=!1,a=0,l=!1;function c(u,p){if(!s)if(a-=1,u)i=!0,r(u);else if(u===!1)i=!0,s=!0;else{if(p===Ri||i&&a<=0)return i=!0,r(null);l||d()}}function d(){for(l=!0;a<e&&!i;){var u=n();if(u===null){i=!0,a<=0&&r(null);return}a+=1,o(u.value,u.key,ar(c))}l=!1}d()};function ly(e,t,o,r){return Tt(t)(e,Ee(o),r)}var ja=ie(ly,4);function cy(e,t,o){o=sr(o);var r=0,n=0,{length:i}=e,s=!1;i===0&&o(null);function a(l,c){l===!1&&(s=!0),s!==!0&&(l?o(l):(++n===i||c===Ri)&&o(null))}for(;r<i;r++)t(e[r],r,ar(a))}function dy(e,t,o){return ja(e,1/0,t,o)}function uy(e,t,o){var r=Ii(e)?cy:dy;return r(e,Ee(t),o)}var yo=ie(uy,3);function fy(e,t,o){return Ga(yo,e,t,o)}var py=ie(fy,3);function hy(e,t,o){return ja(e,1,t,o)}var lr=ie(hy,3);function my(e,t,o){return Ga(lr,e,t,o)}ie(my,3);function gy(e,t,o,r){r=sr(r);var n=Ee(o);return lr(e,(i,s,a)=>{n(t,i,(l,c)=>{t=c,a(l)})},i=>r(i,t))}ie(gy,4);function vy(e,t,o,r){return Ga(Tt(t),e,o,r)}var Pf=ie(vy,4);function Cy(e,t,o,r){var n=Ee(o);return Pf(e,t,(i,s)=>{n(i,(a,...l)=>a?s(a):s(a,l))},(i,s)=>{for(var a=[],l=0;l<s.length;l++)s[l]&&(a=a.concat(...s[l]));return r(i,a)})}var Lf=ie(Cy,4);function by(e,t,o){return Lf(e,1/0,t,o)}ie(by,3);function Ey(e,t,o){return Lf(e,1,t,o)}ie(Ey,3);function Bt(e,t){return(o,r,n,i)=>{var s=!1,a;const l=Ee(n);o(r,(c,d,u)=>{l(c,(p,h)=>{if(p||p===!1)return u(p);if(e(h)&&!a)return s=!0,a=t(!0,c),u(null,Ri);u()})},c=>{if(c)return i(c);i(null,s?a:t(!1))})}}function Sy(e,t,o){return Bt(r=>r,(r,n)=>n)(yo,e,t,o)}ie(Sy,3);function yy(e,t,o,r){return Bt(n=>n,(n,i)=>i)(Tt(t),e,o,r)}ie(yy,4);function _y(e,t,o){return Bt(r=>r,(r,n)=>n)(Tt(1),e,t,o)}ie(_y,3);function xy(e,t,o){o=ar(o);var r=Ee(e),n=Ee(t),i;function s(l,...c){if(l)return o(l);l!==!1&&(i=c,n(...c,a))}function a(l,c){if(l)return o(l);if(l!==!1){if(!c)return o(null,...i);r(s)}}return a(null,!0)}ie(xy,3);function Of(e){return(t,o,r)=>e(t,r)}function Ty(e,t,o){return yo(e,Of(Ee(t)),o)}ie(Ty,3);function Ay(e,t,o,r){return Tt(t)(e,Of(Ee(o)),r)}var wy=ie(Ay,4);function Iy(e,t,o){return wy(e,1,t,o)}var Ry=ie(Iy,3);function Py(e){return Wa(e)?e:function(...t){var o=t.pop(),r=!0;t.push((...n)=>{r?Rf(()=>o(...n)):o(...n)}),e.apply(this,t),r=!1}}function Ly(e,t,o){return Bt(r=>!r,r=>!r)(yo,e,t,o)}ie(Ly,3);function Oy(e,t,o,r){return Bt(n=>!n,n=>!n)(Tt(t),e,o,r)}ie(Oy,4);function Dy(e,t,o){return Bt(r=>!r,r=>!r)(lr,e,t,o)}ie(Dy,3);function ky(e,t,o,r){var n=new Array(t.length);e(t,(i,s,a)=>{o(i,(l,c)=>{n[s]=!!c,a(l)})},i=>{if(i)return r(i);for(var s=[],a=0;a<t.length;a++)n[a]&&s.push(t[a]);r(null,s)})}function Ny(e,t,o,r){var n=[];e(t,(i,s,a)=>{o(i,(l,c)=>{if(l)return a(l);c&&n.push({index:s,value:i}),a(l)})},i=>{if(i)return r(i);r(null,n.sort((s,a)=>s.index-a.index).map(s=>s.value))})}function Pi(e,t,o,r){var n=Ii(t)?ky:Ny;return n(e,t,Ee(o),r)}function My(e,t,o){return Pi(yo,e,t,o)}ie(My,3);function Fy(e,t,o,r){return Pi(Tt(t),e,o,r)}ie(Fy,4);function By(e,t,o){return Pi(lr,e,t,o)}ie(By,3);function Hy(e,t){var o=ar(t),r=Ee(Py(e));function n(i){if(i)return o(i);i!==!1&&r(n)}return n()}ie(Hy,2);function $y(e,t,o,r){var n=Ee(o);return Pf(e,t,(i,s)=>{n(i,(a,l)=>a?s(a):s(a,{key:l,val:i}))},(i,s)=>{for(var a={},{hasOwnProperty:l}=Object.prototype,c=0;c<s.length;c++)if(s[c]){var{key:d}=s[c],{val:u}=s[c];l.call(a,d)?a[d].push(u):a[d]=[u]}return r(i,a)})}ie($y,4);function zy(e,t,o,r){r=sr(r);var n={},i=Ee(o);return Tt(t)(e,(s,a,l)=>{i(s,a,(c,d)=>{if(c)return l(c);n[a]=d,l(c)})},s=>r(s,n))}ie(zy,4);If?process.nextTick:wf&&setImmediate;ie((e,t,o)=>{var r=Ii(t)?[]:{};e(t,(n,i,s)=>{Ee(n)((a,...l)=>{l.length<2&&([l]=l),r[i]=l,s(a)})},n=>o(n,r))},3);function Uy(e,t){if(t=sr(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var o=0,r=e.length;o<r;o++)Ee(e[o])(t)}ie(Uy,2);function Ya(e,t,o,r){const n=Ee(o);return Pi(e,t,(i,s)=>{n(i,(a,l)=>{s(a,!l)})},r)}function Vy(e,t,o){return Ya(yo,e,t,o)}ie(Vy,3);function Wy(e,t,o,r){return Ya(Tt(t),e,o,r)}ie(Wy,4);function Gy(e,t,o){return Ya(lr,e,t,o)}ie(Gy,3);function jy(e,t,o){return Bt(Boolean,r=>r)(yo,e,t,o)}ie(jy,3);function Yy(e,t,o,r){return Bt(Boolean,n=>n)(Tt(t),e,o,r)}ie(Yy,4);function Ky(e,t,o){return Bt(Boolean,r=>r)(lr,e,t,o)}ie(Ky,3);function qy(e,t,o){var r=Ee(t);return py(e,(i,s)=>{r(i,(a,l)=>{if(a)return s(a);s(a,{value:i,criteria:l})})},(i,s)=>{if(i)return o(i);o(null,s.sort(n).map(a=>a.value))});function n(i,s){var a=i.criteria,l=s.criteria;return a<l?-1:a>l?1:0}}ie(qy,3);function Xy(e,t){var o=null,r;return Ry(e,(n,i)=>{Ee(n)((s,...a)=>{if(s===!1)return i(s);a.length<2?[r]=a:r=a,o=s,i(s?null:{})})},()=>t(o,r))}ie(Xy);function Jy(e,t,o){o=ar(o);var r=Ee(t),n=Ee(e),i=[];function s(l,...c){if(l)return o(l);i=c,l!==!1&&n(a)}function a(l,c){if(l)return o(l);if(l!==!1){if(!c)return o(null,...i);r(s)}}return n(a)}ie(Jy,3);function Zy(e,t){if(t=sr(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var o=0;function r(i){var s=Ee(e[o++]);s(...i,ar(n))}function n(i,...s){if(i!==!1){if(i||o===e.length)return t(i,...s);r(s)}}r([])}ie(Zy);function Rc(e,t="en"){var n,i,s;if(!e)return"";const o=a=>typeof a=="string"&&a,r=a=>o(e[a])?e[a]:null;return(s=(i=(n=r(t))!=null?n:r("en"))!=null?i:Object.values(e).find(a=>o(a)))!=null?s:""}const Or=(e,t,o)=>{var u,p,h,f,m;const{name:r,fullName:n,postscriptName:i}=e,s=(u=r==null?void 0:r.records)!=null?u:{},a=(h=(p=s.preferredFamily)!=null?p:s.fontFamily)!=null?h:{},l=Rc(a),c=(m=(f=s.preferredSubfamily)!=null?f:s.fontSubfamily)!=null?m:{},d=Rc(c);if(!(!l||!d||l.startsWith(".")))return{type:t,path:o,postscriptName:i,fullName:n,familyName:l,subfamilyName:d,familyNames:a,subfamilyNames:c}};function Qy(e,t,o){var i,s,a;Df(e);const r=(a=(s=(i=e==null?void 0:e.fvar)==null?void 0:i.instance)==null?void 0:s.reduce((l,c)=>c.name?Object.assign(l,{[c.name.en]:c.name}):l,{}))!=null?a:[];function n(l,c,d){return`${l}-${c}${d!=="Regular"?`_${d.replace(/\s+/g,"-")}`:""}`}Object.keys(e.namedVariations).forEach(l=>{const c={...t,subfamilyName:l,subfamilyNames:r[l],postscriptName:n(e.familyName,e.subfamilyName,l),isVariation:!0};o.push(c)})}function Df(e){var r,n;if(!((r=e==null?void 0:e.fvar)!=null&&r.instance))return;const t=(n=e==null?void 0:e.name)==null?void 0:n.records;let o=0;e.fvar.instance.forEach(i=>{var s;if(!i.name){const a={...t.fontSubfamily};o>0&&(a.en=`${(s=a.en)!=null?s:"unknown"}_${o}`),i.name=a,o++}})}async function e_(e,t){try{if(!t)return[];const o=[],r=t.type;if(t.fonts)t.fonts.forEach(n=>{const i=Or(n,r,e);i&&o.push(i)});else if(t.fvar){const n=Or(t,r,e);n&&Qy(t,n,o)}else{const n=Or(t,r,e);n&&o.push(n)}return o}catch(o){return t_(e,o),[]}}function t_(e,t){console.error("ReadFontFileError:",e,`
`,t)}const o_=function(){return["Regular","Regular Italic","Italic","Oblique","Thin","Thin Italic","ExtraLight","ExtraLight Italic","UltraLight","UltraLight Italic","Light","Light Italic","Light Oblique","Medium","Medium Italic","Medium Oblique","Semibold","SemiBold Italic","Demi","DemiBold","DemiBold Italic","Bold","Bold Italic","Bold Oblique","ExtraBold","ExtraBold Italic","UltraBold","UltraBold Italic","Black","Black Italic","Black Oblique","Heavy","Heavy Italic","Heavy Oblique","ExtraBlack","UltraBlack","Condensed","Condensed Thin","Condensed Light","Condensed Medium","Condensed Bold","Condensed ExtraBold","Condensed Black"].reduce((t,o,r)=>Object.assign(t,{[Wr(o)]:r}),{})}();function r_(e,t,o){var a,l;const r=Wr(e),n=Wr(t),i=(a=o[r])!=null?a:9999,s=(l=o[n])!=null?l:9999;return i!==s?i-s:r.localeCompare(n,void 0,{numeric:!0})}function Wr(e){return e.replace(/\s+/g,"").toLowerCase()}function n_(e){if(e&&typeof e=="string"){const t=/^[A-Za-z ]+$/;return e.split("").every(o=>t.test(o))}else return!1}const i_=function(){const e=[[["Thin"],"\u7EA4\u7EC6\u4F53","\u7E96\u7D30\u9AD4"],[["Extra Light","Ultra Light"],"\u6781\u7EC6\u4F53","\u6975\u7D30\u9AD4"],[["Light"],"\u7EC6\u4F53","\u7D30\u9AD4"],[["Regular","Normal"],"\u5E38\u89C4","\u5E38\u898F"],[["Medium"],"\u4E2D\u7B49","\u4E2D\u7B49"],[["Semi Bold","Demi Bold"],"\u534A\u7C97\u4F53","\u534A\u7C97\u9AD4"],[["Bold"],"\u7C97\u4F53","\u7C97\u9AD4"],[["Extra Bold","Ultra Bold"],"\u7279\u7C97\u4F53","\u534A\u7C97\u9AD4"],[["Black","Heavy"],"\u9ED1\u4F53","\u9ED1\u9AD4"],[["Extra Black","Ultra Black"],"\u7279\u9ED1\u4F53","\u7279\u9ED1\u9AD4"]],t=[];return e.forEach(([o,...r])=>{o.forEach(n=>{t.push([Wr(n),...r])})}),t}();function s_(e){["zh","zh-TW","zh-HK","zh-Hant"].forEach(o=>{const r=e.names[o];if(r&&n_(r)){const n=Wr(r),i=i_.find(([s])=>s===n);if(i){let s;o==="zh"?s=i[1]:s=i[2],e.names[o]=s}}})}async function a_(e,t,o={}){const r=[];let n={};return await ja(e,4,async s=>Mf(s).then(async a=>{var c;(c=o.onLoadBuffer)==null||c.call(o,{path:s,bufferView:a});const l=await Nf(a);return e_(s,l)}).then(a=>{a.forEach(l=>{l_(l,n,t)})}).catch(a=>{r.push({path:s,error:a})})),n=c_(n),r.length&&console.warn("load failed font list",r),n}function l_(e,t,o){const{familyNames:r,subfamilyNames:n,...i}=e;let s=t[e.familyName];s||(s={type:e.type,names:r,subFontFamilyType:"intergration",subFontFamilys:{},postscriptName:"",source:o},t[e.familyName]=s);const a={...i,names:n,familyName:e.familyName,source:o};s.subFontFamilys[e.subfamilyName]=a}function c_(e){const t=Object.entries(e).sort(([r],[n])=>r.localeCompare(n,void 0,{numeric:!0}));return t.forEach(([,r])=>{var i;const n=Object.entries(r.subFontFamilys).sort(([s],[a])=>r_(s,a,o_));if(n.forEach(([,s])=>s_(s)),r.subFontFamilys=Object.fromEntries(n),n.length>1){const s=n.map(([,l])=>l.path);new Set(s).size>1&&(r.subFontFamilyType="single")}r.postscriptName=(i=n[0][1])==null?void 0:i.postscriptName}),Object.fromEntries(t)}async function d_(){var o,r,n;const e=[],t=v_();if(t.length>0&&e.push({key:ho.BUILD_IN,paths:t}),globalThis!=null&&globalThis.MeApi){const i=(n=await((r=(o=globalThis==null?void 0:globalThis.MeApi)==null?void 0:o.getFontPaths)==null?void 0:r.call(o)))!=null?n:[];i.length>0&&e.push({key:ho.SYSTEM,paths:i})}return e}function u_(){var e,t,o;return(o=(t=(e=globalThis==null?void 0:globalThis.MeApi)==null?void 0:e.getOsPlatform)==null?void 0:t.call(e))!=null?o:""}function kf(){var e,t,o;return(o=(t=(e=globalThis==null?void 0:globalThis.MeApi)==null?void 0:e.getFetchFileHost)==null?void 0:t.call(e))!=null?o:""}let us;async function f_(){return us||(us=await He(()=>import("../chunk/browser-module-3cdcb576.js"),[],import.meta.url)),us}async function Nf(e,t=""){return e?(await f_()).create(e,t):void 0}async function Mf(e){var r,n,i;if(!e)return;let t;const o=b_(e);return(globalThis==null?void 0:globalThis.MeApi)&&!o?t=await((i=(n=(r=globalThis==null?void 0:globalThis.MeApi)==null?void 0:r.fileHelper)==null?void 0:n.read)==null?void 0:i.call(n,e)):t=await p_(e),t}async function p_(e){const t=await fetch(e);return new Uint8Array(await t.arrayBuffer())}function Pc(e){let t;if(typeof e=="string"&&e){const o=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]?|[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g;t=e.match(o)}return t!=null?t:[]}function h_(){const e=Object.values(Object.assign({"/src/assets/fonts/build-in/01_Stardos_Stencil/StardosStencil-Bold.ttf":l0,"/src/assets/fonts/build-in/01_Stardos_Stencil/StardosStencil-Regular.ttf":c0,"/src/assets/fonts/build-in/02_Londrina_Outline/LondrinaOutline-Regular.ttf":d0,"/src/assets/fonts/build-in/03_Amita/Amita-Bold.ttf":u0,"/src/assets/fonts/build-in/03_Amita/Amita-Regular.ttf":f0,"/src/assets/fonts/build-in/04_Lobster/Lobster-Regular.ttf":p0,"/src/assets/fonts/build-in/05_Atma/Atma-Bold.ttf":h0,"/src/assets/fonts/build-in/05_Atma/Atma-Light.ttf":m0,"/src/assets/fonts/build-in/05_Atma/Atma-Regular.ttf":g0,"/src/assets/fonts/build-in/06_Combo/Combo-Regular.ttf":v0,"/src/assets/fonts/build-in/07_Dancing_Script/DancingScript-Bold.ttf":C0,"/src/assets/fonts/build-in/07_Dancing_Script/DancingScript-Medium.ttf":b0,"/src/assets/fonts/build-in/07_Dancing_Script/DancingScript-Regular.ttf":E0,"/src/assets/fonts/build-in/08_Alegreya_SC/AlegreyaSC-Bold.ttf":S0,"/src/assets/fonts/build-in/08_Alegreya_SC/AlegreyaSC-Italic.ttf":y0,"/src/assets/fonts/build-in/08_Alegreya_SC/AlegreyaSC-Medium.ttf":_0,"/src/assets/fonts/build-in/08_Alegreya_SC/AlegreyaSC-Regular.ttf":x0,"/src/assets/fonts/build-in/09_Caveat/Caveat-Bold.ttf":T0,"/src/assets/fonts/build-in/09_Caveat/Caveat-Medium.ttf":A0,"/src/assets/fonts/build-in/09_Caveat/Caveat-Regular.ttf":w0,"/src/assets/fonts/build-in/09_Caveat/Caveat-SemiBold.ttf":I0,"/src/assets/fonts/build-in/10_Gorditas/Gorditas-Bold.ttf":R0,"/src/assets/fonts/build-in/10_Gorditas/Gorditas-Regular.ttf":P0,"/src/assets/fonts/build-in/11_Life_Savers/LifeSavers-Bold.ttf":L0,"/src/assets/fonts/build-in/11_Life_Savers/LifeSavers-Regular.ttf":O0,"/src/assets/fonts/build-in/12_Shalimar/Shalimar-Regular.ttf":D0,"/src/assets/fonts/build-in/13_Space_Grotesk/SpaceGrotesk-Bold.ttf":k0,"/src/assets/fonts/build-in/13_Space_Grotesk/SpaceGrotesk-Light.ttf":N0,"/src/assets/fonts/build-in/13_Space_Grotesk/SpaceGrotesk-Medium.ttf":M0,"/src/assets/fonts/build-in/13_Space_Grotesk/SpaceGrotesk-Regular.ttf":F0,"/src/assets/fonts/build-in/13_Space_Grotesk/SpaceGrotesk-SemiBold.ttf":B0,"/src/assets/fonts/build-in/14_Grandstander/Grandstander-Bold.ttf":H0,"/src/assets/fonts/build-in/14_Grandstander/Grandstander-BoldItalic.ttf":$0,"/src/assets/fonts/build-in/14_Grandstander/Grandstander-Light.ttf":z0,"/src/assets/fonts/build-in/14_Grandstander/Grandstander-LightItalic.ttf":U0,"/src/assets/fonts/build-in/14_Grandstander/Grandstander-Medium.ttf":V0,"/src/assets/fonts/build-in/14_Grandstander/Grandstander-Regular.ttf":W0,"/src/assets/fonts/build-in/14_Grandstander/Grandstander-Thin.ttf":G0,"/src/assets/fonts/build-in/15_Lato/Lato-Bold.ttf":j0,"/src/assets/fonts/build-in/15_Lato/Lato-BoldItalic.ttf":Y0,"/src/assets/fonts/build-in/15_Lato/Lato-Italic.ttf":K0,"/src/assets/fonts/build-in/15_Lato/Lato-Regular.ttf":Af}));return e.length||console.error("Error: Build-in font assets is empty, check if font directory is the wrong place!"),e}function m_(){const e=Object.values(Object.assign({"/src/assets/fonts/build-in/15_Lato/Lato-Regular.ttf":Af}))[0];return e||console.error("Error: Default font is empty, check if font is the wrong place!"),e}function g_(){const e=Object.values(Object.assign({"/src/assets/fonts/DroidSansFallback.ttf":q0}))[0];return e||console.error("Error: Build-in fallback font is empty, check if font is the wrong place!"),e}var ho=(e=>(e.BUILD_IN="build-in",e.SYSTEM="system",e))(ho||{});let _n;function v_(){return _n||(_n=h_().map(t=>Ka(t)),_n)}function Ka(e){var n;const t=new URL(import.meta.url).origin,o=kf();let r=new URL(e,(n=globalThis==null?void 0:globalThis.location)==null?void 0:n.origin).href;return o&&(r=r.replace(t,o)),r}function C_(){const e=kf(),t=["http:","https:","ws:","wws:"];return e&&t.push(e),new RegExp(`^(${t.join("|")})`)}let fs;function b_(e){return fs||(fs=C_()),fs.test(e)}let xn;function br(){return xn||(xn={familyName:"Lato",subfamilyName:"Regular",postscriptName:"Lato-Regular",source:"build-in",path:Ka(m_())},xn)}let Tn;function ra(){return Tn||(Tn={familyName:"Droid Sans Fallback",subfamilyName:"Regular",postscriptName:"DroidSansFallback",source:"build-in",path:Ka(g_())},Tn)}const E_={win32:[{familyName:"Microsoft YaHei",subfamilyName:"Regular",postscriptName:"MicrosoftYaHei",source:"system"},{familyName:"Microsoft JhengHei",subfamilyName:"Regular",postscriptName:"MicrosoftJhengHeiRegular",source:"system"},{familyName:"SimHei",subfamilyName:"Regular",postscriptName:"SimHei",source:"system"},{familyName:"STSong",subfamilyName:"Regular",postscriptName:"STSong",source:"system"},{familyName:"SimSun",subfamilyName:"Regular",postscriptName:"SimSun",source:"system"},{familyName:"Yu Gothic",subfamilyName:"Regular",postscriptName:"YuGothic-Regular",source:"system"},{familyName:"Malgun Gothic",subfamilyName:"Regular",postscriptName:"MalgunGothic",source:"system"}],darwin:[{familyName:"PingFang SC",subfamilyName:"Regular",postscriptName:"PingFangSC-Regular",source:"system"},{familyName:"PingFang TC",subfamilyName:"Regular",postscriptName:"PingFangTC-Regular",source:"system"},{familyName:"STHeiti",subfamilyName:"Regular",postscriptName:"STHeiti",source:"system"},{familyName:"STSong",subfamilyName:"Regular",postscriptName:"STSong",source:"system"},{familyName:"SimSong",subfamilyName:"Regular",postscriptName:"SimSong-Regular",source:"system"},{familyName:"Toppan Bunkyu Gothic",subfamilyName:"Regular",postscriptName:"ToppanBunkyuGothicPr6N-Regular",source:"system"},{familyName:"Nanum Gothic",subfamilyName:"Regular",postscriptName:"NanumGothic",source:"system"},{familyName:"Arial Unicode MS",subfamilyName:"Regular",postscriptName:"ArialUnicodeMS",source:"system"}]};function S_(){var o;const e=u_();return[ra()].concat((o=E_[e])!=null?o:[])}const na=25.4;var Ct;class y_{constructor(){H(this,"fontList");H(this,"_getFontListPromise");pe(this,Ct,new Yn(t=>!t.familyName||!t.subfamilyName||!t.source?(console.warn("familyName, subfamilyName\u6216source\u4E0D\u5E94\u8BE5\u4E3A\u7A7A",t),""):`[${t.familyName},${t.subfamilyName}],${t.source}`));H(this,"charToGlyph",new Map);H(this,"glyphCache",new Map);H(this,"currentFont");this._init()}_init(){[br(),ra()].forEach(o=>{V(this,Ct).setPersistent(o),this.resolveFont(o)})}async getGroupedFontList(){return this.fontList?this.fontList:this._getFontListPromise?this._getFontListPromise:(console.time("getFontList"),this._getFontListPromise=d_().then(this._getFontGroupsAction),this.fontList=await this._getFontListPromise,console.timeEnd("getFontList"),this.fontList)}async _getFontGroupsAction(t){const o={},r=[];for(const n of t){const i=a_(n.paths,n.key,n.key===ho.BUILD_IN?{onLoadBuffer:({path:s,bufferView:a})=>T_(s,a)}:void 0).then(s=>{const a={key:n.key,fonts:s};o[n.key]=a});r.push(i)}return Promise.allSettled(r).then(()=>o)}async preloadTextGlyphs(t){if(!t)return;const{fontFamily:o,fontSubfamily:r,fontSource:n,text:i,fontSize:s=na}=t,a={familyName:o,subfamilyName:r,source:n};for(const l of Pc(i)){const c=this._charKeyOf(l,a);if(this.charToGlyph.has(c))continue;let d;const u=await this._resolveCharGlyph(l,s,this.fontsForSearchGlyph(a)).catch(console.warn);if(u){const{fontData:p,glyphData:h,hasDef:f}=u;d=this._charKeyOf(f?l:"(.notdef)",p),this.glyphCache.has(d)||this.glyphCache.set(d,h)}this.charToGlyph.set(c,d)}}getTextGlyphsSync(t){var p;if(!t)return;const{fontFamily:o,fontSubfamily:r,fontSource:n,text:i,fontSize:s=na}=t,a={familyName:o,subfamilyName:r,source:n},l={};for(const h of Pc(i)){const f=this._charKeyOf(h,a);let m=this.charToGlyph.get(f);if(m)l[h]=this.glyphCache.get(m);else{const v=this._getGlyphSync(h,s,this.fontsForSearchGlyph(a));if(v){const{fontData:C,glyphData:E,hasDef:R}=v;m=this._charKeyOf(R?h:"(.notdef)",C),this.glyphCache.has(m)||this.glyphCache.set(m,E),this.charToGlyph.set(f,m),l[h]=E}this.charToGlyph.set(f,m)}}const c=(p=this._getCachedFont(a))!=null?p:this._getCachedFont(br());let d={};if(c){const h=ps(c),f=(1/h||1e3)*s;d={unitsPerEm:h,lineHeight:Math.abs(c.ascent-c.descent)*f}}return{fontInfo:d,glyphData:l}}setCurrentFont(t){var i;const o=t!=null?t:{},r=(i=this.currentFont)!=null?i:{};!Oc(o,r)||(this.currentFont&&this.clearCurrentFont(),t&&(V(this,Ct).setPersistent(t),this.currentFont=t))}clearCurrentFont(){if(!this.currentFont)return;const t=this.currentFont;[br(),ra()].find(n=>Oc(t,n))||V(this,Ct).cancelPersistent(t),this.currentFont=void 0}async resolveFont(t){let o;if(V(this,Ct).has(t))o=V(this,Ct).get(t);else{const r=t.path||this.getFontPathInList(t.familyName,t.subfamilyName,t.source);r&&(o=await x_(r,t).catch(console.warn),o&&V(this,Ct).set(t,o))}return o||console.warn("font is not available",t),o}_getCachedFont(t){return V(this,Ct).get(t)}getFontPathInList(t,o,r){var n,i,s,a,l;if(!!this.fontList)return(l=(a=(s=(i=(n=this.fontList)==null?void 0:n[r])==null?void 0:i.fonts[t])==null?void 0:s.subFontFamilys)==null?void 0:a[o])==null?void 0:l.path}getFont(t){var o,r,n,i,s;return(s=(i=(n=(r=(o=this.fontList)==null?void 0:o[t.fontSource])==null?void 0:r.fonts)==null?void 0:n[t.fontFamily])==null?void 0:i.subFontFamilys)==null?void 0:s[t.fontSubfamily]}getSubstitutedFontData(t){if(!this.fontList||this.getFont(t))return;let o,r;for(const i of Object.values(ho))if(i!==t.fontSource&&(r={...t,fontSource:i},o=this.getFont(r),o))return r;const n=br();return r={fontSource:ho.BUILD_IN,fontFamily:n.familyName,fontSubfamily:n.subfamilyName},r}_charKeyOf(t,o){return[t,[o.familyName,o.subfamilyName].join("|")].join("|")}async _resolveCharGlyph(t,o,r){const n=t.codePointAt(0);if(n!==void 0)try{let i;for(const s of r){const a=await this.resolveFont(s);if(a){const l=a.hasGlyphForCodePoint(n),c=a.glyphForCodePoint(n),d=Lc(c,ps(a),o);if(!d){console.warn("ignore empty glyphData  for",{char:t});continue}const u=Boolean(d.dPath),p={fontData:s,glyphData:d,hasDef:l,isVisible:u};if(l)return p;!i&&u&&(i=p)}}return i}catch(i){console.error("fail resolve glyph",i)}}_getGlyphSync(t,o,r){const n=t.codePointAt(0);if(n!==void 0)try{let i;for(const s of r){const a=this._getCachedFont(s);if(a){const l=a.hasGlyphForCodePoint(n),c=a.glyphForCodePoint(n),d=Lc(c,ps(a),o);if(!d){console.warn("ignore empty glyphData  for",{char:t});continue}const u=Boolean(d.dPath),p={fontData:s,glyphData:d,hasDef:l,isVisible:u};if(l)return p;!i&&u&&(i=p)}}return i}catch(i){console.error("fail get glyph",i)}}*fontsForSearchGlyph(t){t&&(yield t),yield br(),yield*S_()}getFamilyItem(t){var o,r,n;return(n=(r=(o=this.fontList)==null?void 0:o[t.fontSource])==null?void 0:r.fonts)==null?void 0:n[t.fontFamily]}}Ct=new WeakMap;function __(e,t,o){if(!e)return;let r;if(e.type==="TTC"&&Array.isArray(e.fonts))r=e.fonts.find(n=>{const{subfamilyName:i}=Or(n,n.type,"")||{};return i===o});else{const{subfamilyName:n}=Or(e,e.type,"")||{};e.fvar?(Df(e),r=e.getVariation(o)):n===o&&(r=e)}return r||console.warn(`There has no actual font of [${t}, ${o}]`),r}function Lc(e,t=1e3,o=na){if(!e)return;let r=0,n=0;try{r=e.advanceWidth,n=e.advanceHeight}catch{}const i=1/t*o;return{dPath:e.getScaledPath(o).scale(1,-1).toSVG(),advanceWidth:r*i,advanceHeight:n*i}}async function x_(e,t){if(!e)return;const o=await Mf(e);let r=await Nf(o);return r&&(r=__(r,t.familyName,t.subfamilyName)),r}async function T_(e,t){var n,i,s;if(!e)return;const o=(n=e.split("/").slice(-1)[0].match(/[^.]+(?=.)/))==null?void 0:n[0];if(!o)return;const r=new FontFace(o,t);r.load(),(s=(i=globalThis==null?void 0:globalThis.document)==null?void 0:i.fonts)!=null&&s.add&&globalThis.document.fonts.add(r)}function Oc(e,t){return e.familyName===t.familyName&&e.subfamilyName===t.subfamilyName&&e.source===t.source}function Li(e){var r,n,i;const t={fontFamily:"",fontSubfamily:"",fontSource:""},o=e.style;return o&&(t.fontFamily=(r=Array.isArray(o.fontFamily)?o.fontFamily[0]:o.fontFamily)!=null?r:"",t.fontSubfamily=(n=o.fontSubfamily)!=null?n:"",t.fontSource=(i=o.fontSource)!=null?i:""),t}function A_(e){return{familyName:e.fontFamily,subfamilyName:e.fontSubfamily,source:e.fontSource}}function ps(e){try{return e.unitsPerEm}catch{return 1e3}}const w_=["zh-CN","en-US"],Fe={zh:"zh-CN","zh-CN":"zh-CN",en:"en-US","en-US":"en-US","zh-hant":"zh-hant","zh-TW":"zh-hant","zh-HK":"zh-hant",de:"de",es:"es","es-ES":"es",fr:"fr",it:"it",ja:"ja",ko:"ko",uk:"uk"},Dc=Fe["en-US"],FL=[{lang:Fe["en-US"],label:"English"},{lang:Fe["zh-CN"],label:"\u7B80\u4F53\u4E2D\u6587"},{lang:Fe["zh-hant"],label:"\u7E41\u9AD4\u4E2D\u6587"},{lang:Fe.de,label:"Deutsch"},{lang:Fe.es,label:"Espa\xF1ol"},{lang:Fe.fr,label:"Fran\xE7ais"},{lang:Fe.it,label:"Italiano"},{lang:Fe.ja,label:"\u65E5\u672C\u8A9E"},{lang:Fe.ko,label:"\uD55C\uAD6D\uC5B4"},{lang:Fe.uk,label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430"}];Fe["en-US"],Fe["zh-CN"];const ia=[],sa=[];let St;function Ff(e){var t;(t=document.querySelector("html"))==null||t.setAttribute("lang",e)}function Bf(){let e=po().get("LANG_KEY")||navigator.language;return Fe[e]||(e="en-US"),Fe[e]}async function aa(e){let t={};try{if(w_.includes(e)){const o=await jm(Object.assign({"./lang/en-US.ts":()=>He(()=>import("../chunk/en-us-395fc92d.js"),[],import.meta.url),"./lang/zh-CN.ts":()=>He(()=>import("../chunk/zh-cn-00dec8e2.js"),[],import.meta.url)}),`./lang/${e}.ts`);t=o==null?void 0:o.default}else{const o=await He(()=>import("../chunk/index-775fc9be.js"),[],import.meta.url);t=(o==null?void 0:o.default)[e]}}catch(o){console.log("locale getMessage err: ",o),t={}}return t!=null?t:{}}async function I_(){const e=Bf(),t=await aa(Dc),o=await aa(e);return Ff(e),ia.push(e),{locale:e,legacy:!1,fallbackLocale:Fe["en-US"],messages:{[Dc]:t,[e]:o},globalInjection:!0,silentTranslationWarn:!0,missingWarn:!1,silentFallbackWarn:!0}}function kc(e){St.mode==="legacy"?St.global.locale=e:St.global.locale.value=e,Ff(e)}async function R_(e){const t=St.global;if(t.locale===e)return e;if(ia.includes(e))return kc(e),e;const r=await aa(e);t.setLocaleMessage(e,r);for(let n=0;n<sa.length;n++){const i=sa[n](e);Hf(e,i)}return ia.push(e),kc(e),e}async function P_(){const e=await I_();return St=wm(e),St}function Hf(e,t){const o=St.global,{messages:r,datetimeFormats:n,numberFormats:i}=t;r&&o.mergeLocaleMessage(e,r),n&&o.mergeDateTimeFormat(e,n),i&&o.mergeNumberFormat(e,i)}function BL(e){sa.push(e);const t=St.mode==="legacy"?St.global.locale:St.global.locale.value,o=e(t);return Hf(t,o),e}class L_{constructor(t){this.standards={strict:"strict",loose:"loose",html5:"html5"},this.previewBody=null,this.close=null,this.previewBodyUtilPrintBtn=null,this.selectArray=[],this.counter=0,this.settings={standard:this.standards.html5},Object.assign(this.settings,t),this.init()}init(){this.counter++,this.settings.id=`printArea_${this.counter}`;let t="";this.settings.url&&!this.settings.asyncUrl&&(t=this.settings.url);let o=this;if(this.settings.asyncUrl)return void o.settings.asyncUrl(function(n){let i=o.getPrintWindow(n);o.settings.preview?o.previewIfrmaeLoad():o.print(i)},o.settings.vue);let r=this.getPrintWindow(t);this.settings.url||this.write(r.doc),this.settings.preview?this.previewIfrmaeLoad():this.print(r)}addEvent(t,o,r){t.addEventListener?t.addEventListener(o,r,!1):t.attachEvent?t.attachEvent("on"+o,r):t["on"+o]=r}previewIfrmaeLoad(){let t=document.getElementById("vue-pirnt-nb-previewBox");if(t){let o=this,r=t.querySelector("iframe");this.settings.previewBeforeOpenCallback(),this.addEvent(r,"load",function(){o.previewBoxShow(),o.removeCanvasImg(),o.settings.previewOpenCallback()}),this.addEvent(t.querySelector(".previewBodyUtilPrintBtn"),"click",function(){o.settings.beforeOpenCallback(),o.settings.openCallback(),r.contentWindow.print(),o.settings.closeCallback()})}}removeCanvasImg(){let t=this;try{if(t.elsdom){let o=t.elsdom.querySelectorAll(".canvasImg");for(let r=0;r<o.length;r++)o[r].remove()}}catch(o){console.log(o)}}print(t){var o=this;let r=document.getElementById(this.settings.id)||t.f,n=document.getElementById(this.settings.id).contentWindow||t.f.contentWindow;o.settings.beforeOpenCallback(),o.addEvent(r,"load",function(){n.focus(),o.settings.openCallback(),n.print(),r.remove(),o.settings.closeCallback(),o.removeCanvasImg()})}write(t){t.open(),t.write(`${this.docType()}<html>${this.getHead()}${this.getBody()}</html>`),t.close()}docType(){return this.settings.standard===this.standards.html5?"<!DOCTYPE html>":`<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01${this.settings.standard===this.standards.loose?" Transitional":""}//EN" "http://www.w3.org/TR/html4/${this.settings.standard===this.standards.loose?"loose":"strict"}.dtd">`}getHead(){let t="",o="",r="";this.settings.extraHead&&this.settings.extraHead.replace(/([^,]+)/g,i=>{t+=i}),[].forEach.call(document.querySelectorAll("link"),function(i){i.href.indexOf(".css")>=0&&(o+=`<link type="text/css" rel="stylesheet" href="${i.href}" >`)});let n=document.styleSheets;if(n&&n.length>0)for(let i=0;i<n.length;i++)try{if(n[i].cssRules||n[i].rules){let s=n[i].cssRules||n[i].rules;for(let a=0;a<s.length;a++)r+=s[a].cssText}}catch(s){console.log(n[i].href+s)}return this.settings.extraCss&&this.settings.extraCss.replace(/([^,\s]+)/g,i=>{o+=`<link type="text/css" rel="stylesheet" href="${i}">`}),`<head><title>${this.settings.popTitle}</title>${t}${o}<style type="text/css">${r}</style></head>`}getBody(){let t=this.settings.ids;return t=t.replace(new RegExp("#","g"),""),this.elsdom=this.beforeHanler(document.getElementById(t)),"<body>"+this.getFormData(this.elsdom).outerHTML+"</body>"}beforeHanler(t){let o=t.querySelectorAll("canvas");for(let r=0;r<o.length;r++)if(!o[r].style.display){let n=o[r].parentNode,i=o[r].toDataURL("image/png"),s=new Image;s.className="canvasImg",s.style.display="none",s.src=i,n.appendChild(s)}return t}getFormData(t){let o=t.cloneNode(!0),r=o.querySelectorAll("input,select,textarea"),n=o.querySelectorAll(".canvasImg,canvas"),i=-1;for(let s=0;s<n.length;s++){let a=n[s].parentNode,l=n[s];l.tagName.toLowerCase()==="canvas"?a.removeChild(l):l.style.display="block"}for(let s=0;s<r.length;s++){let a=r[s],l=a.getAttribute("type"),c=r[s];if(l||(l=a.tagName==="SELECT"?"select":a.tagName==="TEXTAREA"?"textarea":""),a.tagName==="INPUT")l==="radio"||l==="checkbox"?a.checked&&c.setAttribute("checked",a.checked):(c.value=a.value,c.setAttribute("value",a.value));else if(l==="select"){i++;for(let d=0;d<t.querySelectorAll("select").length;d++){let u=t.querySelectorAll("select")[d];if(!u.getAttribute("newbs")&&u.setAttribute("newbs",d),u.getAttribute("newbs")==i){let p=t.querySelectorAll("select")[i].selectedIndex;a.options[p].setAttribute("selected",!0)}}}else c.innerHTML=a.value,c.setAttribute("html",a.value)}return o}getPrintWindow(t){var o=this.Iframe(t);return{f:o,win:o.contentWindow||o,doc:o.doc}}previewBoxShow(){let t=document.getElementById("vue-pirnt-nb-previewBox");t&&(document.querySelector("html").setAttribute("style","overflow: hidden"),t.style.display="block")}previewBoxHide(){let t=document.getElementById("vue-pirnt-nb-previewBox");t&&(document.querySelector("html").setAttribute("style","overflow: visible;"),t.querySelector("iframe")&&t.querySelector("iframe").remove(),t.style.display="none")}previewBox(){let t=document.getElementById("vue-pirnt-nb-previewBox"),o="previewBody";if(t)return t.querySelector("iframe")&&t.querySelector("iframe").remove(),{close:t.querySelector(".previewClose"),previewBody:t.querySelector(".previewBody")};let r=document.createElement("div");r.setAttribute("id","vue-pirnt-nb-previewBox"),r.setAttribute("style","position: fixed;top: 0px;left: 0px;width: 100%;height: 100%;background: white;display:none"),r.style.zIndex=this.settings.zIndex;let n=document.createElement("div");n.setAttribute("class","previewHeader"),n.setAttribute("style","padding: 5px 20px;"),n.innerHTML=this.settings.previewTitle,r.appendChild(n),this.close=document.createElement("div");let i=this.close;i.setAttribute("class","previewClose"),i.setAttribute("style","position: absolute;top: 5px;right: 20px;width: 25px;height: 20px;cursor: pointer;");let s=document.createElement("div"),a=document.createElement("div");s.setAttribute("class","closeBefore"),s.setAttribute("style","position: absolute;width: 3px;height: 100%;background: #040404;transform: rotate(45deg); top: 0px;left: 50%;"),a.setAttribute("class","closeAfter"),a.setAttribute("style","position: absolute;width: 3px;height: 100%;background: #040404;transform: rotate(-45deg); top: 0px;left: 50%;"),i.appendChild(s),i.appendChild(a),n.appendChild(i),this.previewBody=document.createElement("div");let l=this.previewBody;l.setAttribute("class",o),l.setAttribute("style","display: flex;flex-direction: column; height: 100%;"),r.appendChild(l);let c=document.createElement("div");c.setAttribute("class","previewBodyUtil"),c.setAttribute("style","height: 32px;background: #474747;position: relative;"),l.appendChild(c),this.previewBodyUtilPrintBtn=document.createElement("div");let d=this.previewBodyUtilPrintBtn;return d.setAttribute("class","previewBodyUtilPrintBtn"),d.innerHTML=this.settings.previewPrintBtnLabel,d.setAttribute("style","position: absolute;padding: 2px 10px;margin-top: 3px;left: 24px;font-size: 14px;color: white;cursor: pointer;background-color: rgba(0,0,0,.12);background-image: linear-gradient(hsla(0,0%,100%,.05),hsla(0,0%,100%,0));background-clip: padding-box;border: 1px solid rgba(0,0,0,.35);border-color: rgba(0,0,0,.32) rgba(0,0,0,.38) rgba(0,0,0,.42);box-shadow: inset 0 1px 0 hsla(0,0%,100%,.05), inset 0 0 1px hsla(0,0%,100%,.15), 0 1px 0 hsla(0,0%,100%,.05);"),c.appendChild(d),document.body.appendChild(r),{close:this.close,previewBody:this.previewBody}}iframeBox(t,o){let r=document.createElement("iframe");return r.style.border="0px",r.style.position="absolute",r.style.width="0px",r.style.height="0px",r.style.right="0px",r.style.top="0px",r.setAttribute("id",t),r.setAttribute("src",o),r}Iframe(t){let o=this.settings.id;t=t||new Date().getTime();let r=this,n=this.iframeBox(o,t);try{if(this.settings.preview){n.setAttribute("style","border: 0px;flex: 1;");let i=this.previewBox(),s=i.previewBody,a=i.close;s.appendChild(n),this.addEvent(a,"click",function(){r.previewBoxHide()})}else document.body.appendChild(n);n.doc=null,n.doc=n.contentDocument?n.contentDocument:n.contentWindow?n.contentWindow.document:n.document}catch(i){throw new Error(i+". iframes may not be supported in this browser.")}if(n.doc==null)throw new Error("Cannot find document.");return n}}var $f={directiveName:"print",mounted(e,t,o){let r=t.instance,n="";var i,s,a;s="click",a=()=>{if(typeof t.value=="string")n=t.value;else{if(typeof t.value!="object"||!t.value.id)return void window.print();{n=t.value.id;let c=n.replace(new RegExp("#","g"),"");document.getElementById(c)||(console.log("id in Error"),n="")}}l()},(i=e).addEventListener?i.addEventListener(s,a,!1):i.attachEvent?i.attachEvent("on"+s,a):i["on"+s]=a;const l=()=>{new L_({ids:n,vue:r,url:t.value.url,standard:"",extraHead:t.value.extraHead,extraCss:t.value.extraCss,zIndex:t.value.zIndex||20002,previewTitle:t.value.previewTitle||"\u6253\u5370\u9884\u89C8",previewPrintBtnLabel:t.value.previewPrintBtnLabel||"\u6253\u5370",popTitle:t.value.popTitle,preview:t.value.preview||!1,asyncUrl:t.value.asyncUrl,previewBeforeOpenCallback(){t.value.previewBeforeOpenCallback&&t.value.previewBeforeOpenCallback(r)},previewOpenCallback(){t.value.previewOpenCallback&&t.value.previewOpenCallback(r)},openCallback(){t.value.openCallback&&t.value.openCallback(r)},closeCallback(){t.value.closeCallback&&t.value.closeCallback(r)},beforeOpenCallback(){t.value.beforeOpenCallback&&t.value.beforeOpenCallback(r)}})}},install:function(e){e.directive("print",$f)}},Gt=(e=>(e.unknown="unknown",e.success="success",e.fail="fail",e.interrupt="interrupt",e))(Gt||{}),Rt=(e=>(e.DEFAULT="default",e.SAVED="saved",e.CANCEL="cancel",e.EDITED="edited",e.SAVING="saving",e.OPEN_ERROR="openError",e))(Rt||{}),Fo=(e=>(e[e.SHOW=0]="SHOW",e[e.HIDE=1]="HIDE",e))(Fo||{}),qa=(e=>(e.LIGHT="light",e.DARK="dark",e))(qa||{}),Xa=(e=>(e.REPLACE_FONT="replace-font",e.TO_PATHS="to-paths",e))(Xa||{}),zf=(e=>(e.Square="square",e.Round="round",e.Miter="miter",e))(zf||{}),Uf=(e=>(e.ClosedPolygon="closedPolygon",e.ClosedLine="closedLine",e.OpenButt="openButt",e.OpenSquare="openSquare",e.OpenRound="openRound",e))(Uf||{});function Ja(e){return e.composedPath()[0]||null}function Oi(e=8){return Math.random().toString(16).slice(2,2+e)}function HL(e,t){const o=[];if(!t){for(let r=0;r<e;++r)o.push(r);return o}for(let r=0;r<e;++r)o.push(t(r));return o}function O_(e,t="default",o=[]){const n=e.$slots[t];return n===void 0?o:n()}function Gr(e,t=[],o){const r={};return t.forEach(n=>{r[n]=e[n]}),Object.assign(r,o)}function Za(e,t=[],o){const r={};return Object.getOwnPropertyNames(e).forEach(i=>{t.includes(i)||(r[i]=e[i])}),Object.assign(r,o)}function si(e,t=!0,o=[]){return e.forEach(r=>{if(r!==null){if(typeof r!="object"){(typeof r=="string"||typeof r=="number")&&o.push(Ko(String(r)));return}if(Array.isArray(r)){si(r,t,o);return}if(r.type===kt){if(r.children===null)return;Array.isArray(r.children)&&si(r.children,t,o)}else r.type!==Ta&&o.push(r)}}),o}function no(e,...t){if(Array.isArray(e))e.forEach(o=>no(o,...t));else return e(...t)}function Di(e){return Object.keys(e)}const Je=(e,...t)=>typeof e=="function"?e(...t):typeof e=="string"?Ko(e):typeof e=="number"?Ko(String(e)):null;function D_(e,t="default",o=void 0){const r=e[t];if(!r)return Jn("getFirstSlotVNode",`slot[${t}] is empty`),null;const n=si(r(o));return n.length===1?n[0]:(Jn("getFirstSlotVNode",`slot[${t}] should have exactly one child`),null)}function an(e){return e.some(t=>Im(t)?!(t.type===Ta||t.type===kt&&!an(t.children)):!0)?e:null}function Nc(e,t){return e&&an(e())||t()}function $L(e,t,o){return e&&an(e(t))||o(t)}function bt(e,t){const o=e&&an(e());return t(o||null)}function k_(e){return!(e&&an(e()))}const Mc=ce({render(){var e,t;return(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e)}});function Fc(e){return e.replace(/#|\(|\)|,|\s/g,"_")}function N_(e,t){if(e===void 0)return!1;if(t){const{context:{ids:o}}=t;return o.has(e)}return sm(e)!==null}const _o=typeof document<"u"&&typeof window<"u",Vf=new WeakSet;function zL(e){Vf.add(e)}function M_(e){return!Vf.has(e)}function F_(e){const t=Q(!!e.value);if(t.value)return qo(t);const o=Ue(e,r=>{r&&(t.value=!0,o())});return qo(t)}function la(e){const t=X(e),o=Q(t.value);return Ue(t,r=>{o.value=r}),typeof e=="function"?o:{__v_isRef:!0,get value(){return o.value},set value(r){e.set(r)}}}function Wf(){return ru()!==null}const Qa=typeof window<"u";let zo,Dr;const B_=()=>{var e,t;zo=Qa?(t=(e=document)===null||e===void 0?void 0:e.fonts)===null||t===void 0?void 0:t.ready:void 0,Dr=!1,zo!==void 0?zo.then(()=>{Dr=!0}):Dr=!0};B_();function H_(e){if(Dr)return;let t=!1;Eo(()=>{Dr||zo==null||zo.then(()=>{t||e()})}),_t(()=>{t=!0})}function Kn(e){return e.composedPath()[0]}const $_={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function z_(e,t,o){if(e==="mousemoveoutside"){const r=n=>{t.contains(Kn(n))||o(n)};return{mousemove:r,touchstart:r}}else if(e==="clickoutside"){let r=!1;const n=s=>{r=!t.contains(Kn(s))},i=s=>{!r||t.contains(Kn(s))||o(s)};return{mousedown:n,mouseup:i,touchstart:n,touchend:i}}return console.error(`[evtd/create-trap-handler]: name \`${e}\` is invalid. This could be a bug of evtd.`),{}}function Gf(e,t,o){const r=$_[e];let n=r.get(t);n===void 0&&r.set(t,n=new WeakMap);let i=n.get(o);return i===void 0&&n.set(o,i=z_(e,t,o)),i}function U_(e,t,o,r){if(e==="mousemoveoutside"||e==="clickoutside"){const n=Gf(e,t,o);return Object.keys(n).forEach(i=>{rt(i,document,n[i],r)}),!0}return!1}function V_(e,t,o,r){if(e==="mousemoveoutside"||e==="clickoutside"){const n=Gf(e,t,o);return Object.keys(n).forEach(i=>{$e(i,document,n[i],r)}),!0}return!1}function W_(){if(typeof window>"u")return{on:()=>{},off:()=>{}};const e=new WeakMap,t=new WeakMap;function o(){e.set(this,!0)}function r(){e.set(this,!0),t.set(this,!0)}function n(b,x,L){const F=b[x];return b[x]=function(){return L.apply(b,arguments),F.apply(b,arguments)},b}function i(b,x){b[x]=Event.prototype[x]}const s=new WeakMap,a=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function l(){var b;return(b=s.get(this))!==null&&b!==void 0?b:null}function c(b,x){a!==void 0&&Object.defineProperty(b,"currentTarget",{configurable:!0,enumerable:!0,get:x!=null?x:a.get})}const d={bubble:{},capture:{}},u={};function p(){const b=function(x){const{type:L,eventPhase:F,bubbles:z}=x,G=Kn(x);if(F===2)return;const O=F===1?"capture":"bubble";let I=G;const P=[];for(;I===null&&(I=window),P.push(I),I!==window;)I=I.parentNode||null;const B=d.capture[L],M=d.bubble[L];if(n(x,"stopPropagation",o),n(x,"stopImmediatePropagation",r),c(x,l),O==="capture"){if(B===void 0)return;for(let te=P.length-1;te>=0&&!e.has(x);--te){const ne=P[te],ue=B.get(ne);if(ue!==void 0){s.set(x,ne);for(const _e of ue){if(t.has(x))break;_e(x)}}if(te===0&&!z&&M!==void 0){const _e=M.get(ne);if(_e!==void 0)for(const Ne of _e){if(t.has(x))break;Ne(x)}}}}else if(O==="bubble"){if(M===void 0)return;for(let te=0;te<P.length&&!e.has(x);++te){const ne=P[te],ue=M.get(ne);if(ue!==void 0){s.set(x,ne);for(const _e of ue){if(t.has(x))break;_e(x)}}}}i(x,"stopPropagation"),i(x,"stopImmediatePropagation"),c(x)};return b.displayName="evtdUnifiedHandler",b}function h(){const b=function(x){const{type:L,eventPhase:F}=x;if(F!==2)return;const z=u[L];z!==void 0&&z.forEach(G=>G(x))};return b.displayName="evtdUnifiedWindowEventHandler",b}const f=p(),m=h();function v(b,x){const L=d[b];return L[x]===void 0&&(L[x]=new Map,window.addEventListener(x,f,b==="capture")),L[x]}function C(b){return u[b]===void 0&&(u[b]=new Set,window.addEventListener(b,m)),u[b]}function E(b,x){let L=b.get(x);return L===void 0&&b.set(x,L=new Set),L}function R(b,x,L,F){const z=d[x][L];if(z!==void 0){const G=z.get(b);if(G!==void 0&&G.has(F))return!0}return!1}function _(b,x){const L=u[b];return!!(L!==void 0&&L.has(x))}function T(b,x,L,F){let z;if(typeof F=="object"&&F.once===!0?z=B=>{w(b,x,z,F),L(B)}:z=L,U_(b,x,z,F))return;const O=F===!0||typeof F=="object"&&F.capture===!0?"capture":"bubble",I=v(O,b),P=E(I,x);if(P.has(z)||P.add(z),x===window){const B=C(b);B.has(z)||B.add(z)}}function w(b,x,L,F){if(V_(b,x,L,F))return;const G=F===!0||typeof F=="object"&&F.capture===!0,O=G?"capture":"bubble",I=v(O,b),P=E(I,x);if(x===window&&!R(x,G?"bubble":"capture",b,L)&&_(b,L)){const M=u[b];M.delete(L),M.size===0&&(window.removeEventListener(b,m),u[b]=void 0)}P.has(L)&&P.delete(L),P.size===0&&I.delete(x),I.size===0&&(window.removeEventListener(b,f,O==="capture"),d[O][b]=void 0)}return{on:T,off:w}}const{on:rt,off:$e}=W_(),Ir=Q(null);function Bc(e){if(e.clientX>0||e.clientY>0)Ir.value={x:e.clientX,y:e.clientY};else{const{target:t}=e;if(t instanceof Element){const{left:o,top:r,width:n,height:i}=t.getBoundingClientRect();o>0||r>0?Ir.value={x:o+n/2,y:r+i/2}:Ir.value={x:0,y:0}}else Ir.value=null}}let An=0,Hc=!0;function jf(){if(!Qa)return qo(Q(null));An===0&&rt("click",document,Bc,!0);const e=()=>{An+=1};return Hc&&(Hc=Wf())?(Ci(e),_t(()=>{An-=1,An===0&&$e("click",document,Bc,!0)})):e(),qo(Ir)}const G_=Q(void 0);let wn=0;function $c(){G_.value=Date.now()}let zc=!0;function Yf(e){if(!Qa)return qo(Q(!1));const t=Q(!1);let o=null;function r(){o!==null&&window.clearTimeout(o)}function n(){r(),t.value=!0,o=window.setTimeout(()=>{t.value=!1},e)}wn===0&&rt("click",window,$c,!0);const i=()=>{wn+=1,rt("click",window,n,!0)};return zc&&(zc=Wf())?(Ci(i),_t(()=>{wn-=1,wn===0&&$e("click",window,$c,!0),$e("click",window,n,!0),r()})):i(),qo(t)}const j_=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function Y_(){return j_}const K_=je("n-modal-body"),Kf=je("n-modal"),q_=je("n-drawer-body"),UL=je("n-drawer"),X_=je("n-popover-body");function Uc(e,t,o="default"){const r=t[o];if(r===void 0)throw new Error(`[vueuc/${e}]: slot[${o}] is empty.`);return r()}function ca(e,t=!0,o=[]){return e.forEach(r=>{if(r!==null){if(typeof r!="object"){(typeof r=="string"||typeof r=="number")&&o.push(Ko(String(r)));return}if(Array.isArray(r)){ca(r,t,o);return}if(r.type===kt){if(r.children===null)return;Array.isArray(r.children)&&ca(r.children,t,o)}else r.type!==Ta&&o.push(r)}}),o}function VL(e,t,o="default"){const r=t[o];if(r===void 0)throw new Error(`[vueuc/${e}]: slot[${o}] is empty.`);const n=ca(r());if(n.length===1)return n[0];throw new Error(`[vueuc/${e}]: slot[${o}] should have exactly one child.`)}const Lo="@@coContext",J_={mounted(e,{value:t,modifiers:o}){e[Lo]={handler:void 0},typeof t=="function"&&(e[Lo].handler=t,rt("clickoutside",e,t,{capture:o.capture}))},updated(e,{value:t,modifiers:o}){const r=e[Lo];typeof t=="function"?r.handler?r.handler!==t&&($e("clickoutside",e,r.handler,{capture:o.capture}),r.handler=t,rt("clickoutside",e,t,{capture:o.capture})):(e[Lo].handler=t,rt("clickoutside",e,t,{capture:o.capture})):r.handler&&($e("clickoutside",e,r.handler,{capture:o.capture}),r.handler=void 0)},unmounted(e,{modifiers:t}){const{handler:o}=e[Lo];o&&$e("clickoutside",e,o,{capture:t.capture}),e[Lo].handler=void 0}},Z_=J_;function Q_(e,t){console.error(`[vdirs/${e}]: ${t}`)}class ex{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(t,o){const{elementZIndex:r}=this;if(o!==void 0){t.style.zIndex=`${o}`,r.delete(t);return}const{nextZIndex:n}=this;r.has(t)&&r.get(t)+1===this.nextZIndex||(t.style.zIndex=`${n}`,r.set(t,n),this.nextZIndex=n+1,this.squashState())}unregister(t,o){const{elementZIndex:r}=this;r.has(t)?r.delete(t):o===void 0&&Q_("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:t}=this;t||(this.nextZIndex=2e3),this.nextZIndex-t>2500&&this.rearrange()}rearrange(){const t=Array.from(this.elementZIndex.entries());t.sort((o,r)=>o[1]-r[1]),this.nextZIndex=2e3,t.forEach(o=>{const r=o[0],n=this.nextZIndex++;`${n}`!==r.style.zIndex&&(r.style.zIndex=`${n}`)})}}const hs=new ex,Oo="@@ziContext",tx={mounted(e,t){const{value:o={}}=t,{zIndex:r,enabled:n}=o;e[Oo]={enabled:!!n,initialized:!1},n&&(hs.ensureZIndex(e,r),e[Oo].initialized=!0)},updated(e,t){const{value:o={}}=t,{zIndex:r,enabled:n}=o,i=e[Oo].enabled;n&&!i&&(hs.ensureZIndex(e,r),e[Oo].initialized=!0),e[Oo].enabled=!!n},unmounted(e,t){if(!e[Oo].initialized)return;const{value:o={}}=t,{zIndex:r}=o;hs.unregister(e,r)}},ox=tx;function Vc(e,t){console.error(`[vueuc/${e}]: ${t}`)}function Wc(e){return typeof e=="string"?document.querySelector(e):e()}const rx=ce({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(e){return{showTeleport:F_(Co(e,"show")),mergedTo:X(()=>{const{to:t}=e;return t!=null?t:"body"})}},render(){return this.showTeleport?this.disabled?Uc("lazy-teleport",this.$slots):y(Aa,{disabled:this.disabled,to:this.mergedTo},Uc("lazy-teleport",this.$slots)):null}});var mo=[],nx=function(){return mo.some(function(e){return e.activeTargets.length>0})},ix=function(){return mo.some(function(e){return e.skippedTargets.length>0})},Gc="ResizeObserver loop completed with undelivered notifications.",sx=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Gc}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Gc),window.dispatchEvent(e)},jr;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(jr||(jr={}));var go=function(e){return Object.freeze(e)},ax=function(){function e(t,o){this.inlineSize=t,this.blockSize=o,go(this)}return e}(),qf=function(){function e(t,o,r,n){return this.x=t,this.y=o,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,go(this)}return e.prototype.toJSON=function(){var t=this,o=t.x,r=t.y,n=t.top,i=t.right,s=t.bottom,a=t.left,l=t.width,c=t.height;return{x:o,y:r,top:n,right:i,bottom:s,left:a,width:l,height:c}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),el=function(e){return e instanceof SVGElement&&"getBBox"in e},Xf=function(e){if(el(e)){var t=e.getBBox(),o=t.width,r=t.height;return!o&&!r}var n=e,i=n.offsetWidth,s=n.offsetHeight;return!(i||s||e.getClientRects().length)},jc=function(e){var t;if(e instanceof Element)return!0;var o=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(o&&e instanceof o.Element)},lx=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},kr=typeof window<"u"?window:{},In=new WeakMap,Yc=/auto|scroll/,cx=/^tb|vertical/,dx=/msie|trident/i.test(kr.navigator&&kr.navigator.userAgent),mt=function(e){return parseFloat(e||"0")},Uo=function(e,t,o){return e===void 0&&(e=0),t===void 0&&(t=0),o===void 0&&(o=!1),new ax((o?t:e)||0,(o?e:t)||0)},Kc=go({devicePixelContentBoxSize:Uo(),borderBoxSize:Uo(),contentBoxSize:Uo(),contentRect:new qf(0,0,0,0)}),Jf=function(e,t){if(t===void 0&&(t=!1),In.has(e)&&!t)return In.get(e);if(Xf(e))return In.set(e,Kc),Kc;var o=getComputedStyle(e),r=el(e)&&e.ownerSVGElement&&e.getBBox(),n=!dx&&o.boxSizing==="border-box",i=cx.test(o.writingMode||""),s=!r&&Yc.test(o.overflowY||""),a=!r&&Yc.test(o.overflowX||""),l=r?0:mt(o.paddingTop),c=r?0:mt(o.paddingRight),d=r?0:mt(o.paddingBottom),u=r?0:mt(o.paddingLeft),p=r?0:mt(o.borderTopWidth),h=r?0:mt(o.borderRightWidth),f=r?0:mt(o.borderBottomWidth),m=r?0:mt(o.borderLeftWidth),v=u+c,C=l+d,E=m+h,R=p+f,_=a?e.offsetHeight-R-e.clientHeight:0,T=s?e.offsetWidth-E-e.clientWidth:0,w=n?v+E:0,b=n?C+R:0,x=r?r.width:mt(o.width)-w-T,L=r?r.height:mt(o.height)-b-_,F=x+v+T+E,z=L+C+_+R,G=go({devicePixelContentBoxSize:Uo(Math.round(x*devicePixelRatio),Math.round(L*devicePixelRatio),i),borderBoxSize:Uo(F,z,i),contentBoxSize:Uo(x,L,i),contentRect:new qf(u,l,x,L)});return In.set(e,G),G},Zf=function(e,t,o){var r=Jf(e,o),n=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case jr.DEVICE_PIXEL_CONTENT_BOX:return s;case jr.BORDER_BOX:return n;default:return i}},ux=function(){function e(t){var o=Jf(t);this.target=t,this.contentRect=o.contentRect,this.borderBoxSize=go([o.borderBoxSize]),this.contentBoxSize=go([o.contentBoxSize]),this.devicePixelContentBoxSize=go([o.devicePixelContentBoxSize])}return e}(),Qf=function(e){if(Xf(e))return 1/0;for(var t=0,o=e.parentNode;o;)t+=1,o=o.parentNode;return t},fx=function(){var e=1/0,t=[];mo.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(c){var d=new ux(c.target),u=Qf(c.target);a.push(d),c.lastReportedSize=Zf(c.target,c.observedBox),u<e&&(e=u)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var o=0,r=t;o<r.length;o++){var n=r[o];n()}return e},qc=function(e){mo.forEach(function(o){o.activeTargets.splice(0,o.activeTargets.length),o.skippedTargets.splice(0,o.skippedTargets.length),o.observationTargets.forEach(function(n){n.isActive()&&(Qf(n.target)>e?o.activeTargets.push(n):o.skippedTargets.push(n))})})},px=function(){var e=0;for(qc(e);nx();)e=fx(),qc(e);return ix()&&sx(),e>0},ms,ep=[],hx=function(){return ep.splice(0).forEach(function(e){return e()})},mx=function(e){if(!ms){var t=0,o=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return hx()}).observe(o,r),ms=function(){o.textContent="".concat(t?t--:t++)}}ep.push(e),ms()},gx=function(e){mx(function(){requestAnimationFrame(e)})},qn=0,vx=function(){return!!qn},Cx=250,bx={attributes:!0,characterData:!0,childList:!0,subtree:!0},Xc=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Jc=function(e){return e===void 0&&(e=0),Date.now()+e},gs=!1,Ex=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var o=this;if(t===void 0&&(t=Cx),!gs){gs=!0;var r=Jc(t);gx(function(){var n=!1;try{n=px()}finally{if(gs=!1,t=r-Jc(),!vx())return;n?o.run(1e3):t>0?o.run(t):o.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,o=function(){return t.observer&&t.observer.observe(document.body,bx)};document.body?o():kr.addEventListener("DOMContentLoaded",o)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Xc.forEach(function(o){return kr.addEventListener(o,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Xc.forEach(function(o){return kr.removeEventListener(o,t.listener,!0)}),this.stopped=!0)},e}(),da=new Ex,Zc=function(e){!qn&&e>0&&da.start(),qn+=e,!qn&&da.stop()},Sx=function(e){return!el(e)&&!lx(e)&&getComputedStyle(e).display==="inline"},yx=function(){function e(t,o){this.target=t,this.observedBox=o||jr.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Zf(this.target,this.observedBox,!0);return Sx(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),_x=function(){function e(t,o){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=o}return e}(),Rn=new WeakMap,Qc=function(e,t){for(var o=0;o<e.length;o+=1)if(e[o].target===t)return o;return-1},Pn=function(){function e(){}return e.connect=function(t,o){var r=new _x(t,o);Rn.set(t,r)},e.observe=function(t,o,r){var n=Rn.get(t),i=n.observationTargets.length===0;Qc(n.observationTargets,o)<0&&(i&&mo.push(n),n.observationTargets.push(new yx(o,r&&r.box)),Zc(1),da.schedule())},e.unobserve=function(t,o){var r=Rn.get(t),n=Qc(r.observationTargets,o),i=r.observationTargets.length===1;n>=0&&(i&&mo.splice(mo.indexOf(r),1),r.observationTargets.splice(n,1),Zc(-1))},e.disconnect=function(t){var o=this,r=Rn.get(t);r.observationTargets.slice().forEach(function(n){return o.unobserve(t,n.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),xx=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Pn.connect(this,t)}return e.prototype.observe=function(t,o){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!jc(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Pn.observe(this,t,o)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!jc(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Pn.unobserve(this,t)},e.prototype.disconnect=function(){Pn.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();class Tx{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new xx(this.handleResize),this.elHandlersMap=new Map}handleResize(t){for(const o of t){const r=this.elHandlersMap.get(o.target);r!==void 0&&r(o)}}registerHandler(t,o){this.elHandlersMap.set(t,o),this.observer.observe(t)}unregisterHandler(t){!this.elHandlersMap.has(t)||(this.elHandlersMap.delete(t),this.observer.unobserve(t))}}const ed=new Tx,td=ce({name:"ResizeObserver",props:{onResize:Function},setup(e){let t=!1;const o=ru().proxy;function r(n){const{onResize:i}=e;i!==void 0&&i(n)}Eo(()=>{const n=o.$el;if(n===void 0){Vc("resize-observer","$el does not exist.");return}if(n.nextElementSibling!==n.nextSibling&&n.nodeType===3&&n.nodeValue!==""){Vc("resize-observer","$el can not be observed (it may be a text node).");return}n.nextElementSibling!==null&&(ed.registerHandler(n.nextElementSibling,r),t=!0)}),_t(()=>{t&&ed.unregisterHandler(o.$el.nextElementSibling)})},render(){return Rm(this.$slots,"default")}});function tp(e){return e instanceof HTMLElement}function op(e){for(let t=0;t<e.childNodes.length;t++){const o=e.childNodes[t];if(tp(o)&&(np(o)||op(o)))return!0}return!1}function rp(e){for(let t=e.childNodes.length-1;t>=0;t--){const o=e.childNodes[t];if(tp(o)&&(np(o)||rp(o)))return!0}return!1}function np(e){if(!Ax(e))return!1;try{e.focus({preventScroll:!0})}catch{}return document.activeElement===e}function Ax(e){if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.getAttribute("disabled"))return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return e.type!=="hidden"&&e.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let Er=[];const wx=ce({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(e){const t=Oi(),o=Q(null),r=Q(null);let n=!1,i=!1;const s=typeof document>"u"?null:document.activeElement;function a(){return Er[Er.length-1]===t}function l(v){var C;v.code==="Escape"&&a()&&((C=e.onEsc)===null||C===void 0||C.call(e,v))}Eo(()=>{Ue(()=>e.active,v=>{v?(u(),rt("keydown",document,l)):($e("keydown",document,l),n&&p())},{immediate:!0})}),_t(()=>{$e("keydown",document,l),n&&p()});function c(v){if(!i&&a()){const C=d();if(C===null||C.contains(Ja(v)))return;h("first")}}function d(){const v=o.value;if(v===null)return null;let C=v;for(;C=C.nextSibling,!(C===null||C instanceof Element&&C.tagName==="DIV"););return C}function u(){var v;if(!e.disabled){if(Er.push(t),e.autoFocus){const{initialFocusTo:C}=e;C===void 0?h("first"):(v=Wc(C))===null||v===void 0||v.focus({preventScroll:!0})}n=!0,document.addEventListener("focus",c,!0)}}function p(){var v;if(e.disabled||(document.removeEventListener("focus",c,!0),Er=Er.filter(E=>E!==t),a()))return;const{finalFocusTo:C}=e;C!==void 0?(v=Wc(C))===null||v===void 0||v.focus({preventScroll:!0}):e.returnFocusOnDeactivated&&s instanceof HTMLElement&&(i=!0,s.focus({preventScroll:!0}),i=!1)}function h(v){if(!!a()&&e.active){const C=o.value,E=r.value;if(C!==null&&E!==null){const R=d();if(R==null||R===E){i=!0,C.focus({preventScroll:!0}),i=!1;return}i=!0;const _=v==="first"?op(R):rp(R);i=!1,_||(i=!0,C.focus({preventScroll:!0}),i=!1)}}}function f(v){if(i)return;const C=d();C!==null&&(v.relatedTarget!==null&&C.contains(v.relatedTarget)?h("last"):h("first"))}function m(v){i||(v.relatedTarget!==null&&v.relatedTarget===o.value?h("last"):h("first"))}return{focusableStartRef:o,focusableEndRef:r,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:f,handleEndFocus:m}},render(){const{default:e}=this.$slots;if(e===void 0)return null;if(this.disabled)return e();const{active:t,focusableStyle:o}=this;return y(kt,null,[y("div",{"aria-hidden":"true",tabindex:t?"0":"-1",ref:"focusableStartRef",style:o,onFocus:this.handleStartFocus}),e(),y("div",{"aria-hidden":"true",style:o,ref:"focusableEndRef",tabindex:t?"0":"-1",onFocus:this.handleEndFocus})])}});let Do=0,od="",rd="",nd="",id="";const sd=Q("0px");function Ix(e){if(typeof document>"u")return;const t=document.documentElement;let o,r=!1;const n=()=>{t.style.marginRight=od,t.style.overflow=rd,t.style.overflowX=nd,t.style.overflowY=id,sd.value="0px"};Eo(()=>{o=Ue(e,i=>{if(i){if(!Do){const s=window.innerWidth-t.offsetWidth;s>0&&(od=t.style.marginRight,t.style.marginRight=`${s}px`,sd.value=`${s}px`),rd=t.style.overflow,nd=t.style.overflowX,id=t.style.overflowY,t.style.overflow="hidden",t.style.overflowX="hidden",t.style.overflowY="hidden"}r=!0,Do++}else Do--,Do||n(),r=!1},{immediate:!0})}),_t(()=>{o==null||o(),r&&(Do--,Do||n(),r=!1)})}const tl=Q(!1),ad=()=>{tl.value=!0},ld=()=>{tl.value=!1};let Sr=0;const Rx=()=>(_o&&(Ci(()=>{Sr||(window.addEventListener("compositionstart",ad),window.addEventListener("compositionend",ld)),Sr++}),_t(()=>{Sr<=1?(window.removeEventListener("compositionstart",ad),window.removeEventListener("compositionend",ld),Sr=0):Sr--})),tl);function Px(e){const t={isDeactivated:!1};let o=!1;return Pm(()=>{if(t.isDeactivated=!1,!o){o=!0;return}e()}),Lm(()=>{t.isDeactivated=!0,o||(o=!0)}),t}const cd=je("n-form-item");function Lx(e,{defaultSize:t="medium",mergedSize:o,mergedDisabled:r}={}){const n=ut(cd,null);Ze(cd,null);const i=X(o?()=>o(n):()=>{const{size:l}=e;if(l)return l;if(n){const{mergedSize:c}=n;if(c.value!==void 0)return c.value}return t}),s=X(r?()=>r(n):()=>{const{disabled:l}=e;return l!==void 0?l:n?n.disabled.value:!1}),a=X(()=>{const{status:l}=e;return l||(n==null?void 0:n.mergedValidationStatus.value)});return _t(()=>{n&&n.restoreValidation()}),{mergedSizeRef:i,mergedDisabledRef:s,mergedStatusRef:a,nTriggerFormBlur(){n&&n.handleContentBlur()},nTriggerFormChange(){n&&n.handleContentChange()},nTriggerFormFocus(){n&&n.handleContentFocus()},nTriggerFormInput(){n&&n.handleContentInput()}}}function cr(e,t,o){if(!t)return;const r=am(),n=X(()=>{const{value:s}=t;if(!s)return;const a=s[e];if(!!a)return a}),i=()=>{bi(()=>{const{value:s}=o,a=`${s}${e}Rtl`;if(N_(a,r))return;const{value:l}=n;!l||l.style.mount({id:a,head:!0,anchorMetaName:lm,props:{bPrefix:s?`.${s}-`:void 0},ssr:r})})};return r?i():Ci(i),n}function ln(e,t){return ce({name:rC(e),setup(){var o;const r=(o=ut(Ps,null))===null||o===void 0?void 0:o.mergedIconsRef;return()=>{var n;const i=(n=r==null?void 0:r.value)===null||n===void 0?void 0:n[e];return i?i():t}}})}const Ox=ln("close",y("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},y("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},y("g",{fill:"currentColor","fill-rule":"nonzero"},y("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),ol=ln("error",y("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},y("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},y("g",{"fill-rule":"nonzero"},y("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M17.8838835,16.1161165 L17.7823881,16.0249942 C17.3266086,15.6583353 16.6733914,15.6583353 16.2176119,16.0249942 L16.1161165,16.1161165 L16.0249942,16.2176119 C15.6583353,16.6733914 15.6583353,17.3266086 16.0249942,17.7823881 L16.1161165,17.8838835 L22.233,24 L16.1161165,30.1161165 L16.0249942,30.2176119 C15.6583353,30.6733914 15.6583353,31.3266086 16.0249942,31.7823881 L16.1161165,31.8838835 L16.2176119,31.9750058 C16.6733914,32.3416647 17.3266086,32.3416647 17.7823881,31.9750058 L17.8838835,31.8838835 L24,25.767 L30.1161165,31.8838835 L30.2176119,31.9750058 C30.6733914,32.3416647 31.3266086,32.3416647 31.7823881,31.9750058 L31.8838835,31.8838835 L31.9750058,31.7823881 C32.3416647,31.3266086 32.3416647,30.6733914 31.9750058,30.2176119 L31.8838835,30.1161165 L25.767,24 L31.8838835,17.8838835 L31.9750058,17.7823881 C32.3416647,17.3266086 32.3416647,16.6733914 31.9750058,16.2176119 L31.8838835,16.1161165 L31.7823881,16.0249942 C31.3266086,15.6583353 30.6733914,15.6583353 30.2176119,16.0249942 L30.1161165,16.1161165 L24,22.233 L17.8838835,16.1161165 L17.7823881,16.0249942 L17.8838835,16.1161165 Z"}))))),ai=ln("info",y("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},y("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},y("g",{"fill-rule":"nonzero"},y("path",{d:"M14,2 C20.6274,2 26,7.37258 26,14 C26,20.6274 20.6274,26 14,26 C7.37258,26 2,20.6274 2,14 C2,7.37258 7.37258,2 14,2 Z M14,11 C13.4477,11 13,11.4477 13,12 L13,12 L13,20 C13,20.5523 13.4477,21 14,21 C14.5523,21 15,20.5523 15,20 L15,20 L15,12 C15,11.4477 14.5523,11 14,11 Z M14,6.75 C13.3096,6.75 12.75,7.30964 12.75,8 C12.75,8.69036 13.3096,9.25 14,9.25 C14.6904,9.25 15.25,8.69036 15.25,8 C15.25,7.30964 14.6904,6.75 14,6.75 Z"}))))),rl=ln("success",y("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},y("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},y("g",{"fill-rule":"nonzero"},y("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.6338835,17.6161165 C32.1782718,17.1605048 31.4584514,17.1301307 30.9676119,17.5249942 L30.8661165,17.6161165 L20.75,27.732233 L17.1338835,24.1161165 C16.6457281,23.6279612 15.8542719,23.6279612 15.3661165,24.1161165 C14.9105048,24.5717282 14.8801307,25.2915486 15.2749942,25.7823881 L15.3661165,25.8838835 L19.8661165,30.3838835 C20.3217282,30.8394952 21.0415486,30.8698693 21.5323881,30.4750058 L21.6338835,30.3838835 L32.6338835,19.3838835 C33.1220388,18.8957281 33.1220388,18.1042719 32.6338835,17.6161165 Z"}))))),nl=ln("warning",y("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},y("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},y("g",{"fill-rule":"nonzero"},y("path",{d:"M12,2 C17.523,2 22,6.478 22,12 C22,17.522 17.523,22 12,22 C6.477,22 2,17.522 2,12 C2,6.478 6.477,2 12,2 Z M12.0018002,15.0037242 C11.450254,15.0037242 11.0031376,15.4508407 11.0031376,16.0023869 C11.0031376,16.553933 11.450254,17.0010495 12.0018002,17.0010495 C12.5533463,17.0010495 13.0004628,16.553933 13.0004628,16.0023869 C13.0004628,15.4508407 12.5533463,15.0037242 12.0018002,15.0037242 Z M11.99964,7 C11.4868042,7.00018474 11.0642719,7.38637706 11.0066858,7.8837365 L11,8.00036004 L11.0018003,13.0012393 L11.00857,13.117858 C11.0665141,13.6151758 11.4893244,14.0010638 12.0021602,14.0008793 C12.514996,14.0006946 12.9375283,13.6145023 12.9951144,13.1171428 L13.0018002,13.0005193 L13,7.99964009 L12.9932303,7.8830214 C12.9352861,7.38570354 12.5124758,6.99981552 11.99964,7 Z"}))))),ip=ce({name:"FadeInExpandTransition",props:{appear:Boolean,group:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function,width:Boolean,reverse:Boolean},setup(e,{slots:t}){function o(a){e.width?a.style.maxWidth=`${a.offsetWidth}px`:a.style.maxHeight=`${a.offsetHeight}px`,a.offsetWidth}function r(a){e.width?a.style.maxWidth="0":a.style.maxHeight="0",a.offsetWidth;const{onLeave:l}=e;l&&l()}function n(a){e.width?a.style.maxWidth="":a.style.maxHeight="";const{onAfterLeave:l}=e;l&&l()}function i(a){if(a.style.transition="none",e.width){const l=a.offsetWidth;a.style.maxWidth="0",a.offsetWidth,a.style.transition="",a.style.maxWidth=`${l}px`}else if(e.reverse)a.style.maxHeight=`${a.offsetHeight}px`,a.offsetHeight,a.style.transition="",a.style.maxHeight="0";else{const l=a.offsetHeight;a.style.maxHeight="0",a.offsetWidth,a.style.transition="",a.style.maxHeight=`${l}px`}a.offsetWidth}function s(a){var l;e.width?a.style.maxWidth="":e.reverse||(a.style.maxHeight=""),(l=e.onAfterEnter)===null||l===void 0||l.call(e)}return()=>{const a=e.group?Om:Xo;return y(a,{name:e.width?"fade-in-width-expand-transition":"fade-in-height-expand-transition",mode:e.mode,appear:e.appear,onEnter:i,onAfterEnter:s,onBeforeLeave:o,onLeave:r,onAfterLeave:n},t)}}}),Dx=q("base-icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[k("svg",`
 height: 1em;
 width: 1em;
 `)]),ki=ce({name:"BaseIcon",props:{role:String,ariaLabel:String,ariaDisabled:{type:Boolean,default:void 0},ariaHidden:{type:Boolean,default:void 0},clsPrefix:{type:String,required:!0},onClick:Function,onMousedown:Function,onMouseup:Function},setup(e){xa("-base-icon",Dx,Co(e,"clsPrefix"))},render(){return y("i",{class:`${this.clsPrefix}-base-icon`,onClick:this.onClick,onMousedown:this.onMousedown,onMouseup:this.onMouseup,role:this.role,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"aria-disabled":this.ariaDisabled},this.$slots)}}),kx=q("base-close",`
 display: flex;
 align-items: center;
 justify-content: center;
 cursor: pointer;
 background-color: transparent;
 color: var(--n-close-icon-color);
 border-radius: var(--n-close-border-radius);
 height: var(--n-close-size);
 width: var(--n-close-size);
 font-size: var(--n-close-icon-size);
 outline: none;
 border: none;
 position: relative;
 padding: 0;
`,[W("absolute",`
 height: var(--n-close-icon-size);
 width: var(--n-close-icon-size);
 `),k("&::before",`
 content: "";
 position: absolute;
 width: var(--n-close-size);
 height: var(--n-close-size);
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 transition: inherit;
 border-radius: inherit;
 `),Zn("disabled",[k("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),k("&:hover::before",`
 background-color: var(--n-close-color-hover);
 `),k("&:focus::before",`
 background-color: var(--n-close-color-hover);
 `),k("&:active",`
 color: var(--n-close-icon-color-pressed);
 `),k("&:active::before",`
 background-color: var(--n-close-color-pressed);
 `)]),W("disabled",`
 cursor: not-allowed;
 color: var(--n-close-icon-color-disabled);
 background-color: transparent;
 `),W("round",[k("&::before",`
 border-radius: 50%;
 `)])]),Ni=ce({name:"BaseClose",props:{isButtonTag:{type:Boolean,default:!0},clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},focusable:{type:Boolean,default:!0},round:Boolean,onClick:Function,absolute:Boolean},setup(e){return xa("-base-close",kx,Co(e,"clsPrefix")),()=>{const{clsPrefix:t,disabled:o,absolute:r,round:n,isButtonTag:i}=e;return y(i?"button":"div",{type:i?"button":void 0,tabindex:o||!e.focusable?-1:0,"aria-disabled":o,"aria-label":"close",role:i?void 0:"button",disabled:o,class:[`${t}-base-close`,r&&`${t}-base-close--absolute`,o&&`${t}-base-close--disabled`,n&&`${t}-base-close--round`],onMousedown:a=>{e.focusable||a.preventDefault()},onClick:e.onClick},y(ki,{clsPrefix:t},{default:()=>y(Ox,null)}))}}}),U={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0.2",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},Nx=qd(U.neutralBase),sp=qd(U.neutralInvertBase),Mx="rgba("+sp.slice(0,3).join(", ")+", ";function ae(e){return Mx+String(e)+")"}function Fx(e){const t=Array.from(sp);return t[3]=Number(e),J(Nx,t)}const Bx=Object.assign(Object.assign({name:"common"},vi),{baseColor:U.neutralBase,primaryColor:U.primaryDefault,primaryColorHover:U.primaryHover,primaryColorPressed:U.primaryActive,primaryColorSuppl:U.primarySuppl,infoColor:U.infoDefault,infoColorHover:U.infoHover,infoColorPressed:U.infoActive,infoColorSuppl:U.infoSuppl,successColor:U.successDefault,successColorHover:U.successHover,successColorPressed:U.successActive,successColorSuppl:U.successSuppl,warningColor:U.warningDefault,warningColorHover:U.warningHover,warningColorPressed:U.warningActive,warningColorSuppl:U.warningSuppl,errorColor:U.errorDefault,errorColorHover:U.errorHover,errorColorPressed:U.errorActive,errorColorSuppl:U.errorSuppl,textColorBase:U.neutralTextBase,textColor1:ae(U.alpha1),textColor2:ae(U.alpha2),textColor3:ae(U.alpha3),textColorDisabled:ae(U.alpha4),placeholderColor:ae(U.alpha4),placeholderColorDisabled:ae(U.alpha5),iconColor:ae(U.alpha4),iconColorDisabled:ae(U.alpha5),iconColorHover:ae(Number(U.alpha4)*1.25),iconColorPressed:ae(Number(U.alpha4)*.8),opacity1:U.alpha1,opacity2:U.alpha2,opacity3:U.alpha3,opacity4:U.alpha4,opacity5:U.alpha5,dividerColor:ae(U.alphaDivider),borderColor:ae(U.alphaBorder),closeIconColorHover:ae(Number(U.alphaClose)),closeIconColor:ae(Number(U.alphaClose)),closeIconColorPressed:ae(Number(U.alphaClose)),closeColorHover:"rgba(255, 255, 255, .12)",closeColorPressed:"rgba(255, 255, 255, .08)",clearColor:ae(U.alpha4),clearColorHover:De(ae(U.alpha4),{alpha:1.25}),clearColorPressed:De(ae(U.alpha4),{alpha:.8}),scrollbarColor:ae(U.alphaScrollbar),scrollbarColorHover:ae(U.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:ae(U.alphaProgressRail),railColor:ae(U.alphaRail),popoverColor:U.neutralPopover,tableColor:U.neutralCard,cardColor:U.neutralCard,modalColor:U.neutralModal,bodyColor:U.neutralBody,tagColor:Fx(U.alphaTag),avatarColor:ae(U.alphaAvatar),invertedColor:U.neutralBase,inputColor:ae(U.alphaInput),codeColor:ae(U.alphaCode),tabColor:ae(U.alphaTab),actionColor:ae(U.alphaAction),tableHeaderColor:ae(U.alphaAction),hoverColor:ae(U.alphaPending),tableColorHover:ae(U.alphaTablePending),tableColorStriped:ae(U.alphaTableStriped),pressedColor:ae(U.alphaPressed),opacityDisabled:U.alphaDisabled,inputColorDisabled:ae(U.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .08)",buttonColor2Hover:"rgba(255, 255, 255, .12)",buttonColor2Pressed:"rgba(255, 255, 255, .08)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),N=Bx,Hx={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"},ap=e=>{const{textColorDisabled:t,iconColor:o,textColor2:r,fontSizeSmall:n,fontSizeMedium:i,fontSizeLarge:s,fontSizeHuge:a}=e;return Object.assign(Object.assign({},Hx),{fontSizeSmall:n,fontSizeMedium:i,fontSizeLarge:s,fontSizeHuge:a,textColor:t,iconColor:o,extraTextColor:r})},$x={name:"Empty",common:se,self:ap},lp=$x,zx={name:"Empty",common:N,self:ap},xo=zx,cp=e=>{const{scrollbarColor:t,scrollbarColorHover:o}=e;return{color:t,colorHover:o}},Ux={name:"Scrollbar",common:se,self:cp},cn=Ux,Vx={name:"Scrollbar",common:N,self:cp},Ye=Vx,Wx=q("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[k(">",[q("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 max-height: inherit;
 scrollbar-width: none;
 `,[k("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),k(">",[q("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])])]),k(">, +",[q("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 -webkit-user-select: none;
 `,[W("horizontal",`
 left: 2px;
 right: 2px;
 bottom: 4px;
 height: var(--n-scrollbar-height);
 `,[k(">",[Y("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),W("vertical",`
 right: 4px;
 top: 2px;
 bottom: 2px;
 width: var(--n-scrollbar-width);
 `,[k(">",[Y("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),W("disabled",[k(">",[Y("scrollbar",{pointerEvents:"none"})])]),k(">",[Y("scrollbar",`
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[Xd(),k("&:hover",{backgroundColor:"var(--n-scrollbar-color-hover)"})])])])])]),Gx=Object.assign(Object.assign({},be.props),{size:{type:Number,default:5},duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:String,contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean}),dp=ce({name:"Scrollbar",props:Gx,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:o,mergedRtlRef:r}=Qe(e),n=cr("Scrollbar",r,t),i=Q(null),s=Q(null),a=Q(null),l=Q(null),c=Q(null),d=Q(null),u=Q(null),p=Q(null),h=Q(null),f=Q(null),m=Q(null),v=Q(0),C=Q(0),E=Q(!1),R=Q(!1);let _=!1,T=!1,w,b,x=0,L=0,F=0,z=0;const G=Y_(),O=X(()=>{const{value:D}=p,{value:K}=d,{value:oe}=f;return D===null||K===null||oe===null?0:Math.min(D,oe*D/K+e.size*1.5)}),I=X(()=>`${O.value}px`),P=X(()=>{const{value:D}=h,{value:K}=u,{value:oe}=m;return D===null||K===null||oe===null?0:oe*D/K+e.size*1.5}),B=X(()=>`${P.value}px`),M=X(()=>{const{value:D}=p,{value:K}=v,{value:oe}=d,{value:me}=f;if(D===null||oe===null||me===null)return 0;{const Ie=oe-D;return Ie?K/Ie*(me-O.value):0}}),te=X(()=>`${M.value}px`),ne=X(()=>{const{value:D}=h,{value:K}=C,{value:oe}=u,{value:me}=m;if(D===null||oe===null||me===null)return 0;{const Ie=oe-D;return Ie?K/Ie*(me-P.value):0}}),ue=X(()=>`${ne.value}px`),_e=X(()=>{const{value:D}=p,{value:K}=d;return D!==null&&K!==null&&K>D}),Ne=X(()=>{const{value:D}=h,{value:K}=u;return D!==null&&K!==null&&K>D}),qe=X(()=>{const{trigger:D}=e;return D==="none"||E.value}),ur=X(()=>{const{trigger:D}=e;return D==="none"||R.value}),lt=X(()=>{const{container:D}=e;return D?D():s.value}),ve=X(()=>{const{content:D}=e;return D?D():a.value}),Kt=Px(()=>{e.container||Ao({top:v.value,left:C.value})}),mn=()=>{Kt.isDeactivated||qt()},de=D=>{if(Kt.isDeactivated)return;const{onResize:K}=e;K&&K(D),qt()},Ao=(D,K)=>{if(!e.scrollable)return;if(typeof D=="number"){Ht(K!=null?K:0,D,0,!1,"auto");return}const{left:oe,top:me,index:Ie,elSize:We,position:At,behavior:Se,el:wt,debounce:hr=!0}=D;(oe!==void 0||me!==void 0)&&Ht(oe!=null?oe:0,me!=null?me:0,0,!1,Se),wt!==void 0?Ht(0,wt.offsetTop,wt.offsetHeight,hr,Se):Ie!==void 0&&We!==void 0?Ht(0,Ie*We,We,hr,Se):At==="bottom"?Ht(0,Number.MAX_SAFE_INTEGER,0,!1,Se):At==="top"&&Ht(0,0,0,!1,Se)},fr=(D,K)=>{if(!e.scrollable)return;const{value:oe}=lt;!oe||(typeof D=="object"?oe.scrollBy(D):oe.scrollBy(D,K||0))};function Ht(D,K,oe,me,Ie){const{value:We}=lt;if(!!We){if(me){const{scrollTop:At,offsetHeight:Se}=We;if(K>At){K+oe<=At+Se||We.scrollTo({left:D,top:K+oe-Se,behavior:Ie});return}}We.scrollTo({left:D,top:K,behavior:Ie})}}function Gi(){qi(),Xi(),qt()}function ji(){pr()}function pr(){Yi(),Ki()}function Yi(){b!==void 0&&window.clearTimeout(b),b=window.setTimeout(()=>{R.value=!1},e.duration)}function Ki(){w!==void 0&&window.clearTimeout(w),w=window.setTimeout(()=>{E.value=!1},e.duration)}function qi(){w!==void 0&&window.clearTimeout(w),E.value=!0}function Xi(){b!==void 0&&window.clearTimeout(b),R.value=!0}function Ce(D){const{onScroll:K}=e;K&&K(D),we()}function we(){const{value:D}=lt;D&&(v.value=D.scrollTop,C.value=D.scrollLeft*(n!=null&&n.value?-1:1))}function wo(){const{value:D}=ve;D&&(d.value=D.offsetHeight,u.value=D.offsetWidth);const{value:K}=lt;K&&(p.value=K.offsetHeight,h.value=K.offsetWidth);const{value:oe}=c,{value:me}=l;oe&&(m.value=oe.offsetWidth),me&&(f.value=me.offsetHeight)}function vl(){const{value:D}=lt;D&&(v.value=D.scrollTop,C.value=D.scrollLeft*(n!=null&&n.value?-1:1),p.value=D.offsetHeight,h.value=D.offsetWidth,d.value=D.scrollHeight,u.value=D.scrollWidth);const{value:K}=c,{value:oe}=l;K&&(m.value=K.offsetWidth),oe&&(f.value=oe.offsetHeight)}function qt(){!e.scrollable||(e.useUnifiedContainer?vl():(wo(),we()))}function Cl(D){var K;return!(!((K=i.value)===null||K===void 0)&&K.contains(Ja(D)))}function Uh(D){D.preventDefault(),D.stopPropagation(),T=!0,rt("mousemove",window,bl,!0),rt("mouseup",window,El,!0),L=C.value,F=n!=null&&n.value?window.innerWidth-D.clientX:D.clientX}function bl(D){if(!T)return;w!==void 0&&window.clearTimeout(w),b!==void 0&&window.clearTimeout(b);const{value:K}=h,{value:oe}=u,{value:me}=P;if(K===null||oe===null)return;const We=(n!=null&&n.value?window.innerWidth-D.clientX-F:D.clientX-F)*(oe-K)/(K-me),At=oe-K;let Se=L+We;Se=Math.min(At,Se),Se=Math.max(Se,0);const{value:wt}=lt;if(wt){wt.scrollLeft=Se*(n!=null&&n.value?-1:1);const{internalOnUpdateScrollLeft:hr}=e;hr&&hr(Se)}}function El(D){D.preventDefault(),D.stopPropagation(),$e("mousemove",window,bl,!0),$e("mouseup",window,El,!0),T=!1,qt(),Cl(D)&&pr()}function Vh(D){D.preventDefault(),D.stopPropagation(),_=!0,rt("mousemove",window,Ji,!0),rt("mouseup",window,Zi,!0),x=v.value,z=D.clientY}function Ji(D){if(!_)return;w!==void 0&&window.clearTimeout(w),b!==void 0&&window.clearTimeout(b);const{value:K}=p,{value:oe}=d,{value:me}=O;if(K===null||oe===null)return;const We=(D.clientY-z)*(oe-K)/(K-me),At=oe-K;let Se=x+We;Se=Math.min(At,Se),Se=Math.max(Se,0);const{value:wt}=lt;wt&&(wt.scrollTop=Se)}function Zi(D){D.preventDefault(),D.stopPropagation(),$e("mousemove",window,Ji,!0),$e("mouseup",window,Zi,!0),_=!1,qt(),Cl(D)&&pr()}bi(()=>{const{value:D}=Ne,{value:K}=_e,{value:oe}=t,{value:me}=c,{value:Ie}=l;me&&(D?me.classList.remove(`${oe}-scrollbar-rail--disabled`):me.classList.add(`${oe}-scrollbar-rail--disabled`)),Ie&&(K?Ie.classList.remove(`${oe}-scrollbar-rail--disabled`):Ie.classList.add(`${oe}-scrollbar-rail--disabled`))}),Eo(()=>{e.container||qt()}),_t(()=>{w!==void 0&&window.clearTimeout(w),b!==void 0&&window.clearTimeout(b),$e("mousemove",window,Ji,!0),$e("mouseup",window,Zi,!0)});const Wh=be("Scrollbar","-scrollbar",Wx,cn,e,t),Sl=X(()=>{const{common:{cubicBezierEaseInOut:D,scrollbarBorderRadius:K,scrollbarHeight:oe,scrollbarWidth:me},self:{color:Ie,colorHover:We}}=Wh.value;return{"--n-scrollbar-bezier":D,"--n-scrollbar-color":Ie,"--n-scrollbar-color-hover":We,"--n-scrollbar-border-radius":K,"--n-scrollbar-width":me,"--n-scrollbar-height":oe}}),Io=o?Dt("scrollbar",void 0,Sl,e):void 0;return Object.assign(Object.assign({},{scrollTo:Ao,scrollBy:fr,sync:qt,syncUnifiedContainer:vl,handleMouseEnterWrapper:Gi,handleMouseLeaveWrapper:ji}),{mergedClsPrefix:t,rtlEnabled:n,containerScrollTop:v,wrapperRef:i,containerRef:s,contentRef:a,yRailRef:l,xRailRef:c,needYBar:_e,needXBar:Ne,yBarSizePx:I,xBarSizePx:B,yBarTopPx:te,xBarLeftPx:ue,isShowXBar:qe,isShowYBar:ur,isIos:G,handleScroll:Ce,handleContentResize:mn,handleContainerResize:de,handleYScrollMouseDown:Vh,handleXScrollMouseDown:Uh,cssVars:o?void 0:Sl,themeClass:Io==null?void 0:Io.themeClass,onRender:Io==null?void 0:Io.onRender})},render(){var e;const{$slots:t,mergedClsPrefix:o,triggerDisplayManually:r,rtlEnabled:n,internalHoistYRail:i}=this;if(!this.scrollable)return(e=t.default)===null||e===void 0?void 0:e.call(t);const s=this.trigger==="none",a=()=>y("div",{ref:"yRailRef",class:[`${o}-scrollbar-rail`,`${o}-scrollbar-rail--vertical`],"data-scrollbar-rail":!0,style:this.verticalRailStyle,"aria-hidden":!0},y(s?Mc:Xo,s?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?y("div",{class:`${o}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),l=()=>{var d,u;return(d=this.onRender)===null||d===void 0||d.call(this),y("div",wa(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${o}-scrollbar`,this.themeClass,n&&`${o}-scrollbar--rtl`],style:this.cssVars,onMouseenter:r?void 0:this.handleMouseEnterWrapper,onMouseleave:r?void 0:this.handleMouseLeaveWrapper}),[this.container?(u=t.default)===null||u===void 0?void 0:u.call(t):y("div",{role:"none",ref:"containerRef",class:[`${o}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},y(td,{onResize:this.handleContentResize},{default:()=>y("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${o}-scrollbar-content`,this.contentClass]},t)})),i?null:a(),this.xScrollable&&y("div",{ref:"xRailRef",class:[`${o}-scrollbar-rail`,`${o}-scrollbar-rail--horizontal`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},y(s?Mc:Xo,s?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?y("div",{class:`${o}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:n?this.xBarLeftPx:void 0,left:n?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},c=this.container?l():y(td,{onResize:this.handleContainerResize},{default:l});return i?y(kt,null,c,a()):c}}),up=dp,WL=dp,jx={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},fp=e=>{const{borderRadius:t,popoverColor:o,textColor3:r,dividerColor:n,textColor2:i,primaryColorPressed:s,textColorDisabled:a,primaryColor:l,opacityDisabled:c,hoverColor:d,fontSizeSmall:u,fontSizeMedium:p,fontSizeLarge:h,fontSizeHuge:f,heightSmall:m,heightMedium:v,heightLarge:C,heightHuge:E}=e;return Object.assign(Object.assign({},jx),{optionFontSizeSmall:u,optionFontSizeMedium:p,optionFontSizeLarge:h,optionFontSizeHuge:f,optionHeightSmall:m,optionHeightMedium:v,optionHeightLarge:C,optionHeightHuge:E,borderRadius:t,color:o,groupHeaderTextColor:r,actionDividerColor:n,optionTextColor:i,optionTextColorPressed:s,optionTextColorDisabled:a,optionTextColorActive:l,optionOpacityDisabled:c,optionCheckColor:l,optionColorPending:d,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:d,actionTextColor:i,loadingColor:l})},Yx=et({name:"InternalSelectMenu",common:se,peers:{Scrollbar:cn,Empty:lp},self:fp}),Kx=Yx,qx={name:"InternalSelectMenu",common:N,peers:{Scrollbar:Ye,Empty:xo},self:fp},dn=qx,{cubicBezierEaseIn:dd,cubicBezierEaseOut:ud}=vi;function Xx({transformOrigin:e="inherit",duration:t=".2s",enterScale:o=".9",originalTransform:r="",originalTransition:n=""}={}){return[k("&.fade-in-scale-up-transition-leave-active",{transformOrigin:e,transition:`opacity ${t} ${dd}, transform ${t} ${dd} ${n&&","+n}`}),k("&.fade-in-scale-up-transition-enter-active",{transformOrigin:e,transition:`opacity ${t} ${ud}, transform ${t} ${ud} ${n&&","+n}`}),k("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${r} scale(${o})`}),k("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${r} scale(1)`})]}const Jx=q("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),Zx=ce({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(e){xa("-base-wave",Jx,Co(e,"clsPrefix"));const t=Q(null),o=Q(!1);let r=null;return _t(()=>{r!==null&&window.clearTimeout(r)}),{active:o,selfRef:t,play(){r!==null&&(window.clearTimeout(r),o.value=!1,r=null),Jo(()=>{var n;(n=t.value)===null||n===void 0||n.offsetHeight,o.value=!0,r=window.setTimeout(()=>{o.value=!1,r=null},1e3)})}}},render(){const{clsPrefix:e}=this;return y("div",{ref:"selfRef","aria-hidden":!0,class:[`${e}-base-wave`,this.active&&`${e}-base-wave--active`]})}}),Qx={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},pp=e=>{const{boxShadow2:t,popoverColor:o,textColor2:r,borderRadius:n,fontSize:i,dividerColor:s}=e;return Object.assign(Object.assign({},Qx),{fontSize:i,borderRadius:n,color:o,dividerColor:s,textColor:r,boxShadow:t})},eT={name:"Popover",common:se,self:pp},Mi=eT,tT={name:"Popover",common:N,self:pp},To=tT,oT={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px",closeMarginRtl:"0 4px 0 0"},rT={name:"Tag",common:N,self(e){const{textColor2:t,primaryColorHover:o,primaryColorPressed:r,primaryColor:n,infoColor:i,successColor:s,warningColor:a,errorColor:l,baseColor:c,borderColor:d,tagColor:u,opacityDisabled:p,closeIconColor:h,closeIconColorHover:f,closeIconColorPressed:m,closeColorHover:v,closeColorPressed:C,borderRadiusSmall:E,fontSizeMini:R,fontSizeTiny:_,fontSizeSmall:T,fontSizeMedium:w,heightMini:b,heightTiny:x,heightSmall:L,heightMedium:F,buttonColor2Hover:z,buttonColor2Pressed:G,fontWeightStrong:O}=e;return Object.assign(Object.assign({},oT),{closeBorderRadius:E,heightTiny:b,heightSmall:x,heightMedium:L,heightLarge:F,borderRadius:E,opacityDisabled:p,fontSizeTiny:R,fontSizeSmall:_,fontSizeMedium:T,fontSizeLarge:w,fontWeightStrong:O,textColorCheckable:t,textColorHoverCheckable:t,textColorPressedCheckable:t,textColorChecked:c,colorCheckable:"#0000",colorHoverCheckable:z,colorPressedCheckable:G,colorChecked:n,colorCheckedHover:o,colorCheckedPressed:r,border:`1px solid ${d}`,textColor:t,color:u,colorBordered:"#0000",closeIconColor:h,closeIconColorHover:f,closeIconColorPressed:m,closeColorHover:v,closeColorPressed:C,borderPrimary:`1px solid ${$(n,{alpha:.3})}`,textColorPrimary:n,colorPrimary:$(n,{alpha:.16}),colorBorderedPrimary:"#0000",closeIconColorPrimary:De(n,{lightness:.7}),closeIconColorHoverPrimary:De(n,{lightness:.7}),closeIconColorPressedPrimary:De(n,{lightness:.7}),closeColorHoverPrimary:$(n,{alpha:.16}),closeColorPressedPrimary:$(n,{alpha:.12}),borderInfo:`1px solid ${$(i,{alpha:.3})}`,textColorInfo:i,colorInfo:$(i,{alpha:.16}),colorBorderedInfo:"#0000",closeIconColorInfo:De(i,{alpha:.7}),closeIconColorHoverInfo:De(i,{alpha:.7}),closeIconColorPressedInfo:De(i,{alpha:.7}),closeColorHoverInfo:$(i,{alpha:.16}),closeColorPressedInfo:$(i,{alpha:.12}),borderSuccess:`1px solid ${$(s,{alpha:.3})}`,textColorSuccess:s,colorSuccess:$(s,{alpha:.16}),colorBorderedSuccess:"#0000",closeIconColorSuccess:De(s,{alpha:.7}),closeIconColorHoverSuccess:De(s,{alpha:.7}),closeIconColorPressedSuccess:De(s,{alpha:.7}),closeColorHoverSuccess:$(s,{alpha:.16}),closeColorPressedSuccess:$(s,{alpha:.12}),borderWarning:`1px solid ${$(a,{alpha:.3})}`,textColorWarning:a,colorWarning:$(a,{alpha:.16}),colorBorderedWarning:"#0000",closeIconColorWarning:De(a,{alpha:.7}),closeIconColorHoverWarning:De(a,{alpha:.7}),closeIconColorPressedWarning:De(a,{alpha:.7}),closeColorHoverWarning:$(a,{alpha:.16}),closeColorPressedWarning:$(a,{alpha:.11}),borderError:`1px solid ${$(l,{alpha:.3})}`,textColorError:l,colorError:$(l,{alpha:.16}),colorBorderedError:"#0000",closeIconColorError:De(l,{alpha:.7}),closeIconColorHoverError:De(l,{alpha:.7}),closeIconColorPressedError:De(l,{alpha:.7}),closeColorHoverError:$(l,{alpha:.16}),closeColorPressedError:$(l,{alpha:.12})})}},hp=rT,mp={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},nT=e=>{const{borderRadius:t,textColor2:o,textColorDisabled:r,inputColor:n,inputColorDisabled:i,primaryColor:s,primaryColorHover:a,warningColor:l,warningColorHover:c,errorColor:d,errorColorHover:u,borderColor:p,iconColor:h,iconColorDisabled:f,clearColor:m,clearColorHover:v,clearColorPressed:C,placeholderColor:E,placeholderColorDisabled:R,fontSizeTiny:_,fontSizeSmall:T,fontSizeMedium:w,fontSizeLarge:b,heightTiny:x,heightSmall:L,heightMedium:F,heightLarge:z}=e;return Object.assign(Object.assign({},mp),{fontSizeTiny:_,fontSizeSmall:T,fontSizeMedium:w,fontSizeLarge:b,heightTiny:x,heightSmall:L,heightMedium:F,heightLarge:z,borderRadius:t,textColor:o,textColorDisabled:r,placeholderColor:E,placeholderColorDisabled:R,color:n,colorDisabled:i,colorActive:n,border:`1px solid ${p}`,borderHover:`1px solid ${a}`,borderActive:`1px solid ${s}`,borderFocus:`1px solid ${a}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${$(s,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${$(s,{alpha:.2})}`,caretColor:s,arrowColor:h,arrowColorDisabled:f,loadingColor:s,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${c}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${c}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${$(l,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${$(l,{alpha:.2})}`,colorActiveWarning:n,caretColorWarning:l,borderError:`1px solid ${d}`,borderHoverError:`1px solid ${u}`,borderActiveError:`1px solid ${d}`,borderFocusError:`1px solid ${u}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${$(d,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${$(d,{alpha:.2})}`,colorActiveError:n,caretColorError:d,clearColor:m,clearColorHover:v,clearColorPressed:C})},iT=et({name:"InternalSelection",common:se,peers:{Popover:Mi},self:nT}),sT=iT,aT={name:"InternalSelection",common:N,peers:{Popover:To},self(e){const{borderRadius:t,textColor2:o,textColorDisabled:r,inputColor:n,inputColorDisabled:i,primaryColor:s,primaryColorHover:a,warningColor:l,warningColorHover:c,errorColor:d,errorColorHover:u,iconColor:p,iconColorDisabled:h,clearColor:f,clearColorHover:m,clearColorPressed:v,placeholderColor:C,placeholderColorDisabled:E,fontSizeTiny:R,fontSizeSmall:_,fontSizeMedium:T,fontSizeLarge:w,heightTiny:b,heightSmall:x,heightMedium:L,heightLarge:F}=e;return Object.assign(Object.assign({},mp),{fontSizeTiny:R,fontSizeSmall:_,fontSizeMedium:T,fontSizeLarge:w,heightTiny:b,heightSmall:x,heightMedium:L,heightLarge:F,borderRadius:t,textColor:o,textColorDisabled:r,placeholderColor:C,placeholderColorDisabled:E,color:n,colorDisabled:i,colorActive:$(s,{alpha:.1}),border:"1px solid #0000",borderHover:`1px solid ${a}`,borderActive:`1px solid ${s}`,borderFocus:`1px solid ${a}`,boxShadowHover:"none",boxShadowActive:`0 0 8px 0 ${$(s,{alpha:.4})}`,boxShadowFocus:`0 0 8px 0 ${$(s,{alpha:.4})}`,caretColor:s,arrowColor:p,arrowColorDisabled:h,loadingColor:s,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${c}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${c}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 8px 0 ${$(l,{alpha:.4})}`,boxShadowFocusWarning:`0 0 8px 0 ${$(l,{alpha:.4})}`,colorActiveWarning:$(l,{alpha:.1}),caretColorWarning:l,borderError:`1px solid ${d}`,borderHoverError:`1px solid ${u}`,borderActiveError:`1px solid ${d}`,borderFocusError:`1px solid ${u}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 8px 0 ${$(d,{alpha:.4})}`,boxShadowFocusError:`0 0 8px 0 ${$(d,{alpha:.4})}`,colorActiveError:$(d,{alpha:.1}),caretColorError:d,clearColor:f,clearColorHover:m,clearColorPressed:v})}},il=aT,{cubicBezierEaseInOut:Vt}=vi;function lT({duration:e=".2s",delay:t=".1s"}={}){return[k("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),k("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),k("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${e} ${Vt},
 max-width ${e} ${Vt} ${t},
 margin-left ${e} ${Vt} ${t},
 margin-right ${e} ${Vt} ${t};
 `),k("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${e} ${Vt} ${t},
 max-width ${e} ${Vt},
 margin-left ${e} ${Vt},
 margin-right ${e} ${Vt};
 `)]}const cT={iconMargin:"11px 8px 0 12px",iconMarginRtl:"11px 12px 0 8px",iconSize:"24px",closeIconSize:"16px",closeSize:"20px",closeMargin:"13px 14px 0 0",closeMarginRtl:"13px 0 0 14px",padding:"13px"},dT={name:"Alert",common:N,self(e){const{lineHeight:t,borderRadius:o,fontWeightStrong:r,dividerColor:n,inputColor:i,textColor1:s,textColor2:a,closeColorHover:l,closeColorPressed:c,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:p,infoColorSuppl:h,successColorSuppl:f,warningColorSuppl:m,errorColorSuppl:v,fontSize:C}=e;return Object.assign(Object.assign({},cT),{fontSize:C,lineHeight:t,titleFontWeight:r,borderRadius:o,border:`1px solid ${n}`,color:i,titleTextColor:s,iconColor:a,contentTextColor:a,closeBorderRadius:o,closeColorHover:l,closeColorPressed:c,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:p,borderInfo:`1px solid ${$(h,{alpha:.35})}`,colorInfo:$(h,{alpha:.25}),titleTextColorInfo:s,iconColorInfo:h,contentTextColorInfo:a,closeColorHoverInfo:l,closeColorPressedInfo:c,closeIconColorInfo:d,closeIconColorHoverInfo:u,closeIconColorPressedInfo:p,borderSuccess:`1px solid ${$(f,{alpha:.35})}`,colorSuccess:$(f,{alpha:.25}),titleTextColorSuccess:s,iconColorSuccess:f,contentTextColorSuccess:a,closeColorHoverSuccess:l,closeColorPressedSuccess:c,closeIconColorSuccess:d,closeIconColorHoverSuccess:u,closeIconColorPressedSuccess:p,borderWarning:`1px solid ${$(m,{alpha:.35})}`,colorWarning:$(m,{alpha:.25}),titleTextColorWarning:s,iconColorWarning:m,contentTextColorWarning:a,closeColorHoverWarning:l,closeColorPressedWarning:c,closeIconColorWarning:d,closeIconColorHoverWarning:u,closeIconColorPressedWarning:p,borderError:`1px solid ${$(v,{alpha:.35})}`,colorError:$(v,{alpha:.25}),titleTextColorError:s,iconColorError:v,contentTextColorError:a,closeColorHoverError:l,closeColorPressedError:c,closeIconColorError:d,closeIconColorHoverError:u,closeIconColorPressedError:p})}},uT=dT,{cubicBezierEaseInOut:gt,cubicBezierEaseOut:fT,cubicBezierEaseIn:pT}=vi;function hT({overflow:e="hidden",duration:t=".3s",originalTransition:o="",leavingDelay:r="0s",foldPadding:n=!1,enterToProps:i=void 0,leaveToProps:s=void 0,reverse:a=!1}={}){const l=a?"leave":"enter",c=a?"enter":"leave";return[k(`&.fade-in-height-expand-transition-${c}-from,
 &.fade-in-height-expand-transition-${l}-to`,Object.assign(Object.assign({},i),{opacity:1})),k(`&.fade-in-height-expand-transition-${c}-to,
 &.fade-in-height-expand-transition-${l}-from`,Object.assign(Object.assign({},s),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:n?"0 !important":void 0,paddingBottom:n?"0 !important":void 0})),k(`&.fade-in-height-expand-transition-${c}-active`,`
 overflow: ${e};
 transition:
 max-height ${t} ${gt} ${r},
 opacity ${t} ${fT} ${r},
 margin-top ${t} ${gt} ${r},
 margin-bottom ${t} ${gt} ${r},
 padding-top ${t} ${gt} ${r},
 padding-bottom ${t} ${gt} ${r}
 ${o?","+o:""}
 `),k(`&.fade-in-height-expand-transition-${l}-active`,`
 overflow: ${e};
 transition:
 max-height ${t} ${gt},
 opacity ${t} ${pT},
 margin-top ${t} ${gt},
 margin-bottom ${t} ${gt},
 padding-top ${t} ${gt},
 padding-bottom ${t} ${gt}
 ${o?","+o:""}
 `)]}const mT={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"},gT=e=>{const{borderRadius:t,railColor:o,primaryColor:r,primaryColorHover:n,primaryColorPressed:i,textColor2:s}=e;return Object.assign(Object.assign({},mT),{borderRadius:t,railColor:o,railColorActive:r,linkColor:$(r,{alpha:.15}),linkTextColor:s,linkTextColorHover:n,linkTextColorPressed:i,linkTextColorActive:r})},vT={name:"Anchor",common:N,self:gT},CT=vT,bT=_o&&"chrome"in window;_o&&navigator.userAgent.includes("Firefox");const ET=_o&&navigator.userAgent.includes("Safari")&&!bT,ST={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},yT={name:"Input",common:N,self(e){const{textColor2:t,textColor3:o,textColorDisabled:r,primaryColor:n,primaryColorHover:i,inputColor:s,inputColorDisabled:a,warningColor:l,warningColorHover:c,errorColor:d,errorColorHover:u,borderRadius:p,lineHeight:h,fontSizeTiny:f,fontSizeSmall:m,fontSizeMedium:v,fontSizeLarge:C,heightTiny:E,heightSmall:R,heightMedium:_,heightLarge:T,clearColor:w,clearColorHover:b,clearColorPressed:x,placeholderColor:L,placeholderColorDisabled:F,iconColor:z,iconColorDisabled:G,iconColorHover:O,iconColorPressed:I}=e;return Object.assign(Object.assign({},ST),{countTextColorDisabled:r,countTextColor:o,heightTiny:E,heightSmall:R,heightMedium:_,heightLarge:T,fontSizeTiny:f,fontSizeSmall:m,fontSizeMedium:v,fontSizeLarge:C,lineHeight:h,lineHeightTextarea:h,borderRadius:p,iconSize:"16px",groupLabelColor:s,textColor:t,textColorDisabled:r,textDecorationColor:t,groupLabelTextColor:t,caretColor:n,placeholderColor:L,placeholderColorDisabled:F,color:s,colorDisabled:a,colorFocus:$(n,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:`1px solid ${i}`,borderDisabled:"1px solid #0000",borderFocus:`1px solid ${i}`,boxShadowFocus:`0 0 8px 0 ${$(n,{alpha:.3})}`,loadingColor:n,loadingColorWarning:l,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${c}`,colorFocusWarning:$(l,{alpha:.1}),borderFocusWarning:`1px solid ${c}`,boxShadowFocusWarning:`0 0 8px 0 ${$(l,{alpha:.3})}`,caretColorWarning:l,loadingColorError:d,borderError:`1px solid ${d}`,borderHoverError:`1px solid ${u}`,colorFocusError:$(d,{alpha:.1}),borderFocusError:`1px solid ${u}`,boxShadowFocusError:`0 0 8px 0 ${$(d,{alpha:.3})}`,caretColorError:d,clearColor:w,clearColorHover:b,clearColorPressed:x,iconColor:z,iconColorDisabled:G,iconColorHover:O,iconColorPressed:I,suffixTextColor:t})}},at=yT;function _T(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}const xT={name:"AutoComplete",common:N,peers:{InternalSelectMenu:dn,Input:at},self:_T},TT=xT,AT=e=>{const{borderRadius:t,avatarColor:o,cardColor:r,fontSize:n,heightTiny:i,heightSmall:s,heightMedium:a,heightLarge:l,heightHuge:c,modalColor:d,popoverColor:u}=e;return{borderRadius:t,fontSize:n,border:`2px solid ${r}`,heightTiny:i,heightSmall:s,heightMedium:a,heightLarge:l,heightHuge:c,color:J(r,o),colorModal:J(d,o),colorPopover:J(u,o)}},wT={name:"Avatar",common:N,self:AT},gp=wT,IT=()=>({gap:"-12px"}),RT={name:"AvatarGroup",common:N,peers:{Avatar:gp},self:IT},PT=RT,LT={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"},OT={name:"BackTop",common:N,self(e){const{popoverColor:t,textColor2:o,primaryColorHover:r,primaryColorPressed:n}=e;return Object.assign(Object.assign({},LT),{color:t,textColor:o,iconColor:o,iconColorHover:r,iconColorPressed:n,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}},DT=OT,kT={name:"Badge",common:N,self(e){const{errorColorSuppl:t,infoColorSuppl:o,successColorSuppl:r,warningColorSuppl:n,fontFamily:i}=e;return{color:t,colorInfo:o,colorSuccess:r,colorError:t,colorWarning:n,fontSize:"12px",fontFamily:i}}},NT=kT,MT={fontWeightActive:"400"},vp=e=>{const{fontSize:t,textColor3:o,textColor2:r,borderRadius:n,buttonColor2Hover:i,buttonColor2Pressed:s}=e;return Object.assign(Object.assign({},MT),{fontSize:t,itemLineHeight:"1.25",itemTextColor:o,itemTextColorHover:r,itemTextColorPressed:r,itemTextColorActive:r,itemBorderRadius:n,itemColorHover:i,itemColorPressed:s,separatorColor:o})},FT={name:"Breadcrumb",common:se,self:vp},GL=FT,BT={name:"Breadcrumb",common:N,self:vp},HT=BT;function Jt(e){return J(e,[255,255,255,.16])}function Ln(e){return J(e,[0,0,0,.12])}const $T=je("n-button-group"),zT={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"},Cp=e=>{const{heightTiny:t,heightSmall:o,heightMedium:r,heightLarge:n,borderRadius:i,fontSizeTiny:s,fontSizeSmall:a,fontSizeMedium:l,fontSizeLarge:c,opacityDisabled:d,textColor2:u,textColor3:p,primaryColorHover:h,primaryColorPressed:f,borderColor:m,primaryColor:v,baseColor:C,infoColor:E,infoColorHover:R,infoColorPressed:_,successColor:T,successColorHover:w,successColorPressed:b,warningColor:x,warningColorHover:L,warningColorPressed:F,errorColor:z,errorColorHover:G,errorColorPressed:O,fontWeight:I,buttonColor2:P,buttonColor2Hover:B,buttonColor2Pressed:M,fontWeightStrong:te}=e;return Object.assign(Object.assign({},zT),{heightTiny:t,heightSmall:o,heightMedium:r,heightLarge:n,borderRadiusTiny:i,borderRadiusSmall:i,borderRadiusMedium:i,borderRadiusLarge:i,fontSizeTiny:s,fontSizeSmall:a,fontSizeMedium:l,fontSizeLarge:c,opacityDisabled:d,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:P,colorSecondaryHover:B,colorSecondaryPressed:M,colorTertiary:P,colorTertiaryHover:B,colorTertiaryPressed:M,colorQuaternary:"#0000",colorQuaternaryHover:B,colorQuaternaryPressed:M,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:u,textColorTertiary:p,textColorHover:h,textColorPressed:f,textColorFocus:h,textColorDisabled:u,textColorText:u,textColorTextHover:h,textColorTextPressed:f,textColorTextFocus:h,textColorTextDisabled:u,textColorGhost:u,textColorGhostHover:h,textColorGhostPressed:f,textColorGhostFocus:h,textColorGhostDisabled:u,border:`1px solid ${m}`,borderHover:`1px solid ${h}`,borderPressed:`1px solid ${f}`,borderFocus:`1px solid ${h}`,borderDisabled:`1px solid ${m}`,rippleColor:v,colorPrimary:v,colorHoverPrimary:h,colorPressedPrimary:f,colorFocusPrimary:h,colorDisabledPrimary:v,textColorPrimary:C,textColorHoverPrimary:C,textColorPressedPrimary:C,textColorFocusPrimary:C,textColorDisabledPrimary:C,textColorTextPrimary:v,textColorTextHoverPrimary:h,textColorTextPressedPrimary:f,textColorTextFocusPrimary:h,textColorTextDisabledPrimary:u,textColorGhostPrimary:v,textColorGhostHoverPrimary:h,textColorGhostPressedPrimary:f,textColorGhostFocusPrimary:h,textColorGhostDisabledPrimary:v,borderPrimary:`1px solid ${v}`,borderHoverPrimary:`1px solid ${h}`,borderPressedPrimary:`1px solid ${f}`,borderFocusPrimary:`1px solid ${h}`,borderDisabledPrimary:`1px solid ${v}`,rippleColorPrimary:v,colorInfo:E,colorHoverInfo:R,colorPressedInfo:_,colorFocusInfo:R,colorDisabledInfo:E,textColorInfo:C,textColorHoverInfo:C,textColorPressedInfo:C,textColorFocusInfo:C,textColorDisabledInfo:C,textColorTextInfo:E,textColorTextHoverInfo:R,textColorTextPressedInfo:_,textColorTextFocusInfo:R,textColorTextDisabledInfo:u,textColorGhostInfo:E,textColorGhostHoverInfo:R,textColorGhostPressedInfo:_,textColorGhostFocusInfo:R,textColorGhostDisabledInfo:E,borderInfo:`1px solid ${E}`,borderHoverInfo:`1px solid ${R}`,borderPressedInfo:`1px solid ${_}`,borderFocusInfo:`1px solid ${R}`,borderDisabledInfo:`1px solid ${E}`,rippleColorInfo:E,colorSuccess:T,colorHoverSuccess:w,colorPressedSuccess:b,colorFocusSuccess:w,colorDisabledSuccess:T,textColorSuccess:C,textColorHoverSuccess:C,textColorPressedSuccess:C,textColorFocusSuccess:C,textColorDisabledSuccess:C,textColorTextSuccess:T,textColorTextHoverSuccess:w,textColorTextPressedSuccess:b,textColorTextFocusSuccess:w,textColorTextDisabledSuccess:u,textColorGhostSuccess:T,textColorGhostHoverSuccess:w,textColorGhostPressedSuccess:b,textColorGhostFocusSuccess:w,textColorGhostDisabledSuccess:T,borderSuccess:`1px solid ${T}`,borderHoverSuccess:`1px solid ${w}`,borderPressedSuccess:`1px solid ${b}`,borderFocusSuccess:`1px solid ${w}`,borderDisabledSuccess:`1px solid ${T}`,rippleColorSuccess:T,colorWarning:x,colorHoverWarning:L,colorPressedWarning:F,colorFocusWarning:L,colorDisabledWarning:x,textColorWarning:C,textColorHoverWarning:C,textColorPressedWarning:C,textColorFocusWarning:C,textColorDisabledWarning:C,textColorTextWarning:x,textColorTextHoverWarning:L,textColorTextPressedWarning:F,textColorTextFocusWarning:L,textColorTextDisabledWarning:u,textColorGhostWarning:x,textColorGhostHoverWarning:L,textColorGhostPressedWarning:F,textColorGhostFocusWarning:L,textColorGhostDisabledWarning:x,borderWarning:`1px solid ${x}`,borderHoverWarning:`1px solid ${L}`,borderPressedWarning:`1px solid ${F}`,borderFocusWarning:`1px solid ${L}`,borderDisabledWarning:`1px solid ${x}`,rippleColorWarning:x,colorError:z,colorHoverError:G,colorPressedError:O,colorFocusError:G,colorDisabledError:z,textColorError:C,textColorHoverError:C,textColorPressedError:C,textColorFocusError:C,textColorDisabledError:C,textColorTextError:z,textColorTextHoverError:G,textColorTextPressedError:O,textColorTextFocusError:G,textColorTextDisabledError:u,textColorGhostError:z,textColorGhostHoverError:G,textColorGhostPressedError:O,textColorGhostFocusError:G,textColorGhostDisabledError:z,borderError:`1px solid ${z}`,borderHoverError:`1px solid ${G}`,borderPressedError:`1px solid ${O}`,borderFocusError:`1px solid ${G}`,borderDisabledError:`1px solid ${z}`,rippleColorError:z,waveOpacity:"0.6",fontWeight:I,fontWeightStrong:te})},UT={name:"Button",common:se,self:Cp},Fi=UT,VT={name:"Button",common:N,self(e){const t=Cp(e);return t.waveOpacity="0.8",t.colorOpacitySecondary="0.16",t.colorOpacitySecondaryHover="0.2",t.colorOpacitySecondaryPressed="0.12",t}},Ke=VT,WT=k([q("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 -webkit-user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[W("color",[Y("border",{borderColor:"var(--n-border-color)"}),W("disabled",[Y("border",{borderColor:"var(--n-border-color-disabled)"})]),Zn("disabled",[k("&:focus",[Y("state-border",{borderColor:"var(--n-border-color-focus)"})]),k("&:hover",[Y("state-border",{borderColor:"var(--n-border-color-hover)"})]),k("&:active",[Y("state-border",{borderColor:"var(--n-border-color-pressed)"})]),W("pressed",[Y("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),W("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[Y("border",{border:"var(--n-border-disabled)"})]),Zn("disabled",[k("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[Y("state-border",{border:"var(--n-border-focus)"})]),k("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[Y("state-border",{border:"var(--n-border-hover)"})]),k("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[Y("state-border",{border:"var(--n-border-pressed)"})]),W("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[Y("state-border",{border:"var(--n-border-pressed)"})])]),W("loading","cursor: wait;"),q("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[W("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),_o&&"MozBoxSizing"in document.createElement("div").style?k("&::moz-focus-inner",{border:0}):null,Y("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),Y("border",{border:"var(--n-border)"}),Y("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),Y("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[q("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `,[Jd({top:"50%",originalTransform:"translateY(-50%)"})]),lT()]),Y("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 min-width: 0;
 `,[k("~",[Y("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),W("block",`
 display: flex;
 width: 100%;
 `),W("dashed",[Y("border, state-border",{borderStyle:"dashed !important"})]),W("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),k("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),k("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),GT=Object.assign(Object.assign({},be.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],nativeFocusBehavior:{type:Boolean,default:!ET}}),bp=ce({name:"Button",props:GT,setup(e){const t=Q(null),o=Q(null),r=Q(!1),n=la(()=>!e.quaternary&&!e.tertiary&&!e.secondary&&!e.text&&(!e.color||e.ghost||e.dashed)&&e.bordered),i=ut($T,{}),{mergedSizeRef:s}=Lx({},{defaultSize:"medium",mergedSize:_=>{const{size:T}=e;if(T)return T;const{size:w}=i;if(w)return w;const{mergedSize:b}=_||{};return b?b.value:"medium"}}),a=X(()=>e.focusable&&!e.disabled),l=_=>{var T;a.value||_.preventDefault(),!e.nativeFocusBehavior&&(_.preventDefault(),!e.disabled&&a.value&&((T=t.value)===null||T===void 0||T.focus({preventScroll:!0})))},c=_=>{var T;if(!e.disabled&&!e.loading){const{onClick:w}=e;w&&no(w,_),e.text||(T=o.value)===null||T===void 0||T.play()}},d=_=>{switch(_.key){case"Enter":if(!e.keyboard)return;r.value=!1}},u=_=>{switch(_.key){case"Enter":if(!e.keyboard||e.loading){_.preventDefault();return}r.value=!0}},p=()=>{r.value=!1},{inlineThemeDisabled:h,mergedClsPrefixRef:f,mergedRtlRef:m}=Qe(e),v=be("Button","-button",WT,Fi,e,f),C=cr("Button",m,f),E=X(()=>{const _=v.value,{common:{cubicBezierEaseInOut:T,cubicBezierEaseOut:w},self:b}=_,{rippleDuration:x,opacityDisabled:L,fontWeight:F,fontWeightStrong:z}=b,G=s.value,{dashed:O,type:I,ghost:P,text:B,color:M,round:te,circle:ne,textColor:ue,secondary:_e,tertiary:Ne,quaternary:qe,strong:ur}=e,lt={"font-weight":ur?z:F};let ve={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const Kt=I==="tertiary",mn=I==="default",de=Kt?"default":I;if(B){const Ce=ue||M;ve={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":Ce||b[ee("textColorText",de)],"--n-text-color-hover":Ce?Jt(Ce):b[ee("textColorTextHover",de)],"--n-text-color-pressed":Ce?Ln(Ce):b[ee("textColorTextPressed",de)],"--n-text-color-focus":Ce?Jt(Ce):b[ee("textColorTextHover",de)],"--n-text-color-disabled":Ce||b[ee("textColorTextDisabled",de)]}}else if(P||O){const Ce=ue||M;ve={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":M||b[ee("rippleColor",de)],"--n-text-color":Ce||b[ee("textColorGhost",de)],"--n-text-color-hover":Ce?Jt(Ce):b[ee("textColorGhostHover",de)],"--n-text-color-pressed":Ce?Ln(Ce):b[ee("textColorGhostPressed",de)],"--n-text-color-focus":Ce?Jt(Ce):b[ee("textColorGhostHover",de)],"--n-text-color-disabled":Ce||b[ee("textColorGhostDisabled",de)]}}else if(_e){const Ce=mn?b.textColor:Kt?b.textColorTertiary:b[ee("color",de)],we=M||Ce,wo=I!=="default"&&I!=="tertiary";ve={"--n-color":wo?$(we,{alpha:Number(b.colorOpacitySecondary)}):b.colorSecondary,"--n-color-hover":wo?$(we,{alpha:Number(b.colorOpacitySecondaryHover)}):b.colorSecondaryHover,"--n-color-pressed":wo?$(we,{alpha:Number(b.colorOpacitySecondaryPressed)}):b.colorSecondaryPressed,"--n-color-focus":wo?$(we,{alpha:Number(b.colorOpacitySecondaryHover)}):b.colorSecondaryHover,"--n-color-disabled":b.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":we,"--n-text-color-hover":we,"--n-text-color-pressed":we,"--n-text-color-focus":we,"--n-text-color-disabled":we}}else if(Ne||qe){const Ce=mn?b.textColor:Kt?b.textColorTertiary:b[ee("color",de)],we=M||Ce;Ne?(ve["--n-color"]=b.colorTertiary,ve["--n-color-hover"]=b.colorTertiaryHover,ve["--n-color-pressed"]=b.colorTertiaryPressed,ve["--n-color-focus"]=b.colorSecondaryHover,ve["--n-color-disabled"]=b.colorTertiary):(ve["--n-color"]=b.colorQuaternary,ve["--n-color-hover"]=b.colorQuaternaryHover,ve["--n-color-pressed"]=b.colorQuaternaryPressed,ve["--n-color-focus"]=b.colorQuaternaryHover,ve["--n-color-disabled"]=b.colorQuaternary),ve["--n-ripple-color"]="#0000",ve["--n-text-color"]=we,ve["--n-text-color-hover"]=we,ve["--n-text-color-pressed"]=we,ve["--n-text-color-focus"]=we,ve["--n-text-color-disabled"]=we}else ve={"--n-color":M||b[ee("color",de)],"--n-color-hover":M?Jt(M):b[ee("colorHover",de)],"--n-color-pressed":M?Ln(M):b[ee("colorPressed",de)],"--n-color-focus":M?Jt(M):b[ee("colorFocus",de)],"--n-color-disabled":M||b[ee("colorDisabled",de)],"--n-ripple-color":M||b[ee("rippleColor",de)],"--n-text-color":ue||(M?b.textColorPrimary:Kt?b.textColorTertiary:b[ee("textColor",de)]),"--n-text-color-hover":ue||(M?b.textColorHoverPrimary:b[ee("textColorHover",de)]),"--n-text-color-pressed":ue||(M?b.textColorPressedPrimary:b[ee("textColorPressed",de)]),"--n-text-color-focus":ue||(M?b.textColorFocusPrimary:b[ee("textColorFocus",de)]),"--n-text-color-disabled":ue||(M?b.textColorDisabledPrimary:b[ee("textColorDisabled",de)])};let Ao={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};B?Ao={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:Ao={"--n-border":b[ee("border",de)],"--n-border-hover":b[ee("borderHover",de)],"--n-border-pressed":b[ee("borderPressed",de)],"--n-border-focus":b[ee("borderFocus",de)],"--n-border-disabled":b[ee("borderDisabled",de)]};const{[ee("height",G)]:fr,[ee("fontSize",G)]:Ht,[ee("padding",G)]:Gi,[ee("paddingRound",G)]:ji,[ee("iconSize",G)]:pr,[ee("borderRadius",G)]:Yi,[ee("iconMargin",G)]:Ki,waveOpacity:qi}=b,Xi={"--n-width":ne&&!B?fr:"initial","--n-height":B?"initial":fr,"--n-font-size":Ht,"--n-padding":ne||B?"initial":te?ji:Gi,"--n-icon-size":pr,"--n-icon-margin":Ki,"--n-border-radius":B?"initial":ne||te?fr:Yi};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":T,"--n-bezier-ease-out":w,"--n-ripple-duration":x,"--n-opacity-disabled":L,"--n-wave-opacity":qi},lt),ve),Ao),Xi)}),R=h?Dt("button",X(()=>{let _="";const{dashed:T,type:w,ghost:b,text:x,color:L,round:F,circle:z,textColor:G,secondary:O,tertiary:I,quaternary:P,strong:B}=e;T&&(_+="a"),b&&(_+="b"),x&&(_+="c"),F&&(_+="d"),z&&(_+="e"),O&&(_+="f"),I&&(_+="g"),P&&(_+="h"),B&&(_+="i"),L&&(_+="j"+Fc(L)),G&&(_+="k"+Fc(G));const{value:M}=s;return _+="l"+M[0],_+="m"+w[0],_}),E,e):void 0;return{selfElRef:t,waveElRef:o,mergedClsPrefix:f,mergedFocusable:a,mergedSize:s,showBorder:n,enterPressed:r,rtlEnabled:C,handleMousedown:l,handleKeydown:u,handleBlur:p,handleKeyup:d,handleClick:c,customColorCssVars:X(()=>{const{color:_}=e;if(!_)return null;const T=Jt(_);return{"--n-border-color":_,"--n-border-color-hover":T,"--n-border-color-pressed":Ln(_),"--n-border-color-focus":T,"--n-border-color-disabled":_}}),cssVars:h?void 0:E,themeClass:R==null?void 0:R.themeClass,onRender:R==null?void 0:R.onRender}},render(){const{mergedClsPrefix:e,tag:t,onRender:o}=this;o==null||o();const r=bt(this.$slots.default,n=>n&&y("span",{class:`${e}-button__content`},n));return y(t,{ref:"selfElRef",class:[this.themeClass,`${e}-button`,`${e}-button--${this.type}-type`,`${e}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${e}-button--rtl`,this.disabled&&`${e}-button--disabled`,this.block&&`${e}-button--block`,this.enterPressed&&`${e}-button--pressed`,!this.text&&this.dashed&&`${e}-button--dashed`,this.color&&`${e}-button--color`,this.secondary&&`${e}-button--secondary`,this.loading&&`${e}-button--loading`,this.ghost&&`${e}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&r,y(ip,{width:!0},{default:()=>bt(this.$slots.icon,n=>(this.loading||n)&&y("span",{class:`${e}-button__icon`,style:{margin:k_(this.$slots.default)?"0":""}},y(Zd,null,{default:()=>this.loading?y(Qd,{clsPrefix:e,key:"loading",class:`${e}-icon-slot`,strokeWidth:20}):y("div",{key:"icon",class:`${e}-icon-slot`,role:"none"},n)})))}),this.iconPlacement==="left"&&r,this.text?null:y(Zx,{ref:"waveElRef",clsPrefix:e}),this.showBorder?y("div",{"aria-hidden":!0,class:`${e}-button__border`,style:this.customColorCssVars}):null,this.showBorder?y("div",{"aria-hidden":!0,class:`${e}-button__state-border`,style:this.customColorCssVars}):null)}}),fd=bp,jL=bp,jT={titleFontSize:"22px"},YT=e=>{const{borderRadius:t,fontSize:o,lineHeight:r,textColor2:n,textColor1:i,textColorDisabled:s,dividerColor:a,fontWeightStrong:l,primaryColor:c,baseColor:d,hoverColor:u,cardColor:p,modalColor:h,popoverColor:f}=e;return Object.assign(Object.assign({},jT),{borderRadius:t,borderColor:J(p,a),borderColorModal:J(h,a),borderColorPopover:J(f,a),textColor:n,titleFontWeight:l,titleTextColor:i,dayTextColor:s,fontSize:o,lineHeight:r,dateColorCurrent:c,dateTextColorCurrent:d,cellColorHover:J(p,u),cellColorHoverModal:J(h,u),cellColorHoverPopover:J(f,u),cellColor:p,cellColorModal:h,cellColorPopover:f,barColor:c})},KT={name:"Calendar",common:N,peers:{Button:Ke},self:YT},qT=KT,XT=e=>{const{fontSize:t,boxShadow2:o,popoverColor:r,textColor2:n,borderRadius:i,borderColor:s,heightSmall:a,heightMedium:l,heightLarge:c,fontSizeSmall:d,fontSizeMedium:u,fontSizeLarge:p,dividerColor:h}=e;return{panelFontSize:t,boxShadow:o,color:r,textColor:n,borderRadius:i,border:`1px solid ${s}`,heightSmall:a,heightMedium:l,heightLarge:c,fontSizeSmall:d,fontSizeMedium:u,fontSizeLarge:p,dividerColor:h}},JT={name:"ColorPicker",common:N,peers:{Input:at,Button:Ke},self:XT},ZT=JT,QT={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"},Ep=e=>{const{primaryColor:t,borderRadius:o,lineHeight:r,fontSize:n,cardColor:i,textColor2:s,textColor1:a,dividerColor:l,fontWeightStrong:c,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:p,closeColorHover:h,closeColorPressed:f,modalColor:m,boxShadow1:v,popoverColor:C,actionColor:E}=e;return Object.assign(Object.assign({},QT),{lineHeight:r,color:i,colorModal:m,colorPopover:C,colorTarget:t,colorEmbedded:E,colorEmbeddedModal:E,colorEmbeddedPopover:E,textColor:s,titleTextColor:a,borderColor:l,actionColor:E,titleFontWeight:c,closeColorHover:h,closeColorPressed:f,closeBorderRadius:o,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:p,fontSizeSmall:n,fontSizeMedium:n,fontSizeLarge:n,fontSizeHuge:n,boxShadow:v,borderRadius:o})},eA={name:"Card",common:se,self:Ep},Sp=eA,tA={name:"Card",common:N,self(e){const t=Ep(e),{cardColor:o,modalColor:r,popoverColor:n}=e;return t.colorEmbedded=o,t.colorEmbeddedModal=r,t.colorEmbeddedPopover=n,t}},yp=tA,oA=k([q("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 word-break: break-word;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[eu({background:"var(--n-color-modal)"}),W("hoverable",[k("&:hover","box-shadow: var(--n-box-shadow);")]),W("content-segmented",[k(">",[Y("content",{paddingTop:"var(--n-padding-bottom)"})])]),W("content-soft-segmented",[k(">",[Y("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),W("footer-segmented",[k(">",[Y("footer",{paddingTop:"var(--n-padding-bottom)"})])]),W("footer-soft-segmented",[k(">",[Y("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),k(">",[q("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[Y("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),Y("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),Y("close",`
 margin: 0 0 0 8px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),Y("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),Y("content","flex: 1;"),Y("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[k("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),Y("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),q("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[k("img",`
 display: block;
 width: 100%;
 `)]),W("bordered",`
 border: 1px solid var(--n-border-color);
 `,[k("&:target","border-color: var(--n-color-target);")]),W("action-segmented",[k(">",[Y("action",[k("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),W("content-segmented, content-soft-segmented",[k(">",[Y("content",{transition:"border-color 0.3s var(--n-bezier)"},[k("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),W("footer-segmented, footer-soft-segmented",[k(">",[Y("footer",{transition:"border-color 0.3s var(--n-bezier)"},[k("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),W("embedded",`
 background-color: var(--n-color-embedded);
 `)]),tu(q("card",`
 background: var(--n-color-modal);
 `,[W("embedded",`
 background-color: var(--n-color-embedded-modal);
 `)])),cm(q("card",`
 background: var(--n-color-popover);
 `,[W("embedded",`
 background-color: var(--n-color-embedded-popover);
 `)]))]),sl={title:String,contentStyle:[Object,String],headerStyle:[Object,String],headerExtraStyle:[Object,String],footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:{type:Boolean,default:!1},hoverable:Boolean,role:String,onClose:[Function,Array]},rA=Di(sl),nA=Object.assign(Object.assign({},be.props),sl),iA=ce({name:"Card",props:nA,setup(e){const t=()=>{const{onClose:c}=e;c&&no(c)},{inlineThemeDisabled:o,mergedClsPrefixRef:r,mergedRtlRef:n}=Qe(e),i=be("Card","-card",oA,Sp,e,r),s=cr("Card",n,r),a=X(()=>{const{size:c}=e,{self:{color:d,colorModal:u,colorTarget:p,textColor:h,titleTextColor:f,titleFontWeight:m,borderColor:v,actionColor:C,borderRadius:E,lineHeight:R,closeIconColor:_,closeIconColorHover:T,closeIconColorPressed:w,closeColorHover:b,closeColorPressed:x,closeBorderRadius:L,closeIconSize:F,closeSize:z,boxShadow:G,colorPopover:O,colorEmbedded:I,colorEmbeddedModal:P,colorEmbeddedPopover:B,[ee("padding",c)]:M,[ee("fontSize",c)]:te,[ee("titleFontSize",c)]:ne},common:{cubicBezierEaseInOut:ue}}=i.value,{top:_e,left:Ne,bottom:qe}=ou(M);return{"--n-bezier":ue,"--n-border-radius":E,"--n-color":d,"--n-color-modal":u,"--n-color-popover":O,"--n-color-embedded":I,"--n-color-embedded-modal":P,"--n-color-embedded-popover":B,"--n-color-target":p,"--n-text-color":h,"--n-line-height":R,"--n-action-color":C,"--n-title-text-color":f,"--n-title-font-weight":m,"--n-close-icon-color":_,"--n-close-icon-color-hover":T,"--n-close-icon-color-pressed":w,"--n-close-color-hover":b,"--n-close-color-pressed":x,"--n-border-color":v,"--n-box-shadow":G,"--n-padding-top":_e,"--n-padding-bottom":qe,"--n-padding-left":Ne,"--n-font-size":te,"--n-title-font-size":ne,"--n-close-size":z,"--n-close-icon-size":F,"--n-close-border-radius":L}}),l=o?Dt("card",X(()=>e.size[0]),a,e):void 0;return{rtlEnabled:s,mergedClsPrefix:r,mergedTheme:i,handleCloseClick:t,cssVars:o?void 0:a,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){const{segmented:e,bordered:t,hoverable:o,mergedClsPrefix:r,rtlEnabled:n,onRender:i,embedded:s,$slots:a}=this;return i==null||i(),y("div",{class:[`${r}-card`,this.themeClass,s&&`${r}-card--embedded`,{[`${r}-card--rtl`]:n,[`${r}-card--content${typeof e!="boolean"&&e.content==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.content,[`${r}-card--footer${typeof e!="boolean"&&e.footer==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.footer,[`${r}-card--action-segmented`]:e===!0||e!==!1&&e.action,[`${r}-card--bordered`]:t,[`${r}-card--hoverable`]:o}],style:this.cssVars,role:this.role},bt(a.cover,l=>l&&y("div",{class:`${r}-card-cover`,role:"none"},l)),bt(a.header,l=>l||this.title||this.closable?y("div",{class:`${r}-card-header`,style:this.headerStyle},y("div",{class:`${r}-card-header__main`,role:"heading"},l||this.title),bt(a["header-extra"],c=>c&&y("div",{class:`${r}-card-header__extra`,style:this.headerExtraStyle},c)),this.closable?y(Ni,{clsPrefix:r,class:`${r}-card-header__close`,onClick:this.handleCloseClick,absolute:!0}):null):null),bt(a.default,l=>l&&y("div",{class:`${r}-card__content`,style:this.contentStyle,role:"none"},l)),bt(a.footer,l=>l&&[y("div",{class:`${r}-card__footer`,style:this.footerStyle,role:"none"},l)]),bt(a.action,l=>l&&y("div",{class:`${r}-card__action`,role:"none"},l)))}}),_p=e=>({dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}),sA={name:"Carousel",common:se,self:_p},YL=sA,aA={name:"Carousel",common:N,self:_p},lA=aA,cA={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px"},xp=e=>{const{baseColor:t,inputColorDisabled:o,cardColor:r,modalColor:n,popoverColor:i,textColorDisabled:s,borderColor:a,primaryColor:l,textColor2:c,fontSizeSmall:d,fontSizeMedium:u,fontSizeLarge:p,borderRadiusSmall:h,lineHeight:f}=e;return Object.assign(Object.assign({},cA),{labelLineHeight:f,fontSizeSmall:d,fontSizeMedium:u,fontSizeLarge:p,borderRadius:h,color:t,colorChecked:l,colorDisabled:o,colorDisabledChecked:o,colorTableHeader:r,colorTableHeaderModal:n,colorTableHeaderPopover:i,checkMarkColor:t,checkMarkColorDisabled:s,checkMarkColorDisabledChecked:s,border:`1px solid ${a}`,borderDisabled:`1px solid ${a}`,borderDisabledChecked:`1px solid ${a}`,borderChecked:`1px solid ${l}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${$(l,{alpha:.3})}`,textColor:c,textColorDisabled:s})},dA={name:"Checkbox",common:se,self:xp},KL=dA,uA={name:"Checkbox",common:N,self(e){const{cardColor:t}=e,o=xp(e);return o.color="#0000",o.checkMarkColor=t,o}},dr=uA,fA=e=>{const{borderRadius:t,boxShadow2:o,popoverColor:r,textColor2:n,textColor3:i,primaryColor:s,textColorDisabled:a,dividerColor:l,hoverColor:c,fontSizeMedium:d,heightMedium:u}=e;return{menuBorderRadius:t,menuColor:r,menuBoxShadow:o,menuDividerColor:l,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:i,optionHeight:u,optionFontSize:d,optionColorHover:c,optionTextColor:n,optionTextColorActive:s,optionTextColorDisabled:a,optionCheckMarkColor:s,loadingColor:s,columnWidth:"180px"}},pA={name:"Cascader",common:N,peers:{InternalSelectMenu:dn,InternalSelection:il,Scrollbar:Ye,Checkbox:dr,Empty:lp},self:fA},hA=pA,mA={name:"Code",common:N,self(e){const{textColor2:t,fontSize:o,fontWeightStrong:r,textColor3:n}=e;return{textColor:t,fontSize:o,fontWeightStrong:r,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b",lineNumberTextColor:n}}},Tp=mA,gA=e=>{const{fontWeight:t,textColor1:o,textColor2:r,textColorDisabled:n,dividerColor:i,fontSize:s}=e;return{titleFontSize:s,titleFontWeight:t,dividerColor:i,titleTextColor:o,titleTextColorDisabled:n,fontSize:s,textColor:r,arrowColor:r,arrowColorDisabled:n,itemMargin:"16px 0 0 0"}},vA={name:"Collapse",common:N,self:gA},CA=vA,bA=e=>{const{cubicBezierEaseInOut:t}=e;return{bezier:t}},EA={name:"CollapseTransition",common:N,self:bA},SA=EA,yA={abstract:Boolean,bordered:{type:Boolean,default:void 0},clsPrefix:String,locale:Object,dateLocale:Object,namespace:String,rtl:Array,tag:{type:String,default:"div"},hljs:Object,theme:Object,themeOverrides:Object,componentOptions:Object,icons:Object,breakpoints:Object,preflightStyleDisabled:Boolean,inlineThemeDisabled:{type:Boolean,default:void 0},as:{type:String,validator:()=>(Jn("config-provider","`as` is deprecated, please use `tag` instead."),!0),default:void 0}},_A=ce({name:"ConfigProvider",alias:["App"],props:yA,setup(e){const t=ut(Ps,null),o=X(()=>{const{theme:f}=e;if(f===null)return;const m=t==null?void 0:t.mergedThemeRef.value;return f===void 0?m:m===void 0?f:Object.assign({},m,f)}),r=X(()=>{const{themeOverrides:f}=e;if(f!==null){if(f===void 0)return t==null?void 0:t.mergedThemeOverridesRef.value;{const m=t==null?void 0:t.mergedThemeOverridesRef.value;return m===void 0?f:um({},m,f)}}}),n=la(()=>{const{namespace:f}=e;return f===void 0?t==null?void 0:t.mergedNamespaceRef.value:f}),i=la(()=>{const{bordered:f}=e;return f===void 0?t==null?void 0:t.mergedBorderedRef.value:f}),s=X(()=>{const{icons:f}=e;return f===void 0?t==null?void 0:t.mergedIconsRef.value:f}),a=X(()=>{const{componentOptions:f}=e;return f!==void 0?f:t==null?void 0:t.mergedComponentPropsRef.value}),l=X(()=>{const{clsPrefix:f}=e;return f!==void 0?f:t==null?void 0:t.mergedClsPrefixRef.value}),c=X(()=>{var f;const{rtl:m}=e;if(m===void 0)return t==null?void 0:t.mergedRtlRef.value;const v={};for(const C of m)v[C.name]=wl(C),(f=C.peers)===null||f===void 0||f.forEach(E=>{E.name in v||(v[E.name]=wl(E))});return v}),d=X(()=>e.breakpoints||(t==null?void 0:t.mergedBreakpointsRef.value)),u=e.inlineThemeDisabled||(t==null?void 0:t.inlineThemeDisabled),p=e.preflightStyleDisabled||(t==null?void 0:t.preflightStyleDisabled),h=X(()=>{const{value:f}=o,{value:m}=r,v=m&&Object.keys(m).length!==0,C=f==null?void 0:f.name;return C?v?`${C}-${_l(JSON.stringify(r.value))}`:C:v?_l(JSON.stringify(r.value)):""});return Ze(Ps,{mergedThemeHashRef:h,mergedBreakpointsRef:d,mergedRtlRef:c,mergedIconsRef:s,mergedComponentPropsRef:a,mergedBorderedRef:i,mergedNamespaceRef:n,mergedClsPrefixRef:l,mergedLocaleRef:X(()=>{const{locale:f}=e;if(f!==null)return f===void 0?t==null?void 0:t.mergedLocaleRef.value:f}),mergedDateLocaleRef:X(()=>{const{dateLocale:f}=e;if(f!==null)return f===void 0?t==null?void 0:t.mergedDateLocaleRef.value:f}),mergedHljsRef:X(()=>{const{hljs:f}=e;return f===void 0?t==null?void 0:t.mergedHljsRef.value:f}),mergedThemeRef:o,mergedThemeOverridesRef:r,inlineThemeDisabled:u||!1,preflightStyleDisabled:p||!1}),{mergedClsPrefix:l,mergedBordered:i,mergedNamespace:n,mergedTheme:o,mergedThemeOverrides:r}},render(){var e,t,o,r;return this.abstract?(r=(o=this.$slots).default)===null||r===void 0?void 0:r.call(o):y(this.as||this.tag,{class:`${this.mergedClsPrefix||dm}-config-provider`},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}}),xA={name:"Popselect",common:N,peers:{Popover:To,InternalSelectMenu:dn}},Ap=xA;function wp(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}const TA=et({name:"Select",common:se,peers:{InternalSelection:sT,InternalSelectMenu:Kx},self:wp}),qL=TA,AA={name:"Select",common:N,peers:{InternalSelection:il,InternalSelectMenu:dn},self:wp},Ip=AA,wA={itemPaddingSmall:"0 4px",itemMarginSmall:"0 0 0 8px",itemMarginSmallRtl:"0 8px 0 0",itemPaddingMedium:"0 4px",itemMarginMedium:"0 0 0 8px",itemMarginMediumRtl:"0 8px 0 0",itemPaddingLarge:"0 4px",itemMarginLarge:"0 0 0 8px",itemMarginLargeRtl:"0 8px 0 0",buttonIconSizeSmall:"14px",buttonIconSizeMedium:"16px",buttonIconSizeLarge:"18px",inputWidthSmall:"60px",selectWidthSmall:"unset",inputMarginSmall:"0 0 0 8px",inputMarginSmallRtl:"0 8px 0 0",selectMarginSmall:"0 0 0 8px",prefixMarginSmall:"0 8px 0 0",suffixMarginSmall:"0 0 0 8px",inputWidthMedium:"60px",selectWidthMedium:"unset",inputMarginMedium:"0 0 0 8px",inputMarginMediumRtl:"0 8px 0 0",selectMarginMedium:"0 0 0 8px",prefixMarginMedium:"0 8px 0 0",suffixMarginMedium:"0 0 0 8px",inputWidthLarge:"60px",selectWidthLarge:"unset",inputMarginLarge:"0 0 0 8px",inputMarginLargeRtl:"0 8px 0 0",selectMarginLarge:"0 0 0 8px",prefixMarginLarge:"0 8px 0 0",suffixMarginLarge:"0 0 0 8px"},IA=e=>{const{textColor2:t,primaryColor:o,primaryColorHover:r,primaryColorPressed:n,inputColorDisabled:i,textColorDisabled:s,borderColor:a,borderRadius:l,fontSizeTiny:c,fontSizeSmall:d,fontSizeMedium:u,heightTiny:p,heightSmall:h,heightMedium:f}=e;return Object.assign(Object.assign({},wA),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${a}`,buttonBorderHover:`1px solid ${a}`,buttonBorderPressed:`1px solid ${a}`,buttonIconColor:t,buttonIconColorHover:t,buttonIconColorPressed:t,itemTextColor:t,itemTextColorHover:r,itemTextColorPressed:n,itemTextColorActive:o,itemTextColorDisabled:s,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:i,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${o}`,itemBorderDisabled:`1px solid ${a}`,itemBorderRadius:l,itemSizeSmall:p,itemSizeMedium:h,itemSizeLarge:f,itemFontSizeSmall:c,itemFontSizeMedium:d,itemFontSizeLarge:u,jumperFontSizeSmall:c,jumperFontSizeMedium:d,jumperFontSizeLarge:u,jumperTextColor:t,jumperTextColorDisabled:s})},RA={name:"Pagination",common:N,peers:{Select:Ip,Input:at,Popselect:Ap},self(e){const{primaryColor:t,opacity3:o}=e,r=$(t,{alpha:Number(o)}),n=IA(e);return n.itemBorderActive=`1px solid ${r}`,n.itemBorderDisabled="1px solid #0000",n}},Rp=RA,Pp={padding:"8px 14px"},PA={name:"Tooltip",common:N,peers:{Popover:To},self(e){const{borderRadius:t,boxShadow2:o,popoverColor:r,textColor2:n}=e;return Object.assign(Object.assign({},Pp),{borderRadius:t,boxShadow:o,color:r,textColor:n})}},Bi=PA,LA=e=>{const{borderRadius:t,boxShadow2:o,baseColor:r}=e;return Object.assign(Object.assign({},Pp),{borderRadius:t,boxShadow:o,color:J(r,"rgba(0, 0, 0, .85)"),textColor:r})},OA=et({name:"Tooltip",common:se,peers:{Popover:Mi},self:LA}),DA=OA,kA={name:"Ellipsis",common:N,peers:{Tooltip:Bi}},Lp=kA,NA={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px"},MA={name:"Radio",common:N,self(e){const{borderColor:t,primaryColor:o,baseColor:r,textColorDisabled:n,inputColorDisabled:i,textColor2:s,opacityDisabled:a,borderRadius:l,fontSizeSmall:c,fontSizeMedium:d,fontSizeLarge:u,heightSmall:p,heightMedium:h,heightLarge:f,lineHeight:m}=e;return Object.assign(Object.assign({},NA),{labelLineHeight:m,buttonHeightSmall:p,buttonHeightMedium:h,buttonHeightLarge:f,fontSizeSmall:c,fontSizeMedium:d,fontSizeLarge:u,boxShadow:`inset 0 0 0 1px ${t}`,boxShadowActive:`inset 0 0 0 1px ${o}`,boxShadowFocus:`inset 0 0 0 1px ${o}, 0 0 0 2px ${$(o,{alpha:.3})}`,boxShadowHover:`inset 0 0 0 1px ${o}`,boxShadowDisabled:`inset 0 0 0 1px ${t}`,color:"#0000",colorDisabled:i,colorActive:"#0000",textColor:s,textColorDisabled:n,dotColorActive:o,dotColorDisabled:t,buttonBorderColor:t,buttonBorderColorActive:o,buttonBorderColorHover:o,buttonColor:"#0000",buttonColorActive:o,buttonTextColor:s,buttonTextColorActive:r,buttonTextColorHover:o,opacityDisabled:a,buttonBoxShadowFocus:`inset 0 0 0 1px ${o}, 0 0 0 2px ${$(o,{alpha:.3})}`,buttonBoxShadowHover:`inset 0 0 0 1px ${o}`,buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:l})}},Op=MA,FA={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"},Dp=e=>{const{primaryColor:t,textColor2:o,dividerColor:r,hoverColor:n,popoverColor:i,invertedColor:s,borderRadius:a,fontSizeSmall:l,fontSizeMedium:c,fontSizeLarge:d,fontSizeHuge:u,heightSmall:p,heightMedium:h,heightLarge:f,heightHuge:m,textColor3:v,opacityDisabled:C}=e;return Object.assign(Object.assign({},FA),{optionHeightSmall:p,optionHeightMedium:h,optionHeightLarge:f,optionHeightHuge:m,borderRadius:a,fontSizeSmall:l,fontSizeMedium:c,fontSizeLarge:d,fontSizeHuge:u,optionTextColor:o,optionTextColorHover:o,optionTextColorActive:t,optionTextColorChildActive:t,color:i,dividerColor:r,suffixColor:o,prefixColor:o,optionColorHover:n,optionColorActive:$(t,{alpha:.1}),groupHeaderTextColor:v,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:s,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:t,optionColorActiveInverted:t,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:C})},BA=et({name:"Dropdown",common:se,peers:{Popover:Mi},self:Dp}),HA=BA,$A={name:"Dropdown",common:N,peers:{Popover:To},self(e){const{primaryColorSuppl:t,primaryColor:o,popoverColor:r}=e,n=Dp(e);return n.colorInverted=r,n.optionColorActive=$(o,{alpha:.15}),n.optionColorActiveInverted=t,n.optionColorHoverInverted=t,n}},al=$A,zA={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",resizableContainerSize:"8px",resizableSize:"2px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"},UA=e=>{const{cardColor:t,modalColor:o,popoverColor:r,textColor2:n,textColor1:i,tableHeaderColor:s,tableColorHover:a,iconColor:l,primaryColor:c,fontWeightStrong:d,borderRadius:u,lineHeight:p,fontSizeSmall:h,fontSizeMedium:f,fontSizeLarge:m,dividerColor:v,heightSmall:C,opacityDisabled:E,tableColorStriped:R}=e;return Object.assign(Object.assign({},zA),{actionDividerColor:v,lineHeight:p,borderRadius:u,fontSizeSmall:h,fontSizeMedium:f,fontSizeLarge:m,borderColor:J(t,v),tdColorHover:J(t,a),tdColorStriped:J(t,R),thColor:J(t,s),thColorHover:J(J(t,s),a),tdColor:t,tdTextColor:n,thTextColor:i,thFontWeight:d,thButtonColorHover:a,thIconColor:l,thIconColorActive:c,borderColorModal:J(o,v),tdColorHoverModal:J(o,a),tdColorStripedModal:J(o,R),thColorModal:J(o,s),thColorHoverModal:J(J(o,s),a),tdColorModal:o,borderColorPopover:J(r,v),tdColorHoverPopover:J(r,a),tdColorStripedPopover:J(r,R),thColorPopover:J(r,s),thColorHoverPopover:J(J(r,s),a),tdColorPopover:r,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:c,loadingSize:C,opacityLoading:E})},VA={name:"DataTable",common:N,peers:{Button:Ke,Checkbox:dr,Radio:Op,Pagination:Rp,Scrollbar:Ye,Empty:xo,Popover:To,Ellipsis:Lp,Dropdown:al},self(e){const t=UA(e);return t.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",t.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",t}},WA=VA,kp=e=>{const{textColorBase:t,opacity1:o,opacity2:r,opacity3:n,opacity4:i,opacity5:s}=e;return{color:t,opacity1Depth:o,opacity2Depth:r,opacity3Depth:n,opacity4Depth:i,opacity5Depth:s}},GA={name:"Icon",common:se,self:kp},XL=GA,jA={name:"Icon",common:N,self:kp},YA=jA,KA={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"},qA=e=>{const{popoverColor:t,textColor2:o,primaryColor:r,hoverColor:n,dividerColor:i,opacityDisabled:s,boxShadow2:a,borderRadius:l,iconColor:c,iconColorDisabled:d}=e;return Object.assign(Object.assign({},KA),{panelColor:t,panelBoxShadow:a,panelDividerColor:i,itemTextColor:o,itemTextColorActive:r,itemColorHover:n,itemOpacityDisabled:s,itemBorderRadius:l,borderRadius:l,iconColor:c,iconColorDisabled:d})},XA={name:"TimePicker",common:N,peers:{Scrollbar:Ye,Button:Ke,Input:at},self:qA},Np=XA,JA={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarLeftPaddingMonthrange:"0",calendarLeftPaddingQuarterrange:"0",calendarLeftPaddingYearrange:"0",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0",calendarRightPaddingMonthrange:"0",calendarRightPaddingQuarterrange:"0",calendarRightPaddingYearrange:"0"},ZA=e=>{const{hoverColor:t,fontSize:o,textColor2:r,textColorDisabled:n,popoverColor:i,primaryColor:s,borderRadiusSmall:a,iconColor:l,iconColorDisabled:c,textColor1:d,dividerColor:u,boxShadow2:p,borderRadius:h,fontWeightStrong:f}=e;return Object.assign(Object.assign({},JA),{itemFontSize:o,calendarDaysFontSize:o,calendarTitleFontSize:o,itemTextColor:r,itemTextColorDisabled:n,itemTextColorActive:i,itemTextColorCurrent:s,itemColorIncluded:$(s,{alpha:.1}),itemColorHover:t,itemColorDisabled:t,itemColorActive:s,itemBorderRadius:a,panelColor:i,panelTextColor:r,arrowColor:l,calendarTitleTextColor:d,calendarTitleColorHover:t,calendarDaysTextColor:r,panelHeaderDividerColor:u,calendarDaysDividerColor:u,calendarDividerColor:u,panelActionDividerColor:u,panelBoxShadow:p,panelBorderRadius:h,calendarTitleFontWeight:f,scrollItemBorderRadius:h,iconColor:l,iconColorDisabled:c})},QA={name:"DatePicker",common:N,peers:{Input:at,Button:Ke,TimePicker:Np,Scrollbar:Ye},self(e){const{popoverColor:t,hoverColor:o,primaryColor:r}=e,n=ZA(e);return n.itemColorDisabled=J(t,o),n.itemColorIncluded=$(r,{alpha:.15}),n.itemColorHover=J(t,o),n}},ew=QA,tw={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"},Mp=e=>{const{tableHeaderColor:t,textColor2:o,textColor1:r,cardColor:n,modalColor:i,popoverColor:s,dividerColor:a,borderRadius:l,fontWeightStrong:c,lineHeight:d,fontSizeSmall:u,fontSizeMedium:p,fontSizeLarge:h}=e;return Object.assign(Object.assign({},tw),{lineHeight:d,fontSizeSmall:u,fontSizeMedium:p,fontSizeLarge:h,titleTextColor:r,thColor:J(n,t),thColorModal:J(i,t),thColorPopover:J(s,t),thTextColor:r,thFontWeight:c,tdTextColor:o,tdColor:n,tdColorModal:i,tdColorPopover:s,borderColor:J(n,a),borderColorModal:J(i,a),borderColorPopover:J(s,a),borderRadius:l})},ow={name:"Descriptions",common:se,self:Mp},JL=ow,rw={name:"Descriptions",common:N,self:Mp},nw=rw,iw={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"},Fp=e=>{const{textColor1:t,textColor2:o,modalColor:r,closeIconColor:n,closeIconColorHover:i,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,infoColor:c,successColor:d,warningColor:u,errorColor:p,primaryColor:h,dividerColor:f,borderRadius:m,fontWeightStrong:v,lineHeight:C,fontSize:E}=e;return Object.assign(Object.assign({},iw),{fontSize:E,lineHeight:C,border:`1px solid ${f}`,titleTextColor:t,textColor:o,color:r,closeColorHover:a,closeColorPressed:l,closeIconColor:n,closeIconColorHover:i,closeIconColorPressed:s,closeBorderRadius:m,iconColor:h,iconColorInfo:c,iconColorSuccess:d,iconColorWarning:u,iconColorError:p,borderRadius:m,titleFontWeight:v})},sw=et({name:"Dialog",common:se,peers:{Button:Fi},self:Fp}),Bp=sw,aw={name:"Dialog",common:N,peers:{Button:Ke},self:Fp},Hp=aw,Hi={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,onPositiveClick:Function,onNegativeClick:Function,onClose:Function},$p=Di(Hi),lw=k([q("dialog",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[Y("icon",{color:"var(--n-icon-color)"}),W("bordered",{border:"var(--n-border)"}),W("icon-top",[Y("close",{margin:"var(--n-close-margin)"}),Y("icon",{margin:"var(--n-icon-margin)"}),Y("content",{textAlign:"center"}),Y("title",{justifyContent:"center"}),Y("action",{justifyContent:"center"})]),W("icon-left",[Y("icon",{margin:"var(--n-icon-margin)"}),W("closable",[Y("title",`
 padding-right: calc(var(--n-close-size) + 6px);
 `)])]),Y("close",`
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 z-index: 1;
 `),Y("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[W("last","margin-bottom: 0;")]),Y("action",`
 display: flex;
 justify-content: flex-end;
 `,[k("> *:not(:last-child)",{marginRight:"var(--n-action-space)"})]),Y("icon",{fontSize:"var(--n-icon-size)",transition:"color .3s var(--n-bezier)"}),Y("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),q("dialog-icon-container",{display:"flex",justifyContent:"center"})]),tu(q("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),q("dialog",[eu(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]),cw={default:()=>y(ai,null),info:()=>y(ai,null),success:()=>y(rl,null),warning:()=>y(nl,null),error:()=>y(ol,null)},zp=ce({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},be.props),Hi),setup(e){const{mergedComponentPropsRef:t,mergedClsPrefixRef:o,inlineThemeDisabled:r}=Qe(e),n=X(()=>{var u,p;const{iconPlacement:h}=e;return h||((p=(u=t==null?void 0:t.value)===null||u===void 0?void 0:u.Dialog)===null||p===void 0?void 0:p.iconPlacement)||"left"});function i(u){const{onPositiveClick:p}=e;p&&p(u)}function s(u){const{onNegativeClick:p}=e;p&&p(u)}function a(){const{onClose:u}=e;u&&u()}const l=be("Dialog","-dialog",lw,Bp,e,o),c=X(()=>{const{type:u}=e,p=n.value,{common:{cubicBezierEaseInOut:h},self:{fontSize:f,lineHeight:m,border:v,titleTextColor:C,textColor:E,color:R,closeBorderRadius:_,closeColorHover:T,closeColorPressed:w,closeIconColor:b,closeIconColorHover:x,closeIconColorPressed:L,closeIconSize:F,borderRadius:z,titleFontWeight:G,titleFontSize:O,padding:I,iconSize:P,actionSpace:B,contentMargin:M,closeSize:te,[p==="top"?"iconMarginIconTop":"iconMargin"]:ne,[p==="top"?"closeMarginIconTop":"closeMargin"]:ue,[ee("iconColor",u)]:_e}}=l.value;return{"--n-font-size":f,"--n-icon-color":_e,"--n-bezier":h,"--n-close-margin":ue,"--n-icon-margin":ne,"--n-icon-size":P,"--n-close-size":te,"--n-close-icon-size":F,"--n-close-border-radius":_,"--n-close-color-hover":T,"--n-close-color-pressed":w,"--n-close-icon-color":b,"--n-close-icon-color-hover":x,"--n-close-icon-color-pressed":L,"--n-color":R,"--n-text-color":E,"--n-border-radius":z,"--n-padding":I,"--n-line-height":m,"--n-border":v,"--n-content-margin":M,"--n-title-font-size":O,"--n-title-font-weight":G,"--n-title-text-color":C,"--n-action-space":B}}),d=r?Dt("dialog",X(()=>`${e.type[0]}${n.value[0]}`),c,e):void 0;return{mergedClsPrefix:o,mergedIconPlacement:n,mergedTheme:l,handlePositiveClick:i,handleNegativeClick:s,handleCloseClick:a,cssVars:r?void 0:c,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender}},render(){var e;const{bordered:t,mergedIconPlacement:o,cssVars:r,closable:n,showIcon:i,title:s,content:a,action:l,negativeText:c,positiveText:d,positiveButtonProps:u,negativeButtonProps:p,handlePositiveClick:h,handleNegativeClick:f,mergedTheme:m,loading:v,type:C,mergedClsPrefix:E}=this;(e=this.onRender)===null||e===void 0||e.call(this);const R=i?y(ki,{clsPrefix:E,class:`${E}-dialog__icon`},{default:()=>bt(this.$slots.icon,T=>T||(this.icon?Je(this.icon):cw[this.type]()))}):null,_=bt(this.$slots.action,T=>T||d||c||l?y("div",{class:`${E}-dialog__action`},T||(l?[Je(l)]:[this.negativeText&&y(fd,Object.assign({theme:m.peers.Button,themeOverrides:m.peerOverrides.Button,ghost:!0,size:"small",onClick:f},p),{default:()=>Je(this.negativeText)}),this.positiveText&&y(fd,Object.assign({theme:m.peers.Button,themeOverrides:m.peerOverrides.Button,size:"small",type:C==="default"?"primary":C,disabled:v,loading:v,onClick:h},u),{default:()=>Je(this.positiveText)})])):null);return y("div",{class:[`${E}-dialog`,this.themeClass,this.closable&&`${E}-dialog--closable`,`${E}-dialog--icon-${o}`,t&&`${E}-dialog--bordered`],style:r,role:"dialog"},n?y(Ni,{clsPrefix:E,class:`${E}-dialog__close`,onClick:this.handleCloseClick}):null,i&&o==="top"?y("div",{class:`${E}-dialog-icon-container`},R):null,y("div",{class:`${E}-dialog__title`},i&&o==="left"?R:null,Nc(this.$slots.header,()=>[Je(s)])),y("div",{class:[`${E}-dialog__content`,_?"":`${E}-dialog__content--last`]},Nc(this.$slots.default,()=>[Je(a)])),_)}}),Up=je("n-dialog-provider"),dw=je("n-dialog-api"),uw=je("n-dialog-reactive-list"),Vp=e=>{const{modalColor:t,textColor2:o,boxShadow3:r}=e;return{color:t,textColor:o,boxShadow:r}},fw=et({name:"Modal",common:se,peers:{Scrollbar:cn,Dialog:Bp,Card:Sp},self:Vp}),pw=fw,hw={name:"Modal",common:N,peers:{Scrollbar:Ye,Dialog:Hp,Card:yp},self:Vp},mw=hw,ll=Object.assign(Object.assign({},sl),Hi),gw=Di(ll),vw=ce({name:"ModalBody",inheritAttrs:!1,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean},ll),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(e){const t=Q(null),o=Q(null),r=Q(e.show),n=Q(null),i=Q(null);Ue(Co(e,"show"),v=>{v&&(r.value=!0)}),Ix(X(()=>e.blockScroll&&r.value));const s=ut(Kf);function a(){if(s.transformOriginRef.value==="center")return"";const{value:v}=n,{value:C}=i;if(v===null||C===null)return"";if(o.value){const E=o.value.containerScrollTop;return`${v}px ${C+E}px`}return""}function l(v){if(s.transformOriginRef.value==="center")return;const C=s.getMousePosition();if(!C||!o.value)return;const E=o.value.containerScrollTop,{offsetLeft:R,offsetTop:_}=v;if(C){const T=C.y,w=C.x;n.value=-(R-w),i.value=-(_-T-E)}v.style.transformOrigin=a()}function c(v){Jo(()=>{l(v)})}function d(v){v.style.transformOrigin=a(),e.onBeforeLeave()}function u(){r.value=!1,n.value=null,i.value=null,e.onAfterLeave()}function p(){const{onClose:v}=e;v&&v()}function h(){e.onNegativeClick()}function f(){e.onPositiveClick()}const m=Q(null);return Ue(m,v=>{v&&Jo(()=>{const C=v.el;C&&t.value!==C&&(t.value=C)})}),Ze(K_,t),Ze(q_,null),Ze(X_,null),{mergedTheme:s.mergedThemeRef,appear:s.appearRef,isMounted:s.isMountedRef,mergedClsPrefix:s.mergedClsPrefixRef,bodyRef:t,scrollbarRef:o,displayed:r,childNodeRef:m,handlePositiveClick:f,handleNegativeClick:h,handleCloseClick:p,handleAfterLeave:u,handleBeforeLeave:d,handleEnter:c}},render(){const{$slots:e,$attrs:t,handleEnter:o,handleAfterLeave:r,handleBeforeLeave:n,preset:i,mergedClsPrefix:s}=this;let a=null;if(!i){if(a=D_(e),!a){Jn("modal","default slot is empty");return}a=Dm(a),a.props=wa({class:`${s}-modal`},t,a.props||{})}return this.displayDirective==="show"||this.displayed||this.show?Os(y("div",{role:"none",class:`${s}-modal-body-wrapper`},y(up,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${s}-modal-scroll-content`},{default:()=>{var l;return[(l=this.renderMask)===null||l===void 0?void 0:l.call(this),y(wx,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var c;return y(Xo,{name:"fade-in-scale-up-transition",appear:(c=this.appear)!==null&&c!==void 0?c:this.isMounted,onEnter:o,onAfterEnter:this.onAfterEnter,onAfterLeave:r,onBeforeLeave:n},{default:()=>{const d=[[Il,this.show]],{onClickoutside:u}=this;return u&&d.push([Z_,this.onClickoutside,void 0,{capture:!0}]),Os(this.preset==="confirm"||this.preset==="dialog"?y(zp,Object.assign({},this.$attrs,{class:[`${s}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},Gr(this.$props,$p),{"aria-modal":"true"}),e):this.preset==="card"?y(iA,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${s}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},Gr(this.$props,rA),{"aria-modal":"true",role:"dialog"}),e):this.childNodeRef=a,d)}})}})]}})),[[Il,this.displayDirective==="if"||this.displayed||this.show]]):null}}),Cw=k([q("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),q("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[Xd({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),q("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[q("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),q("modal",`
 position: relative;
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[Xx({duration:".25s",enterScale:".5"})])]),bw=Object.assign(Object.assign(Object.assign(Object.assign({},be.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),ll),{onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function}),Ew=ce({name:"Modal",inheritAttrs:!1,props:bw,setup(e){const t=Q(null),{mergedClsPrefixRef:o,namespaceRef:r,inlineThemeDisabled:n}=Qe(e),i=be("Modal","-modal",Cw,pw,e,o),s=Yf(64),a=jf(),l=fm(),c=e.internalDialog?ut(Up,null):null,d=Rx();function u(T){const{onUpdateShow:w,"onUpdate:show":b,onHide:x}=e;w&&no(w,T),b&&no(b,T),x&&!T&&x(T)}function p(){const{onClose:T}=e;T?Promise.resolve(T()).then(w=>{w!==!1&&u(!1)}):u(!1)}function h(){const{onPositiveClick:T}=e;T?Promise.resolve(T()).then(w=>{w!==!1&&u(!1)}):u(!1)}function f(){const{onNegativeClick:T}=e;T?Promise.resolve(T()).then(w=>{w!==!1&&u(!1)}):u(!1)}function m(){const{onBeforeLeave:T,onBeforeHide:w}=e;T&&no(T),w&&w()}function v(){const{onAfterLeave:T,onAfterHide:w}=e;T&&no(T),w&&w()}function C(T){var w;const{onMaskClick:b}=e;b&&b(T),e.maskClosable&&!((w=t.value)===null||w===void 0)&&w.contains(Ja(T))&&u(!1)}function E(T){var w;(w=e.onEsc)===null||w===void 0||w.call(e),e.show&&e.closeOnEsc&&M_(T)&&!d.value&&u(!1)}Ze(Kf,{getMousePosition:()=>{if(c){const{clickedRef:T,clickPositionRef:w}=c;if(T.value&&w.value)return w.value}return s.value?a.value:null},mergedClsPrefixRef:o,mergedThemeRef:i,isMountedRef:l,appearRef:Co(e,"internalAppear"),transformOriginRef:Co(e,"transformOrigin")});const R=X(()=>{const{common:{cubicBezierEaseOut:T},self:{boxShadow:w,color:b,textColor:x}}=i.value;return{"--n-bezier-ease-out":T,"--n-box-shadow":w,"--n-color":b,"--n-text-color":x}}),_=n?Dt("theme-class",void 0,R,e):void 0;return{mergedClsPrefix:o,namespace:r,isMounted:l,containerRef:t,presetProps:X(()=>Gr(e,gw)),handleEsc:E,handleAfterLeave:v,handleClickoutside:C,handleBeforeLeave:m,doUpdateShow:u,handleNegativeClick:f,handlePositiveClick:h,handleCloseClick:p,cssVars:n?void 0:R,themeClass:_==null?void 0:_.themeClass,onRender:_==null?void 0:_.onRender}},render(){const{mergedClsPrefix:e}=this;return y(rx,{to:this.to,show:this.show},{default:()=>{var t;(t=this.onRender)===null||t===void 0||t.call(this);const{unstableShowMask:o}=this;return Os(y("div",{role:"none",ref:"containerRef",class:[`${e}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},y(vw,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,blockScroll:this.blockScroll},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:o?void 0:this.handleClickoutside,renderMask:o?()=>{var r;return y(Xo,{name:"fade-in-transition",key:"mask",appear:(r=this.internalAppear)!==null&&r!==void 0?r:this.isMounted},{default:()=>this.show?y("div",{"aria-hidden":!0,ref:"containerRef",class:`${e}-modal-mask`,onClick:this.handleClickoutside}):null})}:void 0}),this.$slots)),[[ox,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Sw=Object.assign(Object.assign({},Hi),{onAfterEnter:Function,onAfterLeave:Function,blockScroll:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},internalStyle:[String,Object],maskClosable:{type:Boolean,default:!0},onPositiveClick:Function,onNegativeClick:Function,onClose:Function,onMaskClick:Function}),yw=ce({name:"DialogEnvironment",props:Object.assign(Object.assign({},Sw),{internalKey:{type:String,required:!0},to:[String,Object],onInternalAfterLeave:{type:Function,required:!0}}),setup(e){const t=Q(!0);function o(){const{onInternalAfterLeave:d,internalKey:u,onAfterLeave:p}=e;d&&d(u),p&&p()}function r(d){const{onPositiveClick:u}=e;u?Promise.resolve(u(d)).then(p=>{p!==!1&&l()}):l()}function n(d){const{onNegativeClick:u}=e;u?Promise.resolve(u(d)).then(p=>{p!==!1&&l()}):l()}function i(){const{onClose:d}=e;d?Promise.resolve(d()).then(u=>{u!==!1&&l()}):l()}function s(d){const{onMaskClick:u,maskClosable:p}=e;u&&(u(d),p&&l())}function a(){const{onEsc:d}=e;d&&d()}function l(){t.value=!1}function c(d){t.value=d}return{show:t,hide:l,handleUpdateShow:c,handleAfterLeave:o,handleCloseClick:i,handleNegativeClick:n,handlePositiveClick:r,handleMaskClick:s,handleEsc:a}},render(){const{handlePositiveClick:e,handleUpdateShow:t,handleNegativeClick:o,handleCloseClick:r,handleAfterLeave:n,handleMaskClick:i,handleEsc:s,to:a,maskClosable:l,show:c}=this;return y(Ew,{show:c,onUpdateShow:t,onMaskClick:i,onEsc:s,to:a,maskClosable:l,onAfterEnter:this.onAfterEnter,onAfterLeave:n,closeOnEsc:this.closeOnEsc,blockScroll:this.blockScroll,autoFocus:this.autoFocus,internalAppear:!0,internalDialog:!0},{default:()=>y(zp,Object.assign({},Gr(this.$props,$p),{style:this.internalStyle,onClose:r,onNegativeClick:o,onPositiveClick:e}))})}}),_w={injectionKey:String,to:[String,Object]},xw=ce({name:"DialogProvider",props:_w,setup(){const e=Q([]),t={};function o(a={}){const l=Oi(),c=tr(Object.assign(Object.assign({},a),{key:l,destroy:()=>{t[`n-dialog-${l}`].hide()}}));return e.value.push(c),c}const r=["info","success","warning","error"].map(a=>l=>o(Object.assign(Object.assign({},l),{type:a})));function n(a){const{value:l}=e;l.splice(l.findIndex(c=>c.key===a),1)}function i(){Object.values(t).forEach(a=>a.hide())}const s={create:o,destroyAll:i,info:r[0],success:r[1],warning:r[2],error:r[3]};return Ze(dw,s),Ze(Up,{clickedRef:Yf(64),clickPositionRef:jf()}),Ze(uw,e),Object.assign(Object.assign({},s),{dialogList:e,dialogInstRefs:t,handleAfterLeave:n})},render(){var e,t;return y(kt,null,[this.dialogList.map(o=>y(yw,Za(o,["destroy","style"],{internalStyle:o.style,to:this.to,ref:r=>{r===null?delete this.dialogInstRefs[`n-dialog-${o.key}`]:this.dialogInstRefs[`n-dialog-${o.key}`]=r},internalKey:o.key,onInternalAfterLeave:this.handleAfterLeave}))),(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e)])}}),Wp=e=>{const{textColor1:t,dividerColor:o,fontWeightStrong:r}=e;return{textColor:t,color:o,fontWeight:r}},Tw={name:"Divider",common:se,self:Wp},ZL=Tw,Aw={name:"Divider",common:N,self:Wp},ww=Aw,Gp=e=>{const{modalColor:t,textColor1:o,textColor2:r,boxShadow3:n,lineHeight:i,fontWeightStrong:s,dividerColor:a,closeColorHover:l,closeColorPressed:c,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:p,borderRadius:h,primaryColorHover:f}=e;return{bodyPadding:"16px 24px",headerPadding:"16px 24px",footerPadding:"16px 24px",color:t,textColor:r,titleTextColor:o,titleFontSize:"18px",titleFontWeight:s,boxShadow:n,lineHeight:i,headerBorderBottom:`1px solid ${a}`,footerBorderTop:`1px solid ${a}`,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:p,closeSize:"22px",closeIconSize:"18px",closeColorHover:l,closeColorPressed:c,closeBorderRadius:h,resizableTriggerColorHover:f}},Iw=et({name:"Drawer",common:se,peers:{Scrollbar:cn},self:Gp}),QL=Iw,Rw={name:"Drawer",common:N,peers:{Scrollbar:Ye},self:Gp},Pw=Rw,Lw={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"},Ow={name:"DynamicInput",common:N,peers:{Input:at,Button:Ke},self(){return Lw}},Dw=Ow,jp={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},kw={name:"Space",self(){return jp}},Yp=kw,Nw=()=>jp,Mw={name:"Space",self:Nw},Fw=Mw;let vs;const Bw=()=>{if(!_o)return!0;if(vs===void 0){const e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);const t=e.scrollHeight===1;return document.body.removeChild(e),vs=t}return vs},Hw=Object.assign(Object.assign({},be.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),$w=ce({name:"Space",props:Hw,setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:o}=Qe(e),r=be("Space","-space",void 0,Fw,e,t),n=cr("Space",o,t);return{useGap:Bw(),rtlEnabled:n,mergedClsPrefix:t,margin:X(()=>{const{size:i}=e;if(Array.isArray(i))return{horizontal:i[0],vertical:i[1]};if(typeof i=="number")return{horizontal:i,vertical:i};const{self:{[ee("gap",i)]:s}}=r.value,{row:a,col:l}=pm(s);return{horizontal:xl(l),vertical:xl(a)}})}},render(){const{vertical:e,align:t,inline:o,justify:r,itemStyle:n,margin:i,wrap:s,mergedClsPrefix:a,rtlEnabled:l,useGap:c,wrapItem:d,internalUseGap:u}=this,p=si(O_(this));if(!p.length)return null;const h=`${i.horizontal}px`,f=`${i.horizontal/2}px`,m=`${i.vertical}px`,v=`${i.vertical/2}px`,C=p.length-1,E=r.startsWith("space-");return y("div",{role:"none",class:[`${a}-space`,l&&`${a}-space--rtl`],style:{display:o?"inline-flex":"flex",flexDirection:e?"column":"row",justifyContent:["start","end"].includes(r)?"flex-"+r:r,flexWrap:!s||e?"nowrap":"wrap",marginTop:c||e?"":`-${v}`,marginBottom:c||e?"":`-${v}`,alignItems:t,gap:c?`${i.vertical}px ${i.horizontal}px`:""}},!d&&(c||u)?p:p.map((R,_)=>y("div",{role:"none",style:[n,{maxWidth:"100%"},c?"":e?{marginBottom:_!==C?m:""}:l?{marginLeft:E?r==="space-between"&&_===C?"":f:_!==C?h:"",marginRight:E?r==="space-between"&&_===0?"":f:"",paddingTop:v,paddingBottom:v}:{marginRight:E?r==="space-between"&&_===C?"":f:_!==C?h:"",marginLeft:E?r==="space-between"&&_===0?"":f:"",paddingTop:v,paddingBottom:v}]},R)))}}),zw={name:"DynamicTags",common:N,peers:{Input:at,Button:Ke,Tag:hp,Space:Yp},self(){return{inputWidth:"64px"}}},Uw=zw,Vw={name:"Element",common:N},Ww=Vw,Gw={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right"},Kp=e=>{const{heightSmall:t,heightMedium:o,heightLarge:r,textColor1:n,errorColor:i,warningColor:s,lineHeight:a,textColor3:l}=e;return Object.assign(Object.assign({},Gw),{blankHeightSmall:t,blankHeightMedium:o,blankHeightLarge:r,lineHeight:a,labelTextColor:n,asteriskColor:i,feedbackTextColorError:i,feedbackTextColorWarning:s,feedbackTextColor:l})},jw={name:"Form",common:se,self:Kp},eO=jw,Yw={name:"Form",common:N,self:Kp},Kw=Yw,qw={name:"GradientText",common:N,self(e){const{primaryColor:t,successColor:o,warningColor:r,errorColor:n,infoColor:i,primaryColorSuppl:s,successColorSuppl:a,warningColorSuppl:l,errorColorSuppl:c,infoColorSuppl:d,fontWeightStrong:u}=e;return{fontWeight:u,rotate:"252deg",colorStartPrimary:t,colorEndPrimary:s,colorStartInfo:i,colorEndInfo:d,colorStartWarning:r,colorEndWarning:l,colorStartError:n,colorEndError:c,colorStartSuccess:o,colorEndSuccess:a}}},Xw=qw,qp=e=>{const{primaryColor:t,baseColor:o}=e;return{color:t,iconColor:o}},Jw={name:"IconWrapper",common:se,self:qp},tO=Jw,Zw={name:"IconWrapper",common:N,self:qp},Qw=Zw,eI={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"},Xp=e=>{const{textColor2:t,successColor:o,infoColor:r,warningColor:n,errorColor:i,popoverColor:s,closeIconColor:a,closeIconColorHover:l,closeIconColorPressed:c,closeColorHover:d,closeColorPressed:u,textColor1:p,textColor3:h,borderRadius:f,fontWeightStrong:m,boxShadow2:v,lineHeight:C,fontSize:E}=e;return Object.assign(Object.assign({},eI),{borderRadius:f,lineHeight:C,fontSize:E,headerFontWeight:m,iconColor:t,iconColorSuccess:o,iconColorInfo:r,iconColorWarning:n,iconColorError:i,color:s,textColor:t,closeIconColor:a,closeIconColorHover:l,closeIconColorPressed:c,closeBorderRadius:f,closeColorHover:d,closeColorPressed:u,headerTextColor:p,descriptionTextColor:h,actionTextColor:t,boxShadow:v})},tI=et({name:"Notification",common:se,peers:{Scrollbar:cn},self:Xp}),oI=tI,rI={name:"Notification",common:N,peers:{Scrollbar:Ye},self:Xp},nI=rI,iI={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"},Jp=e=>{const{textColor2:t,closeIconColor:o,closeIconColorHover:r,closeIconColorPressed:n,infoColor:i,successColor:s,errorColor:a,warningColor:l,popoverColor:c,boxShadow2:d,primaryColor:u,lineHeight:p,borderRadius:h,closeColorHover:f,closeColorPressed:m}=e;return Object.assign(Object.assign({},iI),{closeBorderRadius:h,textColor:t,textColorInfo:t,textColorSuccess:t,textColorError:t,textColorWarning:t,textColorLoading:t,color:c,colorInfo:c,colorSuccess:c,colorError:c,colorWarning:c,colorLoading:c,boxShadow:d,boxShadowInfo:d,boxShadowSuccess:d,boxShadowError:d,boxShadowWarning:d,boxShadowLoading:d,iconColor:t,iconColorInfo:i,iconColorSuccess:s,iconColorWarning:l,iconColorError:a,iconColorLoading:u,closeColorHover:f,closeColorPressed:m,closeIconColor:o,closeIconColorHover:r,closeIconColorPressed:n,closeColorHoverInfo:f,closeColorPressedInfo:m,closeIconColorInfo:o,closeIconColorHoverInfo:r,closeIconColorPressedInfo:n,closeColorHoverSuccess:f,closeColorPressedSuccess:m,closeIconColorSuccess:o,closeIconColorHoverSuccess:r,closeIconColorPressedSuccess:n,closeColorHoverError:f,closeColorPressedError:m,closeIconColorError:o,closeIconColorHoverError:r,closeIconColorPressedError:n,closeColorHoverWarning:f,closeColorPressedWarning:m,closeIconColorWarning:o,closeIconColorHoverWarning:r,closeIconColorPressedWarning:n,closeColorHoverLoading:f,closeColorPressedLoading:m,closeIconColorLoading:o,closeIconColorHoverLoading:r,closeIconColorPressedLoading:n,loadingColor:u,lineHeight:p,borderRadius:h})},sI={name:"Message",common:se,self:Jp},aI=sI,lI={name:"Message",common:N,self:Jp},cI=lI,dI={name:"ButtonGroup",common:N},uI=dI,fI={name:"InputNumber",common:N,peers:{Button:Ke,Input:at},self(e){const{textColorDisabled:t}=e;return{iconColorDisabled:t}}},pI=fI,hI={name:"Layout",common:N,peers:{Scrollbar:Ye},self(e){const{textColor2:t,bodyColor:o,popoverColor:r,cardColor:n,dividerColor:i,scrollbarColor:s,scrollbarColorHover:a}=e;return{textColor:t,textColorInverted:t,color:o,colorEmbedded:o,headerColor:n,headerColorInverted:n,footerColor:n,footerColorInverted:n,headerBorderColor:i,headerBorderColorInverted:i,footerBorderColor:i,footerBorderColorInverted:i,siderBorderColor:i,siderBorderColorInverted:i,siderColor:n,siderColorInverted:n,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:r,siderToggleButtonIconColor:t,siderToggleButtonIconColorInverted:t,siderToggleBarColor:J(o,s),siderToggleBarColorHover:J(o,a),__invertScrollbar:"false"}}},mI=hI,Zp=e=>{const{textColor2:t,cardColor:o,modalColor:r,popoverColor:n,dividerColor:i,borderRadius:s,fontSize:a,hoverColor:l}=e;return{textColor:t,color:o,colorHover:l,colorModal:r,colorHoverModal:J(r,l),colorPopover:n,colorHoverPopover:J(n,l),borderColor:i,borderColorModal:J(r,i),borderColorPopover:J(n,i),borderRadius:s,fontSize:a}},gI={name:"List",common:se,self:Zp},oO=gI,vI={name:"List",common:N,self:Zp},CI=vI,bI={name:"LoadingBar",common:N,self(e){const{primaryColor:t}=e;return{colorError:"red",colorLoading:t,height:"2px"}}},EI=bI,SI={name:"Log",common:N,peers:{Scrollbar:Ye,Code:Tp},self(e){const{textColor2:t,inputColor:o,fontSize:r,primaryColor:n}=e;return{loaderFontSize:r,loaderTextColor:t,loaderColor:o,loaderBorder:"1px solid #0000",loadingColor:n}}},yI=SI,_I={name:"Mention",common:N,peers:{InternalSelectMenu:dn,Input:at},self(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}},xI=_I;function TI(e,t,o,r){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:t,itemColorActiveHoverInverted:t,itemColorActiveCollapsedInverted:t,itemTextColorInverted:e,itemTextColorHoverInverted:o,itemTextColorChildActiveInverted:o,itemTextColorChildActiveHoverInverted:o,itemTextColorActiveInverted:o,itemTextColorActiveHoverInverted:o,itemTextColorHorizontalInverted:e,itemTextColorHoverHorizontalInverted:o,itemTextColorChildActiveHorizontalInverted:o,itemTextColorChildActiveHoverHorizontalInverted:o,itemTextColorActiveHorizontalInverted:o,itemTextColorActiveHoverHorizontalInverted:o,itemIconColorInverted:e,itemIconColorHoverInverted:o,itemIconColorActiveInverted:o,itemIconColorActiveHoverInverted:o,itemIconColorChildActiveInverted:o,itemIconColorChildActiveHoverInverted:o,itemIconColorCollapsedInverted:e,itemIconColorHorizontalInverted:e,itemIconColorHoverHorizontalInverted:o,itemIconColorActiveHorizontalInverted:o,itemIconColorActiveHoverHorizontalInverted:o,itemIconColorChildActiveHorizontalInverted:o,itemIconColorChildActiveHoverHorizontalInverted:o,arrowColorInverted:e,arrowColorHoverInverted:o,arrowColorActiveInverted:o,arrowColorActiveHoverInverted:o,arrowColorChildActiveInverted:o,arrowColorChildActiveHoverInverted:o,groupTextColorInverted:r}}const Qp=e=>{const{borderRadius:t,textColor3:o,primaryColor:r,textColor2:n,textColor1:i,fontSize:s,dividerColor:a,hoverColor:l,primaryColorHover:c}=e;return Object.assign({borderRadius:t,color:"#0000",groupTextColor:o,itemColorHover:l,itemColorActive:$(r,{alpha:.1}),itemColorActiveHover:$(r,{alpha:.1}),itemColorActiveCollapsed:$(r,{alpha:.1}),itemTextColor:n,itemTextColorHover:n,itemTextColorActive:r,itemTextColorActiveHover:r,itemTextColorChildActive:r,itemTextColorChildActiveHover:r,itemTextColorHorizontal:n,itemTextColorHoverHorizontal:c,itemTextColorActiveHorizontal:r,itemTextColorActiveHoverHorizontal:r,itemTextColorChildActiveHorizontal:r,itemTextColorChildActiveHoverHorizontal:r,itemIconColor:i,itemIconColorHover:i,itemIconColorActive:r,itemIconColorActiveHover:r,itemIconColorChildActive:r,itemIconColorChildActiveHover:r,itemIconColorCollapsed:i,itemIconColorHorizontal:i,itemIconColorHoverHorizontal:c,itemIconColorActiveHorizontal:r,itemIconColorActiveHoverHorizontal:r,itemIconColorChildActiveHorizontal:r,itemIconColorChildActiveHoverHorizontal:r,itemHeight:"42px",arrowColor:n,arrowColorHover:n,arrowColorActive:r,arrowColorActiveHover:r,arrowColorChildActive:r,arrowColorChildActiveHover:r,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:s,dividerColor:a},TI("#BBB",r,"#FFF","#AAA"))},AI=et({name:"Menu",common:se,peers:{Tooltip:DA,Dropdown:HA},self:Qp}),rO=AI,wI={name:"Menu",common:N,peers:{Tooltip:Bi,Dropdown:al},self(e){const{primaryColor:t,primaryColorSuppl:o}=e,r=Qp(e);return r.itemColorActive=$(t,{alpha:.15}),r.itemColorActiveHover=$(t,{alpha:.15}),r.itemColorActiveCollapsed=$(t,{alpha:.15}),r.itemColorActiveInverted=o,r.itemColorActiveHoverInverted=o,r.itemColorActiveCollapsedInverted=o,r}},II=wI,RI={titleFontSize:"18px",backSize:"22px"};function PI(e){const{textColor1:t,textColor2:o,textColor3:r,fontSize:n,fontWeightStrong:i,primaryColorHover:s,primaryColorPressed:a}=e;return Object.assign(Object.assign({},RI),{titleFontWeight:i,fontSize:n,titleTextColor:t,backColor:o,backColorHover:s,backColorPressed:a,subtitleTextColor:r})}const LI={name:"PageHeader",common:N,self:PI},OI={iconSize:"22px"},eh=e=>{const{fontSize:t,warningColor:o}=e;return Object.assign(Object.assign({},OI),{fontSize:t,iconColor:o})},DI=et({name:"Popconfirm",common:se,peers:{Button:Fi,Popover:Mi},self:eh}),nO=DI,kI={name:"Popconfirm",common:N,peers:{Button:Ke,Popover:To},self:eh},NI=kI,th=e=>{const{infoColor:t,successColor:o,warningColor:r,errorColor:n,textColor2:i,progressRailColor:s,fontSize:a,fontWeight:l}=e;return{fontSize:a,fontSizeCircle:"28px",fontWeightCircle:l,railColor:s,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:t,iconColorInfo:t,iconColorSuccess:o,iconColorWarning:r,iconColorError:n,textColorCircle:i,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:i,fillColor:t,fillColorInfo:t,fillColorSuccess:o,fillColorWarning:r,fillColorError:n,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}},MI={name:"Progress",common:se,self:th},FI=MI,BI={name:"Progress",common:N,self(e){const t=th(e);return t.textColorLineInner="rgb(0, 0, 0)",t.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",t}},oh=BI,HI={name:"Rate",common:N,self(e){const{railColor:t}=e;return{itemColor:t,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}},$I=HI,zI={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0},rh=e=>{const{textColor2:t,textColor1:o,errorColor:r,successColor:n,infoColor:i,warningColor:s,lineHeight:a,fontWeightStrong:l}=e;return Object.assign(Object.assign({},zI),{lineHeight:a,titleFontWeight:l,titleTextColor:o,textColor:t,iconColorError:r,iconColorSuccess:n,iconColorInfo:i,iconColorWarning:s})},UI={name:"Result",common:se,self:rh},iO=UI,VI={name:"Result",common:N,self:rh},WI=VI,GI={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"},jI={name:"Slider",common:N,self(e){const t="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:o,modalColor:r,primaryColorSuppl:n,popoverColor:i,textColor2:s,cardColor:a,borderRadius:l,fontSize:c,opacityDisabled:d}=e;return Object.assign(Object.assign({},GI),{fontSize:c,markFontSize:c,railColor:o,railColorHover:o,fillColor:n,fillColorHover:n,opacityDisabled:d,handleColor:"#FFF",dotColor:a,dotColorModal:r,dotColorPopover:i,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:i,indicatorBoxShadow:t,indicatorTextColor:s,indicatorBorderRadius:l,dotBorder:`2px solid ${o}`,dotBorderActive:`2px solid ${n}`,dotBoxShadow:""})}},YI=jI,KI={name:"Spin",common:N,self:hm},qI=KI,XI=e=>{const{textColor2:t,textColor3:o,fontSize:r,fontWeight:n}=e;return{labelFontSize:r,labelFontWeight:n,valueFontWeight:n,valueFontSize:"24px",labelTextColor:o,valuePrefixTextColor:t,valueSuffixTextColor:t,valueTextColor:t}},JI={name:"Statistic",common:N,self:XI},ZI=JI,QI={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"},nh=e=>{const{fontWeightStrong:t,baseColor:o,textColorDisabled:r,primaryColor:n,errorColor:i,textColor1:s,textColor2:a}=e;return Object.assign(Object.assign({},QI),{stepHeaderFontWeight:t,indicatorTextColorProcess:o,indicatorTextColorWait:r,indicatorTextColorFinish:n,indicatorTextColorError:i,indicatorBorderColorProcess:n,indicatorBorderColorWait:r,indicatorBorderColorFinish:n,indicatorBorderColorError:i,indicatorColorProcess:n,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:r,splitorColorWait:r,splitorColorFinish:n,splitorColorError:r,headerTextColorProcess:s,headerTextColorWait:r,headerTextColorFinish:r,headerTextColorError:i,descriptionTextColorProcess:a,descriptionTextColorWait:r,descriptionTextColorFinish:r,descriptionTextColorError:i})},e1={name:"Steps",common:se,self:nh},sO=e1,t1={name:"Steps",common:N,self:nh},o1=t1,r1={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},n1={name:"Switch",common:N,self(e){const{primaryColorSuppl:t,opacityDisabled:o,borderRadius:r,primaryColor:n,textColor2:i,baseColor:s}=e,a="rgba(255, 255, 255, .20)";return Object.assign(Object.assign({},r1),{iconColor:s,textColor:i,loadingColor:t,opacityDisabled:o,railColor:a,railColorActive:t,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:r,railBorderRadiusMedium:r,railBorderRadiusLarge:r,buttonBorderRadiusSmall:r,buttonBorderRadiusMedium:r,buttonBorderRadiusLarge:r,boxShadowFocus:`0 0 8px 0 ${$(n,{alpha:.3})}`})}},i1=n1,s1={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"},a1=e=>{const{dividerColor:t,cardColor:o,modalColor:r,popoverColor:n,tableHeaderColor:i,tableColorStriped:s,textColor1:a,textColor2:l,borderRadius:c,fontWeightStrong:d,lineHeight:u,fontSizeSmall:p,fontSizeMedium:h,fontSizeLarge:f}=e;return Object.assign(Object.assign({},s1),{fontSizeSmall:p,fontSizeMedium:h,fontSizeLarge:f,lineHeight:u,borderRadius:c,borderColor:J(o,t),borderColorModal:J(r,t),borderColorPopover:J(n,t),tdColor:o,tdColorModal:r,tdColorPopover:n,tdColorStriped:J(o,s),tdColorStripedModal:J(r,s),tdColorStripedPopover:J(n,s),thColor:J(o,i),thColorModal:J(r,i),thColorPopover:J(n,i),thTextColor:a,tdTextColor:l,thFontWeight:d})},l1={name:"Table",common:N,self:a1},c1=l1,d1={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabPaddingSmallCard:"6px 10px",tabPaddingMediumCard:"8px 12px",tabPaddingLargeCard:"8px 16px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"},ih=e=>{const{textColor2:t,primaryColor:o,textColorDisabled:r,closeIconColor:n,closeIconColorHover:i,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,tabColor:c,baseColor:d,dividerColor:u,fontWeight:p,textColor1:h,borderRadius:f,fontSize:m,fontWeightStrong:v}=e;return Object.assign(Object.assign({},d1),{colorSegment:c,tabFontSizeCard:m,tabTextColorLine:h,tabTextColorActiveLine:o,tabTextColorHoverLine:o,tabTextColorDisabledLine:r,tabTextColorSegment:h,tabTextColorActiveSegment:t,tabTextColorHoverSegment:t,tabTextColorDisabledSegment:r,tabTextColorBar:h,tabTextColorActiveBar:o,tabTextColorHoverBar:o,tabTextColorDisabledBar:r,tabTextColorCard:h,tabTextColorHoverCard:h,tabTextColorActiveCard:o,tabTextColorDisabledCard:r,barColor:o,closeIconColor:n,closeIconColorHover:i,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,closeBorderRadius:f,tabColor:c,tabColorSegment:d,tabBorderColor:u,tabFontWeightActive:p,tabFontWeight:p,tabBorderRadius:f,paneTextColor:t,fontWeightStrong:v})},u1={name:"Tabs",common:se,self:ih},aO=u1,f1={name:"Tabs",common:N,self(e){const t=ih(e),{inputColor:o}=e;return t.colorSegment=o,t.tabColorSegment=o,t}},p1=f1,sh=e=>{const{textColor1:t,textColor2:o,fontWeightStrong:r,fontSize:n}=e;return{fontSize:n,titleTextColor:t,textColor:o,titleFontWeight:r}},h1={name:"Thing",common:se,self:sh},lO=h1,m1={name:"Thing",common:N,self:sh},g1=m1,v1={titleMarginMedium:"0 0 6px 0",titleMarginLarge:"-2px 0 6px 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"},C1={name:"Timeline",common:N,self(e){const{textColor3:t,infoColorSuppl:o,errorColorSuppl:r,successColorSuppl:n,warningColorSuppl:i,textColor1:s,textColor2:a,railColor:l,fontWeightStrong:c,fontSize:d}=e;return Object.assign(Object.assign({},v1),{contentFontSize:d,titleFontWeight:c,circleBorder:`2px solid ${t}`,circleBorderInfo:`2px solid ${o}`,circleBorderError:`2px solid ${r}`,circleBorderSuccess:`2px solid ${n}`,circleBorderWarning:`2px solid ${i}`,iconColor:t,iconColorInfo:o,iconColorError:r,iconColorSuccess:n,iconColorWarning:i,titleTextColor:s,contentTextColor:a,metaTextColor:t,lineColor:l})}},b1=C1,E1={extraFontSizeSmall:"12px",extraFontSizeMedium:"12px",extraFontSizeLarge:"14px",titleFontSizeSmall:"14px",titleFontSizeMedium:"16px",titleFontSizeLarge:"16px",closeSize:"20px",closeIconSize:"16px",headerHeightSmall:"44px",headerHeightMedium:"44px",headerHeightLarge:"50px"},S1={name:"Transfer",common:N,peers:{Checkbox:dr,Scrollbar:Ye,Input:at,Empty:xo,Button:Ke},self(e){const{fontWeight:t,fontSizeLarge:o,fontSizeMedium:r,fontSizeSmall:n,heightLarge:i,heightMedium:s,borderRadius:a,inputColor:l,tableHeaderColor:c,textColor1:d,textColorDisabled:u,textColor2:p,textColor3:h,hoverColor:f,closeColorHover:m,closeColorPressed:v,closeIconColor:C,closeIconColorHover:E,closeIconColorPressed:R,dividerColor:_}=e;return Object.assign(Object.assign({},E1),{itemHeightSmall:s,itemHeightMedium:s,itemHeightLarge:i,fontSizeSmall:n,fontSizeMedium:r,fontSizeLarge:o,borderRadius:a,dividerColor:_,borderColor:"#0000",listColor:l,headerColor:c,titleTextColor:d,titleTextColorDisabled:u,extraTextColor:h,extraTextColorDisabled:u,itemTextColor:p,itemTextColorDisabled:u,itemColorPending:f,titleFontWeight:t,closeColorHover:m,closeColorPressed:v,closeIconColor:C,closeIconColorHover:E,closeIconColorPressed:R})}},y1=S1,_1=e=>{const{borderRadiusSmall:t,hoverColor:o,pressedColor:r,primaryColor:n,textColor3:i,textColor2:s,textColorDisabled:a,fontSize:l}=e;return{fontSize:l,nodeBorderRadius:t,nodeColorHover:o,nodeColorPressed:r,nodeColorActive:$(n,{alpha:.1}),arrowColor:i,nodeTextColor:s,nodeTextColorDisabled:a,loadingColor:n,dropMarkColor:n}},x1={name:"Tree",common:N,peers:{Checkbox:dr,Scrollbar:Ye,Empty:xo},self(e){const{primaryColor:t}=e,o=_1(e);return o.nodeColorActive=$(t,{alpha:.15}),o}},ah=x1,T1={name:"TreeSelect",common:N,peers:{Tree:ah,Empty:xo,InternalSelection:il}},A1=T1,w1={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"},lh=e=>{const{primaryColor:t,textColor2:o,borderColor:r,lineHeight:n,fontSize:i,borderRadiusSmall:s,dividerColor:a,fontWeightStrong:l,textColor1:c,textColor3:d,infoColor:u,warningColor:p,errorColor:h,successColor:f,codeColor:m}=e;return Object.assign(Object.assign({},w1),{aTextColor:t,blockquoteTextColor:o,blockquotePrefixColor:r,blockquoteLineHeight:n,blockquoteFontSize:i,codeBorderRadius:s,liTextColor:o,liLineHeight:n,liFontSize:i,hrColor:a,headerFontWeight:l,headerTextColor:c,pTextColor:o,pTextColor1Depth:c,pTextColor2Depth:o,pTextColor3Depth:d,pLineHeight:n,pFontSize:i,headerBarColor:t,headerBarColorPrimary:t,headerBarColorInfo:u,headerBarColorError:h,headerBarColorWarning:p,headerBarColorSuccess:f,textColor:o,textColor1Depth:c,textColor2Depth:o,textColor3Depth:d,textColorPrimary:t,textColorInfo:u,textColorSuccess:f,textColorWarning:p,textColorError:h,codeTextColor:o,codeColor:m,codeBorder:"1px solid #0000"})},I1={name:"Typography",common:se,self:lh},ch=I1,R1={name:"Typography",common:N,self:lh},P1=R1,dh=e=>{const{iconColor:t,primaryColor:o,errorColor:r,textColor2:n,successColor:i,opacityDisabled:s,actionColor:a,borderColor:l,hoverColor:c,lineHeight:d,borderRadius:u,fontSize:p}=e;return{fontSize:p,lineHeight:d,borderRadius:u,draggerColor:a,draggerBorder:`1px dashed ${l}`,draggerBorderHover:`1px dashed ${o}`,itemColorHover:c,itemColorHoverError:$(r,{alpha:.06}),itemTextColor:n,itemTextColorError:r,itemTextColorSuccess:i,itemIconColor:t,itemDisabledOpacity:s,itemBorderImageCardError:`1px solid ${r}`,itemBorderImageCard:`1px solid ${l}`}},L1=et({name:"Upload",common:se,peers:{Button:Fi,Progress:FI},self:dh}),cO=L1,O1={name:"Upload",common:N,peers:{Button:Ke,Progress:oh},self(e){const{errorColor:t}=e,o=dh(e);return o.itemColorHoverError=$(t,{alpha:.09}),o}},D1=O1,k1={name:"Watermark",common:N,self(e){const{fontFamily:t}=e;return{fontFamily:t}}},N1=k1,M1=et({name:"Watermark",common:se,self(e){const{fontFamily:t}=e;return{fontFamily:t}}}),F1=M1,B1={name:"Row",common:N},H1=B1,$1={name:"Image",common:N,peers:{Tooltip:Bi},self:e=>{const{textColor2:t}=e;return{toolbarIconColor:t,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}},z1={extraFontSize:"12px",width:"440px"},U1={name:"Transfer",common:N,peers:{Checkbox:dr,Scrollbar:Ye,Input:at,Empty:xo,Button:Ke},self(e){const{iconColorDisabled:t,iconColor:o,fontWeight:r,fontSizeLarge:n,fontSizeMedium:i,fontSizeSmall:s,heightLarge:a,heightMedium:l,heightSmall:c,borderRadius:d,inputColor:u,tableHeaderColor:p,textColor1:h,textColorDisabled:f,textColor2:m,hoverColor:v}=e;return Object.assign(Object.assign({},z1),{itemHeightSmall:c,itemHeightMedium:l,itemHeightLarge:a,fontSizeSmall:s,fontSizeMedium:i,fontSizeLarge:n,borderRadius:d,borderColor:"#0000",listColor:u,headerColor:p,titleTextColor:h,titleTextColorDisabled:f,extraTextColor:m,filterDividerColor:"#0000",itemTextColor:m,itemTextColorDisabled:f,itemColorPending:v,titleFontWeight:r,iconColor:o,iconColorDisabled:t})}},V1=U1,uh={icon:Function,type:{type:String,default:"info"},content:[String,Number,Function],showIcon:{type:Boolean,default:!0},closable:Boolean,keepAliveOnHover:Boolean,onClose:Function,onMouseenter:Function,onMouseleave:Function},fh=je("n-message-api"),ph=je("n-message-provider"),W1=k([q("message-wrapper",`
 margin: var(--n-margin);
 z-index: 0;
 transform-origin: top center;
 display: flex;
 `,[hT({overflow:"visible",originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.85)"}})]),q("message",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 margin-bottom .3s var(--n-bezier);
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 flex-wrap: nowrap;
 overflow: hidden;
 max-width: var(--n-max-width);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-shadow: var(--n-box-shadow);
 `,[Y("content",`
 display: inline-block;
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 `),Y("icon",`
 position: relative;
 margin: var(--n-icon-margin);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 flex-shrink: 0;
 `,[["default","info","success","warning","error","loading"].map(e=>W(`${e}-type`,[k("> *",`
 color: var(--n-icon-color-${e});
 transition: color .3s var(--n-bezier);
 `)])),k("> *",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[Jd()])]),Y("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 flex-shrink: 0;
 `,[k("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),k("&:active",`
 color: var(--n-close-icon-color-pressed);
 `)])]),q("message-container",`
 z-index: 6000;
 position: fixed;
 height: 0;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: center;
 `,[W("top",`
 top: 12px;
 left: 0;
 right: 0;
 `),W("top-left",`
 top: 12px;
 left: 12px;
 right: 0;
 align-items: flex-start;
 `),W("top-right",`
 top: 12px;
 left: 0;
 right: 12px;
 align-items: flex-end;
 `),W("bottom",`
 bottom: 4px;
 left: 0;
 right: 0;
 justify-content: flex-end;
 `),W("bottom-left",`
 bottom: 4px;
 left: 12px;
 right: 0;
 justify-content: flex-end;
 align-items: flex-start;
 `),W("bottom-right",`
 bottom: 4px;
 left: 0;
 right: 12px;
 justify-content: flex-end;
 align-items: flex-end;
 `)])]),G1={info:()=>y(ai,null),success:()=>y(rl,null),warning:()=>y(nl,null),error:()=>y(ol,null),default:()=>null},j1=ce({name:"Message",props:Object.assign(Object.assign({},uh),{render:Function}),setup(e){const{inlineThemeDisabled:t,mergedRtlRef:o}=Qe(e),{props:r,mergedClsPrefixRef:n}=ut(ph),i=cr("Message",o,n),s=be("Message","-message",W1,aI,r,n),a=X(()=>{const{type:c}=e,{common:{cubicBezierEaseInOut:d},self:{padding:u,margin:p,maxWidth:h,iconMargin:f,closeMargin:m,closeSize:v,iconSize:C,fontSize:E,lineHeight:R,borderRadius:_,iconColorInfo:T,iconColorSuccess:w,iconColorWarning:b,iconColorError:x,iconColorLoading:L,closeIconSize:F,closeBorderRadius:z,[ee("textColor",c)]:G,[ee("boxShadow",c)]:O,[ee("color",c)]:I,[ee("closeColorHover",c)]:P,[ee("closeColorPressed",c)]:B,[ee("closeIconColor",c)]:M,[ee("closeIconColorPressed",c)]:te,[ee("closeIconColorHover",c)]:ne}}=s.value;return{"--n-bezier":d,"--n-margin":p,"--n-padding":u,"--n-max-width":h,"--n-font-size":E,"--n-icon-margin":f,"--n-icon-size":C,"--n-close-icon-size":F,"--n-close-border-radius":z,"--n-close-size":v,"--n-close-margin":m,"--n-text-color":G,"--n-color":I,"--n-box-shadow":O,"--n-icon-color-info":T,"--n-icon-color-success":w,"--n-icon-color-warning":b,"--n-icon-color-error":x,"--n-icon-color-loading":L,"--n-close-color-hover":P,"--n-close-color-pressed":B,"--n-close-icon-color":M,"--n-close-icon-color-pressed":te,"--n-close-icon-color-hover":ne,"--n-line-height":R,"--n-border-radius":_}}),l=t?Dt("message",X(()=>e.type[0]),a,{}):void 0;return{mergedClsPrefix:n,rtlEnabled:i,messageProviderProps:r,handleClose(){var c;(c=e.onClose)===null||c===void 0||c.call(e)},cssVars:t?void 0:a,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender,placement:r.placement}},render(){const{render:e,type:t,closable:o,content:r,mergedClsPrefix:n,cssVars:i,themeClass:s,onRender:a,icon:l,handleClose:c,showIcon:d}=this;a==null||a();let u;return y("div",{class:[`${n}-message-wrapper`,s],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:[{alignItems:this.placement.startsWith("top")?"flex-start":"flex-end"},i]},e?e(this.$props):y("div",{class:[`${n}-message ${n}-message--${t}-type`,this.rtlEnabled&&`${n}-message--rtl`]},(u=Y1(l,t,n))&&d?y("div",{class:`${n}-message__icon ${n}-message__icon--${t}-type`},y(Zd,null,{default:()=>u})):null,y("div",{class:`${n}-message__content`},Je(r)),o?y(Ni,{clsPrefix:n,class:`${n}-message__close`,onClick:c,absolute:!0}):null))}});function Y1(e,t,o){if(typeof e=="function")return e();{const r=t==="loading"?y(Qd,{clsPrefix:o,strokeWidth:24,scale:.85}):G1[t]();return r?y(ki,{clsPrefix:o,key:t},{default:()=>r}):null}}const K1=ce({name:"MessageEnvironment",props:Object.assign(Object.assign({},uh),{duration:{type:Number,default:3e3},onAfterLeave:Function,onLeave:Function,internalKey:{type:String,required:!0},onInternalAfterLeave:Function,onHide:Function,onAfterHide:Function}),setup(e){let t=null;const o=Q(!0);Eo(()=>{r()});function r(){const{duration:d}=e;d&&(t=window.setTimeout(s,d))}function n(d){d.currentTarget===d.target&&t!==null&&(window.clearTimeout(t),t=null)}function i(d){d.currentTarget===d.target&&r()}function s(){const{onHide:d}=e;o.value=!1,t&&(window.clearTimeout(t),t=null),d&&d()}function a(){const{onClose:d}=e;d&&d(),s()}function l(){const{onAfterLeave:d,onInternalAfterLeave:u,onAfterHide:p,internalKey:h}=e;d&&d(),u&&u(h),p&&p()}function c(){s()}return{show:o,hide:s,handleClose:a,handleAfterLeave:l,handleMouseleave:i,handleMouseenter:n,deactivate:c}},render(){return y(ip,{appear:!0,onAfterLeave:this.handleAfterLeave,onLeave:this.onLeave},{default:()=>[this.show?y(j1,{content:this.content,type:this.type,icon:this.icon,showIcon:this.showIcon,closable:this.closable,onClose:this.handleClose,onMouseenter:this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.keepAliveOnHover?this.handleMouseleave:void 0}):null]})}}),q1=Object.assign(Object.assign({},be.props),{to:[String,Object],duration:{type:Number,default:3e3},keepAliveOnHover:Boolean,max:Number,placement:{type:String,default:"top"},closable:Boolean,containerStyle:[String,Object]}),X1=ce({name:"MessageProvider",props:q1,setup(e){const{mergedClsPrefixRef:t}=Qe(e),o=Q([]),r=Q({}),n={create(l,c){return i(l,Object.assign({type:"default"},c))},info(l,c){return i(l,Object.assign(Object.assign({},c),{type:"info"}))},success(l,c){return i(l,Object.assign(Object.assign({},c),{type:"success"}))},warning(l,c){return i(l,Object.assign(Object.assign({},c),{type:"warning"}))},error(l,c){return i(l,Object.assign(Object.assign({},c),{type:"error"}))},loading(l,c){return i(l,Object.assign(Object.assign({},c),{type:"loading"}))},destroyAll:a};Ze(ph,{props:e,mergedClsPrefixRef:t}),Ze(fh,n);function i(l,c){const d=Oi(),u=tr(Object.assign(Object.assign({},c),{content:l,key:d,destroy:()=>{var h;(h=r.value[d])===null||h===void 0||h.hide()}})),{max:p}=e;return p&&o.value.length>=p&&o.value.shift(),o.value.push(u),u}function s(l){o.value.splice(o.value.findIndex(c=>c.key===l),1),delete r.value[l]}function a(){Object.values(r.value).forEach(l=>{l.hide()})}return Object.assign({mergedClsPrefix:t,messageRefs:r,messageList:o,handleAfterLeave:s},n)},render(){var e,t,o;return y(kt,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),this.messageList.length?y(Aa,{to:(o=this.to)!==null&&o!==void 0?o:"body"},y("div",{class:[`${this.mergedClsPrefix}-message-container`,`${this.mergedClsPrefix}-message-container--${this.placement}`],key:"message-container",style:this.containerStyle},this.messageList.map(r=>y(K1,Object.assign({ref:n=>{n&&(this.messageRefs[r.key]=n)},internalKey:r.key,onInternalAfterLeave:this.handleAfterLeave},Za(r,["destroy"],void 0),{duration:r.duration===void 0?this.duration:r.duration,keepAliveOnHover:r.keepAliveOnHover===void 0?this.keepAliveOnHover:r.keepAliveOnHover,closable:r.closable===void 0?this.closable:r.closable}))))):null)}});function J1(){const e=ut(fh,null);return e===null&&mm("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}const $i=je("n-notification-provider"),Z1=ce({name:"NotificationContainer",props:{scrollable:{type:Boolean,required:!0},placement:{type:String,required:!0}},setup(){const{mergedThemeRef:e,mergedClsPrefixRef:t,wipTransitionCountRef:o}=ut($i),r=Q(null);return bi(()=>{var n,i;o.value>0?(n=r==null?void 0:r.value)===null||n===void 0||n.classList.add("transitioning"):(i=r==null?void 0:r.value)===null||i===void 0||i.classList.remove("transitioning")}),{selfRef:r,mergedTheme:e,mergedClsPrefix:t,transitioning:o}},render(){const{$slots:e,scrollable:t,mergedClsPrefix:o,mergedTheme:r,placement:n}=this;return y("div",{ref:"selfRef",class:[`${o}-notification-container`,t&&`${o}-notification-container--scrollable`,`${o}-notification-container--${n}`]},t?y(up,{theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar,contentStyle:{overflow:"hidden"}},e):e)}}),Q1={info:()=>y(ai,null),success:()=>y(rl,null),warning:()=>y(nl,null),error:()=>y(ol,null),default:()=>null},cl={closable:{type:Boolean,default:!0},type:{type:String,default:"default"},avatar:Function,title:[String,Function],description:[String,Function],content:[String,Function],meta:[String,Function],action:[String,Function],onClose:{type:Function,required:!0},keepAliveOnHover:Boolean,onMouseenter:Function,onMouseleave:Function},eR=Di(cl),tR=ce({name:"Notification",props:cl,setup(e){const{mergedClsPrefixRef:t,mergedThemeRef:o,props:r}=ut($i),{inlineThemeDisabled:n,mergedRtlRef:i}=Qe(),s=cr("Notification",i,t),a=X(()=>{const{type:c}=e,{self:{color:d,textColor:u,closeIconColor:p,closeIconColorHover:h,closeIconColorPressed:f,headerTextColor:m,descriptionTextColor:v,actionTextColor:C,borderRadius:E,headerFontWeight:R,boxShadow:_,lineHeight:T,fontSize:w,closeMargin:b,closeSize:x,width:L,padding:F,closeIconSize:z,closeBorderRadius:G,closeColorHover:O,closeColorPressed:I,titleFontSize:P,metaFontSize:B,descriptionFontSize:M,[ee("iconColor",c)]:te},common:{cubicBezierEaseOut:ne,cubicBezierEaseIn:ue,cubicBezierEaseInOut:_e}}=o.value,{left:Ne,right:qe,top:ur,bottom:lt}=ou(F);return{"--n-color":d,"--n-font-size":w,"--n-text-color":u,"--n-description-text-color":v,"--n-action-text-color":C,"--n-title-text-color":m,"--n-title-font-weight":R,"--n-bezier":_e,"--n-bezier-ease-out":ne,"--n-bezier-ease-in":ue,"--n-border-radius":E,"--n-box-shadow":_,"--n-close-border-radius":G,"--n-close-color-hover":O,"--n-close-color-pressed":I,"--n-close-icon-color":p,"--n-close-icon-color-hover":h,"--n-close-icon-color-pressed":f,"--n-line-height":T,"--n-icon-color":te,"--n-close-margin":b,"--n-close-size":x,"--n-close-icon-size":z,"--n-width":L,"--n-padding-left":Ne,"--n-padding-right":qe,"--n-padding-top":ur,"--n-padding-bottom":lt,"--n-title-font-size":P,"--n-meta-font-size":B,"--n-description-font-size":M}}),l=n?Dt("notification",X(()=>e.type[0]),a,r):void 0;return{mergedClsPrefix:t,showAvatar:X(()=>e.avatar||e.type!=="default"),handleCloseClick(){e.onClose()},rtlEnabled:s,cssVars:n?void 0:a,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var e;const{mergedClsPrefix:t}=this;return(e=this.onRender)===null||e===void 0||e.call(this),y("div",{class:[`${t}-notification-wrapper`,this.themeClass],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:this.cssVars},y("div",{class:[`${t}-notification`,this.rtlEnabled&&`${t}-notification--rtl`,this.themeClass,{[`${t}-notification--closable`]:this.closable,[`${t}-notification--show-avatar`]:this.showAvatar}],style:this.cssVars},this.showAvatar?y("div",{class:`${t}-notification__avatar`},this.avatar?Je(this.avatar):this.type!=="default"?y(ki,{clsPrefix:t},{default:()=>Q1[this.type]()}):null):null,this.closable?y(Ni,{clsPrefix:t,class:`${t}-notification__close`,onClick:this.handleCloseClick}):null,y("div",{ref:"bodyRef",class:`${t}-notification-main`},this.title?y("div",{class:`${t}-notification-main__header`},Je(this.title)):null,this.description?y("div",{class:`${t}-notification-main__description`},Je(this.description)):null,this.content?y("pre",{class:`${t}-notification-main__content`},Je(this.content)):null,this.meta||this.action?y("div",{class:`${t}-notification-main-footer`},this.meta?y("div",{class:`${t}-notification-main-footer__meta`},Je(this.meta)):null,this.action?y("div",{class:`${t}-notification-main-footer__action`},Je(this.action)):null):null)))}}),oR=Object.assign(Object.assign({},cl),{duration:Number,onClose:Function,onLeave:Function,onAfterEnter:Function,onAfterLeave:Function,onHide:Function,onAfterShow:Function,onAfterHide:Function}),rR=ce({name:"NotificationEnvironment",props:Object.assign(Object.assign({},oR),{internalKey:{type:String,required:!0},onInternalAfterLeave:{type:Function,required:!0}}),setup(e){const{wipTransitionCountRef:t}=ut($i),o=Q(!0);let r=null;function n(){o.value=!1,r&&window.clearTimeout(r)}function i(f){t.value++,Jo(()=>{f.style.height=`${f.offsetHeight}px`,f.style.maxHeight="0",f.style.transition="none",f.offsetHeight,f.style.transition="",f.style.maxHeight=f.style.height})}function s(f){t.value--,f.style.height="",f.style.maxHeight="";const{onAfterEnter:m,onAfterShow:v}=e;m&&m(),v&&v()}function a(f){t.value++,f.style.maxHeight=`${f.offsetHeight}px`,f.style.height=`${f.offsetHeight}px`,f.offsetHeight}function l(f){const{onHide:m}=e;m&&m(),f.style.maxHeight="0",f.offsetHeight}function c(){t.value--;const{onAfterLeave:f,onInternalAfterLeave:m,onAfterHide:v,internalKey:C}=e;f&&f(),m(C),v&&v()}function d(){const{duration:f}=e;f&&(r=window.setTimeout(n,f))}function u(f){f.currentTarget===f.target&&r!==null&&(window.clearTimeout(r),r=null)}function p(f){f.currentTarget===f.target&&d()}function h(){const{onClose:f}=e;f?Promise.resolve(f()).then(m=>{m!==!1&&n()}):n()}return Eo(()=>{e.duration&&(r=window.setTimeout(n,e.duration))}),{show:o,hide:n,handleClose:h,handleAfterLeave:c,handleLeave:l,handleBeforeLeave:a,handleAfterEnter:s,handleBeforeEnter:i,handleMouseenter:u,handleMouseleave:p}},render(){return y(Xo,{name:"notification-transition",appear:!0,onBeforeEnter:this.handleBeforeEnter,onAfterEnter:this.handleAfterEnter,onBeforeLeave:this.handleBeforeLeave,onLeave:this.handleLeave,onAfterLeave:this.handleAfterLeave},{default:()=>this.show?y(tR,Object.assign({},Gr(this.$props,eR),{onClose:this.handleClose,onMouseenter:this.duration&&this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.duration&&this.keepAliveOnHover?this.handleMouseleave:void 0})):null})}}),nR=k([q("notification-container",`
 z-index: 4000;
 position: fixed;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: flex-end;
 `,[k(">",[q("scrollbar",`
 width: initial;
 overflow: visible;
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[k(">",[q("scrollbar-container",`
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[q("scrollbar-content",`
 padding-top: 12px;
 padding-bottom: 33px;
 `)])])])]),W("top, top-right, top-left",`
 top: 12px;
 `,[k("&.transitioning >",[q("scrollbar",[k(">",[q("scrollbar-container",`
 min-height: 100vh !important;
 `)])])])]),W("bottom, bottom-right, bottom-left",`
 bottom: 12px;
 `,[k(">",[q("scrollbar",[k(">",[q("scrollbar-container",[q("scrollbar-content",`
 padding-bottom: 12px;
 `)])])])]),q("notification-wrapper",`
 display: flex;
 align-items: flex-end;
 margin-bottom: 0;
 margin-top: 12px;
 `)]),W("top, bottom",`
 left: 50%;
 transform: translateX(-50%);
 `,[q("notification-wrapper",[k("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: scale(0.85);
 `),k("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: scale(1);
 `)])]),W("top",[q("notification-wrapper",`
 transform-origin: top center;
 `)]),W("bottom",[q("notification-wrapper",`
 transform-origin: bottom center;
 `)]),W("top-right, bottom-right",[q("notification",`
 margin-left: 28px;
 margin-right: 16px;
 `)]),W("top-left, bottom-left",[q("notification",`
 margin-left: 16px;
 margin-right: 28px;
 `)]),W("top-right",`
 right: 0;
 `,[On("top-right")]),W("top-left",`
 left: 0;
 `,[On("top-left")]),W("bottom-right",`
 right: 0;
 `,[On("bottom-right")]),W("bottom-left",`
 left: 0;
 `,[On("bottom-left")]),W("scrollable",[W("top-right",`
 top: 0;
 `),W("top-left",`
 top: 0;
 `),W("bottom-right",`
 bottom: 0;
 `),W("bottom-left",`
 bottom: 0;
 `)]),q("notification-wrapper",`
 margin-bottom: 12px;
 `,[k("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 opacity: 0;
 margin-top: 0 !important;
 margin-bottom: 0 !important;
 `),k("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 opacity: 1;
 `),k("&.notification-transition-leave-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-in),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `),k("&.notification-transition-enter-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-out),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `)]),q("notification",`
 background-color: var(--n-color);
 color: var(--n-text-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 font-family: inherit;
 font-size: var(--n-font-size);
 font-weight: 400;
 position: relative;
 display: flex;
 overflow: hidden;
 flex-shrink: 0;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 width: var(--n-width);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 box-sizing: border-box;
 opacity: 1;
 `,[Y("avatar",[q("icon",{color:"var(--n-icon-color)"}),q("base-icon",{color:"var(--n-icon-color)"})]),W("show-avatar",[q("notification-main",`
 margin-left: 40px;
 width: calc(100% - 40px); 
 `)]),W("closable",[q("notification-main",[k("> *:first-child",{paddingRight:"20px"})]),Y("close",`
 position: absolute;
 top: 0;
 right: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),Y("avatar",`
 position: absolute;
 top: var(--n-padding-top);
 left: var(--n-padding-left);
 width: 28px;
 height: 28px;
 font-size: 28px;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[q("icon","transition: color .3s var(--n-bezier);")]),q("notification-main",`
 padding-top: var(--n-padding-top);
 padding-bottom: var(--n-padding-bottom);
 box-sizing: border-box;
 display: flex;
 flex-direction: column;
 margin-left: 8px;
 width: calc(100% - 8px);
 `,[q("notification-main-footer",`
 display: flex;
 align-items: center;
 justify-content: space-between;
 margin-top: 12px;
 `,[Y("meta",`
 font-size: var(--n-meta-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),Y("action",`
 cursor: pointer;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-action-text-color);
 `)]),Y("header",`
 font-weight: var(--n-title-font-weight);
 font-size: var(--n-title-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-title-text-color);
 `),Y("description",`
 margin-top: 8px;
 font-size: var(--n-description-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),Y("content",`
 line-height: var(--n-line-height);
 margin: 12px 0 0 0;
 font-family: inherit;
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-text-color);
 `,[k("&:first-child",{margin:0})])])])])]);function On(e){const o=e.split("-")[1]==="left"?"calc(-100%)":"calc(100%)",r="0";return q("notification-wrapper",[k("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: translate(${o}, 0);
 `),k("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: translate(${r}, 0);
 `)])}const iR=je("n-notification-api"),sR=Object.assign(Object.assign({},be.props),{containerStyle:[String,Object],to:[String,Object],scrollable:{type:Boolean,default:!0},max:Number,placement:{type:String,default:"top-right"},keepAliveOnHover:Boolean}),aR=ce({name:"NotificationProvider",props:sR,setup(e){const{mergedClsPrefixRef:t}=Qe(e),o=Q([]),r={},n=new Set;function i(h){const f=Oi(),m=()=>{n.add(f),r[f]&&r[f].hide()},v=tr(Object.assign(Object.assign({},h),{key:f,destroy:m,hide:m,deactivate:m})),{max:C}=e;if(C&&o.value.length-n.size>=C){let E=!1,R=0;for(const _ of o.value){if(!n.has(_.key)){r[_.key]&&(_.destroy(),E=!0);break}R++}E||o.value.splice(R,1)}return o.value.push(v),v}const s=["info","success","warning","error"].map(h=>f=>i(Object.assign(Object.assign({},f),{type:h})));function a(h){n.delete(h),o.value.splice(o.value.findIndex(f=>f.key===h),1)}const l=be("Notification","-notification",nR,oI,e,t),c={create:i,info:s[0],success:s[1],warning:s[2],error:s[3],open:u,destroyAll:p},d=Q(0);Ze(iR,c),Ze($i,{props:e,mergedClsPrefixRef:t,mergedThemeRef:l,wipTransitionCountRef:d});function u(h){return i(h)}function p(){Object.values(o.value).forEach(h=>{h.hide()})}return Object.assign({mergedClsPrefix:t,notificationList:o,notificationRefs:r,handleAfterLeave:a},c)},render(){var e,t,o;const{placement:r}=this;return y(kt,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),this.notificationList.length?y(Aa,{to:(o=this.to)!==null&&o!==void 0?o:"body"},y(Z1,{style:this.containerStyle,scrollable:this.scrollable&&r!=="top"&&r!=="bottom",placement:r},{default:()=>this.notificationList.map(n=>y(rR,Object.assign({ref:i=>{const s=n.key;i===null?delete this.notificationRefs[s]:this.notificationRefs[s]=i}},Za(n,["destroy","hide","deactivate"]),{internalKey:n.key,onInternalAfterLeave:this.handleAfterLeave,keepAliveOnHover:n.keepAliveOnHover===void 0?this.keepAliveOnHover:n.keepAliveOnHover})))})):null)}}),lR={name:"Skeleton",common:N,self(e){const{heightSmall:t,heightMedium:o,heightLarge:r,borderRadius:n}=e;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius:n,heightSmall:t,heightMedium:o,heightLarge:r}}},cR=q("a",`
 cursor: pointer;
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 text-decoration-color: var(--n-text-color);
 color: var(--n-text-color);
`),dR=Object.assign({},be.props),uR=ce({name:"A",props:dR,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:o}=Qe(e),r=be("Typography","-a",cR,ch,e,t),n=X(()=>{const{common:{cubicBezierEaseInOut:s},self:{aTextColor:a}}=r.value;return{"--n-text-color":a,"--n-bezier":s}}),i=o?Dt("a",void 0,n,e):void 0;return{mergedClsPrefix:t,cssVars:o?void 0:n,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;return(e=this.onRender)===null||e===void 0||e.call(this),y("a",{class:[`${this.mergedClsPrefix}-a`,this.themeClass],style:this.cssVars},this.$slots)}}),fR=q("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[W("strong",`
 font-weight: var(--n-font-weight-strong);
 `),W("italic",{fontStyle:"italic"}),W("underline",{textDecoration:"underline"}),W("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),pR=Object.assign(Object.assign({},be.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),hR=ce({name:"Text",props:pR,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:o}=Qe(e),r=be("Typography","-text",fR,ch,e,t),n=X(()=>{const{depth:s,type:a}=e,l=a==="default"?s===void 0?"textColor":`textColor${s}Depth`:ee("textColor",a),{common:{fontWeightStrong:c,fontFamilyMono:d,cubicBezierEaseInOut:u},self:{codeTextColor:p,codeBorderRadius:h,codeColor:f,codeBorder:m,[l]:v}}=r.value;return{"--n-bezier":u,"--n-text-color":v,"--n-font-weight-strong":c,"--n-font-famliy-mono":d,"--n-code-border-radius":h,"--n-code-text-color":p,"--n-code-color":f,"--n-code-border":m}}),i=o?Dt("text",X(()=>`${e.type[0]}${e.depth||""}`),n,e):void 0;return{mergedClsPrefix:t,compitableTag:gm(e,["as","tag"]),cssVars:o?void 0:n,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e,t,o;const{mergedClsPrefix:r}=this;(e=this.onRender)===null||e===void 0||e.call(this);const n=[`${r}-text`,this.themeClass,{[`${r}-text--code`]:this.code,[`${r}-text--delete`]:this.delete,[`${r}-text--strong`]:this.strong,[`${r}-text--italic`]:this.italic,[`${r}-text--underline`]:this.underline}],i=(o=(t=this.$slots).default)===null||o===void 0?void 0:o.call(t);return this.code?y("code",{class:n,style:this.cssVars},this.delete?y("del",null,i):i):this.delete?y("del",{class:n,style:this.cssVars},i):y(this.compitableTag||"span",{class:n,style:this.cssVars},i)}}),mR=k([q("watermark-container",`
 position: relative;
 `,[Zn("selectable",`
 user-select: none;
 -webkit-user-select: none;
 `),W("global-rotate",`
 overflow: hidden;
 `),W("fullscreen",`
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 pointer-events: none;
 position: fixed;
 `)]),q("watermark",`
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 pointer-events: none;
 background-repeat: repeat;
 `,[W("fullscreen",`
 position: fixed;
 `),W("global-rotate",`
 position: absolute;
 height: max(284vh, 284vw);
 width: max(284vh, 284vw);
 `)])]);function gR(e){if(!e)return 1;const t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t}const vR=Object.assign(Object.assign({},be.props),{debug:Boolean,cross:Boolean,fullscreen:Boolean,width:{type:Number,default:32},height:{type:Number,default:32},zIndex:{type:Number,default:10},xGap:{type:Number,default:0},yGap:{type:Number,default:0},yOffset:{type:Number,default:0},xOffset:{type:Number,default:0},rotate:{type:Number,default:0},image:String,imageOpacity:{type:Number,default:1},imageHeight:Number,imageWidth:Number,content:String,selectable:{type:Boolean,default:!0},fontSize:{type:Number,default:14},fontFamily:String,fontStyle:{type:String,default:"normal"},fontVariant:{type:String,default:""},fontWeight:{type:Number,default:400},fontColor:{type:String,default:"rgba(128, 128, 128, .3)"},fontStretch:{type:String,default:""},lineHeight:{type:Number,default:14},globalRotate:{type:Number,default:0}}),CR=ce({name:"Watermark",props:vR,setup(e,{slots:t}){const{mergedClsPrefixRef:o}=Qe(e),r=be("Watermark","-watermark",mR,F1,e,o),n=Q(""),i=_o?document.createElement("canvas"):null,s=i?i.getContext("2d"):null,a=Q(!1);return H_(()=>a.value=!0),bi(()=>{if(!i)return;a.value;const l=gR(s),{xGap:c,yGap:d,width:u,height:p,yOffset:h,xOffset:f,rotate:m,image:v,content:C,fontColor:E,fontStyle:R,fontVariant:_,fontStretch:T,fontWeight:w,fontFamily:b,fontSize:x,lineHeight:L,debug:F}=e,z=(c+u)*l,G=(d+p)*l,O=f*l,I=h*l;if(i.width=z,i.height=G,s){s.translate(0,0);const P=u*l,B=p*l;if(F&&(s.strokeStyle="grey",s.strokeRect(0,0,P,B)),s.rotate(m*(Math.PI/180)),v){const M=new Image;M.crossOrigin="anonymous",M.referrerPolicy="no-referrer",M.src=v,M.onload=()=>{s.globalAlpha=e.imageOpacity;const{imageWidth:te,imageHeight:ne}=e;s.drawImage(M,O,I,(e.imageWidth||(ne?M.width*ne/M.height:M.width))*l,(e.imageHeight||(te?M.height*te/M.width:M.height))*l),n.value=i.toDataURL()}}else C&&(F&&(s.strokeStyle="green",s.strokeRect(0,0,P,B)),s.font=`${R} ${_} ${w} ${T} ${x*l}px/${L*l}px ${b||r.value.self.fontFamily}`,s.fillStyle=E,s.fillText(C,O,I+L*l),n.value=i.toDataURL())}else vm("watermark","Canvas is not supported in the browser.")}),()=>{var l;const{globalRotate:c,fullscreen:d,zIndex:u}=e,p=o.value,h=c!==0&&d,f="max(142vh, 142vw)",m=y("div",{class:[`${p}-watermark`,c!==0&&`${p}-watermark--global-rotate`,d&&`${p}-watermark--fullscreen`],style:{transform:c?`translateX(-50%) translateY(-50%) rotate(${c}deg)`:void 0,zIndex:h?void 0:u,backgroundSize:`${e.xGap+e.width}px`,backgroundPosition:c===0?e.cross?`${e.width/2}px ${e.height/2}px, 0 0`:"":e.cross?`calc(${f} + ${e.width/2}px) calc(${f} + ${e.height/2}px), ${f} ${f}`:f,backgroundImage:e.cross?`url(${n.value}), url(${n.value})`:`url(${n.value})`}});return e.fullscreen&&!c?m:y("div",{class:[`${p}-watermark-container`,c!==0&&`${p}-watermark-container--global-rotate`,d&&`${p}-watermark-container--fullscreen`,e.selectable&&`${p}-watermark-container--selectable`],style:{zIndex:h?u:void 0}},(l=t.default)===null||l===void 0?void 0:l.call(t),m)}}}),bR={name:"dark",common:N,Alert:uT,Anchor:CT,AutoComplete:TT,Avatar:gp,AvatarGroup:PT,BackTop:DT,Badge:NT,Breadcrumb:HT,Button:Ke,ButtonGroup:uI,Calendar:qT,Card:yp,Carousel:lA,Cascader:hA,Checkbox:dr,Code:Tp,Collapse:CA,CollapseTransition:SA,ColorPicker:ZT,DataTable:WA,DatePicker:ew,Descriptions:nw,Dialog:Hp,Divider:ww,Drawer:Pw,Dropdown:al,DynamicInput:Dw,DynamicTags:Uw,Element:Ww,Empty:xo,Ellipsis:Lp,Form:Kw,GradientText:Xw,Icon:YA,IconWrapper:Qw,Image:$1,Input:at,InputNumber:pI,LegacyTransfer:V1,Layout:mI,List:CI,LoadingBar:EI,Log:yI,Menu:II,Mention:xI,Message:cI,Modal:mw,Notification:nI,PageHeader:LI,Pagination:Rp,Popconfirm:NI,Popover:To,Popselect:Ap,Progress:oh,Radio:Op,Rate:$I,Result:WI,Row:H1,Scrollbar:Ye,Select:Ip,Skeleton:lR,Slider:YI,Space:Yp,Spin:qI,Statistic:ZI,Steps:o1,Switch:i1,Table:c1,Tabs:p1,Tag:hp,Thing:g1,TimePicker:Np,Timeline:b1,Tooltip:Bi,Transfer:y1,Tree:ah,TreeSelect:A1,Typography:P1,Upload:D1,Watermark:N1},g={MAIN_WINDOW_LOADED:"mainWindowLoaded",DESTROY_STAGE:"destroyStage",UPDATE_EDIT_MODE:"updateEditMode",SET_EDIT_FILE:"setEditFile",SET_EDIT_FILE_STATUS:"setEditFileStatus",ALIGN_GRAPHICS:"alignGraphics",BOOL_OPERATION:"boolOperation",LAYER_OPERATION:"layerOperation",FLIP_OPERATION:"flipOperation",SET_START_LOADING:"setStartLoading",SET_PROCESS_STATUS:"setProcessStatus",SET_PROCESS_VISIBLE:"setProcessVisible",SET_UPLOAD_GCODE_PROGRESS:"setUploadGcodeProgress",SET_CONTINUE_VISIBLE:"setContinueVisible",SET_BEFORE_START_MODAL_VISIBLE:"setBeforeStartModalVisible",SET_CALCULATING_GCODE:"setCalculatingGcode",SET_PROCESS_TOTAL_TIME:"setProcessTotalTime",SET_PROCESS_TIME:"setProcessTime",PROCESSING_STATUS:"processingStatus",PROCESSING_SHOW:"processingShow",DISCONNECT_SHOW:"disconnectShow",TASK_CANCEL_SHOW:"taskCancelShow",SET_PROCESSING_VISIBLE:"set_processing_visible",SET_PROCESSING_REPEAT:"set_processing_repeat",SET_DISPLAY_PANEL_ATTRS:"setDisplayPanelAttrs",UPDATE_DISPLAY_ATTR_VALUE:"updateDisplayAttrValue",ENABLE_DISPLAY_PANEL:"enableDisplayPanel",DISABLE_DISPLAY_PANEL:"disableDisplayPanel",DISPLAY_TOGGLE_LOCK_SCALE:"displayToggleLockScale",RESET_DISPLAY_PANEL_ATTRS:"resetDisplayPanelAttrs",UPDATE_BATCH_CREATE_LINER_ATTRS:"updateBatchCreateLinerAttrs",UPDATE_BATCH_CREATE_RADIAL_ATTRS:"updateBatchCreateRadialAttrs",EDITOR_SETUP:"editorSetup",EDITOR_DESERIALIZE:"editorDeserialize",EDITOR_CANVAS_CREATED:"editorCanvasCreated",EDITOR_ADD_CANVAS:"editorAddCanvas",EDITOR_REMOVE_CANVAS:"editorRemoveCanvas",EDITOR_CHANGE_CANVAS:"editorChangeCanvas",EDITOR_RENAME_CANVAS:"editorRenameCanvas",EDITOR_INSERT_CANVAS:"editorInsertCanvas",EDITOR_COPY:"editorCopy",EDITOR_CUT:"editorCut",EDITOR_UNDO:"editorUndo",EDITOR_REDO:"editorRedo",EDITOR_SELECT_ALL:"editorSelectAll",EDITOR_SET_ZOOM:"editorSetZoom",EDITOR_DELETE_SELECTED:"editorDeleteSelected",EDITOR_INCREASE_SCALED:"editorIncreaseScaled",EDITOR_SET_SCALED_FIT:"editorSetScaledFit",EDITOR_CANVAS_TRANSLATE_SELECTED:"editorCanvasTranslateSelected",EDITOR_CANVAS_BATCH_CREATE_FINISH:"editorCanvasBatchCreateFinish",EDITOR_VALIDATE_SELECTED:"editorValidateSelected",EDITOR_SAVE_BG_IMG:"editorSaveBgImg",EDITOR_SAVE_LOCAL_BG_IMG:"editorSaveLocalBgImg",RESET_CURRENT_STATE:"resetCurrentState",UPDATE_CURRENT_EDITOR_STATE:"updateCurrentEditorState",UPDATE_EDITOR_SELECTED:"updateEditorSelected",UPDATE_INSERT_GRAPHIC_VISIBLE:"updateInsertGraphicVisible",INSERT_GRAPHIC:"insertGraphic",UPDATE_FIT_SIZE_VISIBLE:"updateFitSizeVisible",UPDATE_FIT_SIZE_DATA:"updateFitSizeData",UPDATE_LOSS_FONTS_VISIBLE:"updateLossFontsVisible",UPDATE_LOSS_FONTS_PROCESS_MODE:"updateLossFontsProcessMode",UPDATE_LOSS_FONTS_PROMISES:"updateLossFontsPromises",UPDATE_LOSS_FONTS_USE_LEGACY:"updateLossFontsUseLegacy",UPDATE_BACKGROUND_CONTEXT:"updateBackgroundContext",SWITCH_BACKGROUND_VISIBILITY:"backgroundVisibility",SWITCH_BACKGROUND_CONTEXT:"backgroundContext",UPDATE_OUTLINE_LOADING:"updateOutlineLoading",UPDATE_OUTLINE_VISIBLE:"updateOutlineVisible",CLEAR_OUTLINE:"clearOutline",CANCEL_OUTLINE_GENERAL:"cancelOutlineGeneral",SET_LANG_KEY:"setLangKey",SET_LOG_LEVEL:"setLogLevel",SET_BATCH_CREATE_MODAL_LINER_VISIBLE:"setBatchCreateModalLinerVisible",SET_BATCH_CREATE_MODAL_RADIAL_VISIBLE:"setBatchCreateModalRadialVisible",SET_UPLOAD_GCODE_MODAL_VISIBLE:"setUploadGcodeModalVisible",SET_SUCCESSIVE_VISIBLE:"setSuccessiveVisible",SET_SUCCESSIVE_IMG:"setSuccessiveImg",SET_IMG_OFFSET:"setImgOffset",UPDATE_SUCCESSIVE_STEP:"updateSuccessiveStep",NEXT_SUCCESSIVE_STEP:"nextSuccessiveStep",SAVE_SUCCESSIVE_DATA:"saveSuccessiveData",SUCCESSIVE_COMPLETE:"successiveComplete",PROJECT_UPDATE_NAME:"projectUpdateName",PROJECT_SAVE_CONFIRM:"projectSaveConfirm",PROJECT_SAVE_STATUS:"projectSaveStatus",PROJECT_FILE_PATH:"projectFilePath",PROJECT_ID:"projectID",PROCESS_IMAGE:"processImage",UPDATE_IMAGE_PROCESS_VISIBLE:"updateImageProcessVisible",UPDATE_IMAGE_PROCESS_TOOL:"updateImageProcessTool",SAVE_IMAGE_PROCESS:"saveImageProcess",CANCEL_IMAGE_PROCESS:"cancelImageProcess",SETTING_VISIBLE:"settingVisible",SETTING_UPDATE_UNIT:"settingUpdateUnit",SETTING_SNAPPING:"SETTING_SNAPPING",SETTING_UPDATE_THEME:"settingUpdateTheme",SETTING_UPDATE_STATE:"settingUpdateState",SET_FIRMWARE_TOOL_VISIBLE:"setFirmwareToolVisible",SET_CAMERA_CORRECT_VISIBLE:"setCameraCorrectVisible",MATERIAL_LOADING:"materialLoading",PROJECT_LOADING:"projectLoading",SET_HOTKEY:"setHotkey",SET_RNDIS_VERIFY_STATUS:"setRndisVerifyStatus",SET_CH340_VERIFY_STATUS:"setCh340VerifyStatus",UPDATE_PAGE_NAME:"updatePageName",UPDATE_DETAIL_ID:"updateDetailId",UPDATE_FONT_LIST:"updateFontList",CONNECTOR_VISIBLE:"connectorVisible",CONNECTED_DEVICE:"connectedDevice",ERROR_MODAL_VISIBLE:"errorModalVisible",CONNECT_CONFIRM_VISIBLE:"connectConfirmVisible",CONNECT_DEVICE_DATA:"connectDeviceData",ADD_ERROR_MODAL_LIST:"addErrorModalList",DEL_ERROR_MODAL_LIST:"delErrorModalList",ADD_ERROR_IGNORE_LIST:"addErrorIgnoreList",CLEAR_ERROR_MODAL_LIST:"clearErrorModalList",CLEAR_ERROR_IGNORE_LIST:"clearErrorIgnoreList",DEVICE_SETTING_VISIBLE:"deviceSettingVisible",UPDATE_DEVICE_INFO:"updateDeviceInfo",UPDATE_DEVICE_FIRMWARE_INFO:"updateDeviceFirmwareInfo",UPDATE_ONLINE_MATERIAL_LIST:"updateOnlineMaterialList",UPDATE_CATEGORY_LIST:"updateCategoryList",UPDATE_MATERIAL_FORM_VALUES:"updateMaterialFormValues",UPDATE_MATERIAL_PAGINATION:"updateMaterialPagination",UPDATE_MATERIAL_MODAL_VISIBLE:"updateMaterialModalVisible",UPDATE_LOCAL_MATERIAL_LIST:"updateLocalMaterialList",UPDATE_PROCESS_TYPES:"updateProcessTypes",UPDATE_WIFI_CONFIG_STATE:"updateWifiConfigState",IS_TAKING_PICTURE:"isTakingPicture",UPDATE_TAKING_PICTURE_PROGRESS:"updateTakingPictureProgress",UPDATE_TAKING_PICTURE_STATUS:"updateTakingPictureStatus",UPDATE_FIRMWARE_UPDATING_STATUS:"updateFirmwareUpdateStatus",UPDATE_FRAMING_HISTORY:"updateFramingHistory",MESSAGE_VISIBLE:"messageVisible",PUSH_MESSAGE:"pushMessage",DELETE_MESSAGE:"deleteMessage",TAKING_PICTURE_PROGRESS_MESSAGE:"takingPictureProgressMessage"},S={DRAG_DROP_FILE:"dragDropFile",CHOOSE_IMAGE:"chooseImage",ADD_TEXT_TO_CANVAS:"ADD_TEXT_TO_CANVAS",OPEN_IMAGE:"openImage",RESET_BATCH_CREATE_LINER_ATTRS:"resetBatchCreateLinerAttrs",RESET_BATCH_CREATE_RADIAL_ATTRS:"resetBatchCreateRadialAttrs",UPDATE_LANG_KEY:"UPDATE_LANG_KEY",UPDATE_LOG_LEVEL:"UPDATE_LOG_LEVEL",UPDATE_DISPLAY_ATTRS:"updateDisplayAttrs",LIST_DISPLAY_FONTS:"listDisplayFonts",EDITOR_PASTE:"EDITOR_PASTE",EDITOR_CANVAS_CREATED:"editorCanvasCreated",EDITOR_ON_SELECTED:"editorOnSelected",EDITOR_CANVAS_BATCH_CREATE_FINISH:"EDITOR_CANVAS_BATCH_CREATE_FINISH",EDITOR_CANVAS_BATCH_CREATE:"editorCanvasBatchCreate",EDITOR_CANVAS_DISPLAY_ATTR_UPDATE:"editorCanvasDisplayAttrUpdate",EDITOR_CREATED_NEW_DISPLAYS:"editorCreatedNewDisplays",EDITOR_ADD_CANVAS:"editorAddCanvas",EDITOR_REMOVE_CANVAS:"editorRemoveCanvas",PROJECT_NEW:"projectNew",PROJECT_SAVE:"projectSave",PROJECT_SAVE_AS:"projectSaveAs",PROJECT_OPEN:"projectOpen",PROJECT_OPEN_BY_URL:"projectOpenByUrl",PROJECT_SAVE_CONFIRM:"projectSaveConfirm",OPEN_LOSS_FONTS_MODAL:"openLossFontsModal",CONFIRM_LOSS_FONTS_MODAL:"confirmLossFontsModal",CLOSE_WIN_SAVE_CONFIRM_YES:"closeWinSaveConfirmYes",CLOSE_WIN_SAVE_CONFIRM_NO:"closeWinSaveConfirmNo",CLOSE_WIN_SAVE_CONFIRM_CLOSE:"closeWinSaveConfirmClose",SETTING_UNIT:"settingUnit",SETTING_SNAPPING:"SETTING_SNAPPING",SETTING_CHECK_UPDATE:"settingCheckUpdate",CHECK_CH340:"checkCh340",CHECK_RNDIS:"checkRndis",INSTALL_DRIVER:"installDriver",INIT_EDITOR:"initEditor",RENDER_CANVAS:"renderCanvas",UPDATE_CANVAS_BACK_DROP:"updateCanvasBackdrop",UPDATE_CANVAS_LOCAL_BACK_DROP:"updateCanvasLocalBackdrop",CLEAR_CANVAS_BACK_DROP:"clearCanvasBackdrop",RESIZE_ALL_CANVAS_VIEWPORT:"resizeAllCanvasViewport",EXTRACT_CONTOURS:"extractContours",EXTRACT_ALL_CONTOURS:"extractAllContours",SHAPE_MATCH:"shapeMatch",PORT_LIST:"portList",USB_LIST:"usbList",WIFI_LIST:"wifiList",LOAD_CONNECTED_DEVICE_EXT:"loadConnectedDeviceExt",LOAD_EXT:"loadExt",BEFORE_LOAD_EXT:"beforeLoadExt",LOAD_EXT_BY_IP:"loadExtByIp",UPDATE_FIRMWARE:"updateFirmware",DOWNLOAD_FIRMWARE:"downloadFirmware",CHECK_UPDATE_FIRMWARE:"checkUpdateFirmware",UPDATE_EXT_INFO:"updateExtInfo",TRY_AUTO_CONNECT_DEVICE:"tryAutoConnectDevice",SET_LAST_EXT_DISPLAYS_DATA:"setLastExtDisplaysData",CREATED_DEVICE_DATA:"createdDeviceData",GET_ONLINE_MATERIAL_LIST:"getOnlineMaterialList",GET_MATERIAL_CATEGORY_LIST:"getMaterialCategoryList",GET_UPDATE_MATERIAL:"getUpdateMaterial",UPDATE_LOCAL_MATERIAL:"updateLocalMaterial",SELECT_ONLINE_MATERIAL:"selectOnlineMaterial",SORT_LOCAL_MATERIAL:"sortLocalMaterial",IMPORT_PROJECT_MATERIAL:"importProjectMaterial",GET_WIFI_LIST:"getWifiList",CONFIG_WIFI:"configWifi",CAPTURE:"capture",HANDLE_TAKE_PICTURE:"handleTakePicture",INIT_G_CODE_CONTEXT:"initGCodeContext",IMAGE_CALIBRATION:"imageCalibration",PUSH_DEVICE_ERROR:"pushDeviceError",UPDATE_FRAMING_HISTORY:"updateFramingHistory",REGISTER_PROCESS_EVENT:"registerProcessEvent",CHECK_PROCESS:"checkProcess",CAL_GCODE:"calGcode",START_PROCESS:"startProcess",UPDATE_PROCESS_DATA:"updateProcessData",CALCULATE_GCODE:"calculateGcode",READY_START_PROCESSING:"readyStartProcessing",START_PROCESSING:"startProcessing",PAUSE_PROCESSING:"pauseProcessing",CANCEL_PROCESSING:"cancelProcessing",CONTINUE_PROCESSING:"Processing",EXPORT_GCODE:"exportGcode",ENTRY_WALK_BORDER:"entryWalkBorder",EXIT_WALK_BORDER:"exitWalkBorder",UPLOAD_GCODE:"uploadGcode",REPROCESSING:"reprocessing",WALK_BORDER:"walkBorder",FINISH_PROCESSING:"finishProcessing",CLOSE_PROCESSING:"closeProcessing",SETUP_SUCCESSIVE_PROCESS:"setupSuccessiveProcess",CALCULATE_PASS_THROUGH_GCODE:"calculatePassThroughGcode"},Vo={LANG_KEY:"LANG_KEY",LOG_LEVEL:"LOG_LEVEL",ENABLE_SNAPPING:"ENABLE_SNAPPING"},dO=[{lang:"error",label:"error"},{lang:"warn",label:"warn"},{lang:"info",label:"info"},{lang:"debug",label:"debug"}],ER=ce({__name:"TextAndLink",props:{text:null,link:null},setup(e){const t=e,o=X(()=>{var i,s;const r=(i=t.link)==null?void 0:i.href,n=(s=t.link)==null?void 0:s.onClick;return r?{href:r}:{onClick:n}});return(r,n)=>(No(),Fn(Xe($w),{class:"auto-measure-container"},{default:Yt(()=>[jt(Xe(hR),null,{default:Yt(()=>[Ko(Rl(e.text),1)]),_:1}),jt(Xe(uR),wa({target:"_blank"},{...r.$attrs,...Xe(o)}),{default:Yt(()=>[Ko(Rl(e.link.label),1)]),_:1},16)]),_:1}))}});const SR=(e,t)=>{const o=e.__vccOpts||e;for(const[r,n]of t)o[r]=n;return o},yR=SR(ER,[["__scopeId","data-v-52a2a4cd"]]),_R=ce({__name:"Message",setup(e){const t=nu(),o=J1(),{t:r}=km(),n=i=>{t.commit(g.DELETE_MESSAGE,i)};return Ue(()=>t.state.message.msgKey,i=>{const s=t.state.message.list.get(i);if(s){const{type:a="info",contentI18nKey:l="",options:c={},render:d,contentI18nArgs:u}=s,h={...c,type:a,...d?{render:()=>{const{textI18nKey:f,link:{labelI18nKey:m,onClick:v,href:C}}=d;return y(yR,{text:r(f),link:{label:r(m),href:C,onClick:v}})}}:{},onAfterLeave:()=>{c.onAfterLeave&&c.onAfterLeave(),n(i)}};o.create(r(l,u),h)}}),(i,s)=>(No(),iu("div"))}}),xR=ce({__name:"App",setup(e){const t="rgba(116, 122, 122, 0.2)",r={common:{fontSizeSmall:"12px",lineHeight:"1.5",borderRadius:"4px",primaryColor:"#28BE44",primaryColorHover:"#28BE44",borderColor:"rgba(116, 122, 122, 0.3)"},Button:{colorPrimary:"#00AD21"},Card:{paddingSmall:"8px 16px",paddingMedium:"16px 24px",paddingLarge:"24px 32px",paddingHuge:"28px 40px",borderColor:t},Tabs:{tabGapSmallCard:0,tabPaddingSmallCard:"0 8px",tabFontSizeSmall:12},Progress:{fillColor:"#28BE44"},Input:{paddingTiny:"0 6px",heightTiny:"20px",fontSizeTiny:"11px"},Slider:{handleSize:"12px",railColor:"rgba(116, 122, 122, 0.2)",railColorHover:"rgba(116, 122, 122, 0.3)"},Layout:{headerBorderColor:t,siderBorderColor:t,footerBorderColor:t}},n=nu(),i=X(()=>n.state.settings.version),s=X(()=>n.state.settings.theme===qa.DARK?bR:null),a=Q("");return Cm("WATERMARK",a),(l,c)=>{const d=Mm("router-view");return No(),iu(kt,null,[jt(Xe(_A),{theme:Xe(s),"inline-theme-disabled":!0,"theme-overrides":r},{default:Yt(()=>[jt(Xe(aR),{placement:"bottom-right"},{default:Yt(()=>[jt(Xe(xw),null,{default:Yt(()=>[jt(Xe(X1),{max:10},{default:Yt(()=>[jt(d,null,{default:Yt(({Component:u,route:p})=>[(No(),Fn(Bm,null,[(No(),Fn(Fm(u),{key:p.path}))],1024))]),_:1}),jt(Xe(_R))]),_:1})]),_:1})]),_:1})]),_:1},8,["theme"]),a.value?(No(),Fn(Xe(CR),{key:0,cross:"",fullscreen:"","z-index":9999,content:`V${Xe(i)}_${a.value}`,"font-size":12,"line-height":12,width:300,height:300,"x-offset":12,"y-offset":60,rotate:-15},null,8,["content"])):Nm("",!0)],64)}}});var ao,lo;class Et{static get clipperWorker(){let t=V(this,ao);return t||(t=new jb,ye(this,ao,t)),t}static destroyClipperHelper(){var t;(t=V(this,ao))==null||t.destroy(),ye(this,ao,null)}static get outlineWorker(){let t=V(this,lo);return t||(t=new Jb,ye(this,lo,t)),t}static destroyOutlineHelper(){var t;(t=V(this,lo))==null||t.destroy(),ye(this,lo,null)}}ao=new WeakMap,lo=new WeakMap,pe(Et,ao,void 0),pe(Et,lo,void 0);const pd="center",hd=30;var Me,co,Go;const gl=class{static get id(){return V(this,co)}static set id(t){this.inactiveCanvas(V(this,co)),ye(this,co,t),this.activeCanvas(t)}static get clipboardData(){return V(this,Go)}static set clipboardData(t){ye(this,Go,t)}static get canvas(){return V(this,Me).get(V(this,co))}static get canvasList(){return V(this,Me)}static getCanvas(t){return V(this,Me).get(t)}static add(t,o){let r=o;return r||(r=this.createCanvas()),V(this,Me).set(t,r),r}static delete(t){const o=V(this,Me).get(t);o==null||o.destroy(),V(this,Me).delete(t)}static clear(){V(this,Me).clear()}static get json(){const t=[];return V(this,Me).forEach((o,r)=>{t.push({id:r,displays:o.exportCanvasJSON()})}),t}static createCanvas(){return new Sm({appConfig:{width:800,height:600,backgroundColor:14935268},viewportConfig:{worldWidth:400,worldHeight:300,grid:{lineColor:7633530,lineColor2:7633530,lineAlpha:.12,lineAlpha2:.3}},transformerConfig:{boundingBoxes:"all",handleStyle:{shape:"square",radius:8},wireframeStyle:{color:46336,thickness:1}},cursorConfig:[{name:"pen",url:"images/pen.svg",style:"2 2,auto"},{name:"cutter",url:"images/cutter.svg",style:"5 5,auto"},{name:"magicWand",url:"images/magicWand.svg",style:"6 6,auto"}],imageProcessConfig:{backdrop:"images/alpha-bg.png",cutter:{confirm:{icon:"images/confirm.png",hoverIcon:"images/confirm_hover.png"},cancel:{icon:"images/cancel.png",hoverIcon:"images/cancel_hover.png"}}},shortcutKeyConfig:{multiSelectKey:"Shift"}})}static get size(){return V(this,Me).size}static destroyAll(){V(this,Me).forEach(t=>{t.destroy()}),this.clear(),ye(this,Go,{canvasId:"",data:[]})}static hasChanged(){let t=!1;for(const[,o]of V(this,Me))if(o&&o.currentState.enableUndo){t=!0;break}return t}static deserialize(t){t.forEach(o=>{const{id:r,displays:n}=o,i=this.add(r);Z.exports.isArray(n)&&i.importDisplayJSON(n,{createNewID:!1,needRecord:!1,autoSelected:!1})})}static inactiveCanvas(t){var o;(o=V(this,Me).get(t))==null||o.stop()}static activeCanvas(t){var o;(o=V(this,Me).get(t))==null||o.start()}static async getOutlinePath(t,o,r){var i;if(o!==0){if(t!=null&&t.bitmapData){const{bitmapShot:s}=t.bitmapData,{width:a,canvas:l}=s,c=a/l.width;t.bitmapData.extendPoints=await Et.clipperWorker.scaleOffsetPoints({pointsList:t.bitmapData.pathPointsList,options:{joinType:zf.Round,pointScale:gn,offsetScale:c/gn,offset:o}})}(t==null?void 0:t.vectorData)&&(t==null?void 0:t.vectorData.openPathPointsList.length)>0&&(t.vectorData.shapeExtendPoints=await Et.clipperWorker.scaleOffsetPoints({pointsList:t.vectorData.openPathPointsList,options:{endType:Uf.OpenRound,pointScale:gn,offsetScale:1/gn,offset:o}})),Et.destroyClipperHelper()}return await((i=Et.outlineWorker)==null?void 0:i.genOutline(o,r,t))}static async extractAllContours(){var n;const o=await((n=gl.canvas)==null?void 0:n.getAllOutlineEleInfo(.1));return await this.getOutlinePath(o,.1,{addBitmapInner:!1})}};let j=gl;Me=new WeakMap,co=new WeakMap,Go=new WeakMap,pe(j,Me,new Map),pe(j,co,""),pe(j,Go,{canvasId:"",data:[]});window.MCMG=j;class ro{static get data(){const t=localStorage.getItem(this.KEY);if(!t)return{items:[]};try{return JSON.parse(t)}catch{return{items:[]}}}static add(t,o){const{items:r}=this.data,n=r.findIndex(i=>t.id===i.id);return n<0?r.push(t):Object.assign(r[n],t),localStorage.setItem(this.KEY,JSON.stringify({items:r,identity:t.id})),this.info=o,r}static get latest(){const{items:t,identity:o}=this.data;return t.find(r=>r.id===o)}static set info(t){localStorage.setItem(this.INFO_KEY,JSON.stringify(t))}static get info(){try{const t=localStorage.getItem(this.INFO_KEY);return t?JSON.parse(t):{}}catch{return{}}}}H(ro,"KEY","CONNECTED_DEVICES"),H(ro,"INFO_KEY","LATEST_CONNECTED_DEVICE_INFO");const TR={[Ge.D1Pro]:()=>He(()=>import("../chunk/exts-d1-pro-48384391.js"),["../chunk/exts-d1-pro-48384391.js","../chunk/xcs-canvas-b2d8c2b7.js","../chunk/lib.es-0a44dc39.js","../chunk/light-64dcce40.js","../chunk/xcs-vue-family-a84caca3.js","../chunk/spin-3011d666.js","../chunk/orderprocesslist-915761c3.js"],import.meta.url),[Ge.D1]:()=>He(()=>import("../chunk/index-92eae098.js").then(e=>e.i),["../chunk/index-92eae098.js","../chunk/xcs-canvas-b2d8c2b7.js","../chunk/lib.es-0a44dc39.js","../chunk/light-64dcce40.js","../chunk/xcs-vue-family-a84caca3.js","../chunk/spin-3011d666.js","../chunk/orderprocesslist-915761c3.js"],import.meta.url),[Ge.M1]:()=>He(()=>import("../chunk/exts-m1-c62af059.js"),["../chunk/exts-m1-c62af059.js","../chunk/xcs-canvas-b2d8c2b7.js","../chunk/lib.es-0a44dc39.js","../chunk/light-64dcce40.js","../chunk/xcs-vue-family-a84caca3.js","../chunk/spin-3011d666.js","../chunk/orderprocesslist-915761c3.js","../chunk/image-8721f461.js","../chunk/composables-0714a0f7.js"],import.meta.url),[Ge.P2]:()=>He(()=>import("../chunk/xcs-ext-p2-src-eda9c605.js"),["../chunk/xcs-ext-p2-src-eda9c605.js","../chunk/xcs-canvas-b2d8c2b7.js","../chunk/config-581e8d0b.js","../chunk/light-64dcce40.js","../chunk/xcs-vue-family-a84caca3.js","../chunk/lib.es-0a44dc39.js","../chunk/spin-3011d666.js","../chunk/index-a0f0249c.js","../chunk/image-8721f461.js","../chunk/rotatemultiple-966f7202.js"],import.meta.url),[Ge.F1]:()=>He(()=>import("../chunk/xcs-ext-f1-src-a347c80d.js"),["../chunk/xcs-ext-f1-src-a347c80d.js","../chunk/xcs-canvas-b2d8c2b7.js","../chunk/config-581e8d0b.js","../chunk/light-64dcce40.js","../chunk/xcs-vue-family-a84caca3.js","../chunk/lib.es-0a44dc39.js","../chunk/spin-3011d666.js","../chunk/rotatemultiple-966f7202.js"],import.meta.url),[Ge.P1]:()=>He(()=>import("../chunk/xcs-ext-p1-src-d0a287e1.js"),["../chunk/xcs-ext-p1-src-d0a287e1.js","../chunk/xcs-canvas-b2d8c2b7.js","../chunk/config-581e8d0b.js","../chunk/light-64dcce40.js","../chunk/xcs-vue-family-a84caca3.js","../chunk/lib.es-0a44dc39.js","../chunk/spin-3011d666.js","../chunk/image-8721f461.js"],import.meta.url)};var Rr=(e=>(e.Connected="connected",e.Disconnected="disconnect",e.Error="error",e.ReceiveData="ReceiveData",e.TakePicture="TakePicture",e.StartProcess="StartProcess",e.PauseProcess="PauseProcess",e.StopProcess="StopProcess",e.EndProcess="EndProcess",e.CancelProcess="CancelProcess",e.StartMeasure="StartMeasure",e.EndMeasure="EndMeasure",e))(Rr||{});class Ot{static async load(t,o){let r=this.exts.get(t);try{const n=TR[t];if(n){const{DeviceExt:i,v2:s}=await n();if(s){const a=i(Tc);r=new a(o)}else r=new i;return this.clear(),this.exts.set(t,r),s&&this.$ev.emit(this.EVENTS.CREATED,r),r}return Promise.reject(`can't found '${t}'.`)}catch(n){return Promise.reject(`load ext '${t}' error. ${n}`)}}static clear(){this.exts.forEach((t,o)=>{t.dispose(),this.exts.delete(o)})}static ext(t){return this.exts.get(t)}static hasLoaded(t){return t?this.exts.size>0&&this.exts.has(t):!1}static build(){}static async loadExtFile(t){const o=async i=>{const s=await He(()=>import(`${i}`),[],import.meta.url);if("DeviceExt"in s){const{DeviceExt:a,v2:l}=s;if(l){const c=a(Tc),d=new c;this.exts.set(d.id,d),l&&(this.$ev.emit(this.EVENTS.CREATED,d),d.emit("load"))}}return s};if(Z.exports.isString(t))return o(t);if(t instanceof File&&t.path)return o(t.path);const r=await Ai(t),n=new Function(`${r}`);console.log(n)}}H(Ot,"$ev",new Mt.exports.EventEmitter),H(Ot,"EVENTS",{CREATED:"created"}),H(Ot,"exts",new Map);const dt=new y_;Lr.measureText=dt.getTextGlyphsSync.bind(dt);var AR=typeof WeakMap=="function",md=Object.keys;function li(e,t){return e===t||e!==e&&t!==t}function gd(e){return e.constructor===Object||e.constructor==null}function vd(e){return!!e&&typeof e.then=="function"}function Cd(e){return!!(e&&e.$$typeof)}function wR(){var e=[];return{delete:function(t){for(var o=0;o<e.length;++o)if(e[o][0]===t){e.splice(o,1);return}},get:function(t){for(var o=0;o<e.length;++o)if(e[o][0]===t)return e[o][1]},set:function(t,o){for(var r=0;r<e.length;++r)if(e[r][0]===t){e[r][1]=o;return}e.push([t,o])}}}var IR=function(e){return e?function(){return new WeakMap}:wR}(AR);function hh(e){return function(o){var r=e||o;return function(i,s,a,l,c,d,u){u===void 0&&(u=IR());var p=!!i&&typeof i=="object",h=!!s&&typeof s=="object";if(p!==h)return!1;if(!p&&!h)return r(i,s,u);var f=u.get(i);if(f&&u.get(s))return f===s;u.set(i,s),u.set(s,i);var m=r(i,s,u);return u.delete(i),u.delete(s),m}}}function RR(e,t,o,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!o(e[n],t[n],n,n,e,t,r))return!1;return!0}function PR(e,t,o,r){var n=e.size===t.size;if(n&&e.size){var i={},s=0;e.forEach(function(a,l){if(n){var c=!1,d=0;t.forEach(function(u,p){!c&&!i[d]&&(c=o(l,p,s,d,e,t,r)&&o(a,u,l,p,e,t,r),c&&(i[d]=!0)),d++}),s++,n=c}})}return n}var LR="_owner",OR=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function bd(e,t,o,r){var n=md(e),i=n.length;if(md(t).length!==i)return!1;if(i)for(var s=void 0;i-- >0;){if(s=n[i],s===LR){var a=Cd(e),l=Cd(t);if((a||l)&&a!==l)return!1}if(!OR(t,s)||!o(e[s],t[s],s,s,e,t,r))return!1}return!0}var DR=function(){return/foo/g.flags==="g"?function(t,o){return t.source===o.source&&t.flags===o.flags}:function(t,o){return t.source===o.source&&t.global===o.global&&t.ignoreCase===o.ignoreCase&&t.multiline===o.multiline&&t.unicode===o.unicode&&t.sticky===o.sticky&&t.lastIndex===o.lastIndex}}();function kR(e,t,o,r){var n=e.size===t.size;if(n&&e.size){var i={};e.forEach(function(s,a){if(n){var l=!1,c=0;t.forEach(function(d,u){!l&&!i[c]&&(l=o(s,d,a,u,e,t,r),l&&(i[c]=!0)),c++}),n=l}})}return n}var NR=typeof Map=="function",MR=typeof Set=="function",Ed=Object.prototype.valueOf;function un(e){var t=typeof e=="function"?e(o):function(r,n,i,s,a,l,c){return o(r,n,c)};function o(r,n,i){if(r===n)return!0;if(r&&n&&typeof r=="object"&&typeof n=="object"){if(gd(r)&&gd(n))return bd(r,n,t,i);var s=Array.isArray(r),a=Array.isArray(n);return s||a?s===a&&RR(r,n,t,i):(s=r instanceof Date,a=n instanceof Date,s||a?s===a&&li(r.getTime(),n.getTime()):(s=r instanceof RegExp,a=n instanceof RegExp,s||a?s===a&&DR(r,n):vd(r)||vd(n)?r===n:NR&&(s=r instanceof Map,a=n instanceof Map,s||a)?s===a&&PR(r,n,t,i):MR&&(s=r instanceof Set,a=n instanceof Set,s||a)?s===a&&kR(r,n,t,i):r.valueOf!==Ed||n.valueOf!==Ed?li(r.valueOf(),n.valueOf()):bd(r,n,t,i)))}return r!==r&&n!==n}return o}un();un(function(){return li});un(hh());un(hh(li));var zd,Ud;const FR=(Ud=(zd=window.MeApi)==null?void 0:zd.version)!=null?Ud:"0.0.0.0",BR=["xcs"],HR=["jpg","jpeg","gif","png","bmp","svg","dxf","webp"],dl=".xcs",Xn="Untitled.xcs",$R=(e=0)=>({id:Ls(),title:`{panel}${e+1}`}),zR=()=>sf(HR);var on,uo,jo,rn,Yo;class Be{static get date(){return+new Date}static get created(){var t;return(t=V(this,on))!=null?t:this.date}static set created(t){ye(this,on,t)}static get meta(){return V(this,uo)}static set meta(t){ye(this,uo,t)}static get latestJson(){return V(this,rn)}static set latestJson(t){if(ye(this,rn,t),!V(this,jo))if(t===null)this.meta=null,this.created=null,ye(this,jo,!1);else{const{version:o,created:r,modify:n,ua:i=navigator.userAgent,meta:s}=t;this.created=r;let a=s!=null?s:[];it(a)||(a=[a]),this.meta=a.concat({version:o,date:n!=null?n:this.date,ua:i})}}static get tempFile(){return V(this,Yo)}static set tempFile(t){ye(this,Yo,t)}static cleanTempFile(){ye(this,Yo,void 0)}static toJson(t,o,r){const n=r==null?void 0:r.projectData;if((n==null?void 0:n.data)instanceof Map){const l=lf(),c=[];n.data.forEach(d=>{const u=d.data[d.mode].material,p=l.find(h=>h.id===u);p&&u&&!c.some(h=>h.id===p.id)&&c.push(p)}),n.materialList=c,console.log("\u4FDD\u5B58\u9879\u76EE\u7684\u6750\u6599: ",c)}const i=+new Date,s={canvasId:t,canvas:[],extId:r==null?void 0:r.id,device:n,version:FR,created:this.created,modify:i,ua:navigator.userAgent};V(this,uo)&&(s.meta=V(this,uo));const a=j.json;return o.forEach(({id:l,title:c})=>{const d=a.find(u=>l===u.id);d&&s.canvas.push({id:l,title:c,...d})}),s}static save(t){const{projectData:o,path:r,saveAs:n}=t,i=(s,a)=>a instanceof Map?{dataType:"Map",value:Array.from(a.entries())}:a;return Ws(r||Xn,JSON.stringify(o,i),n).then(s=>(this.latestJson=t.projectData,ye(this,jo,!0),s))}static async open(t){var n;t||(t=await sf(BR));let o="",r="";return st(t)?(o=t,r=oi(t)):(o=(n=t.path)!=null?n:"",r=t.name),{path:o,name:r,file:t}}static async parse(t){try{const o=await xb(t);return this.latestJson=o,o}catch(o){return Promise.reject(o)}}static rename(t,o){const r=Ab(t,o);return r||`${o}${dl}`}static hasChanged(t,o,r){var p;const n=this.latestJson,i=this.toJson(t,o,r),s=i.canvas.length<=1&&ir((p=i.canvas[0])==null?void 0:p.displays);if((Hu(n)||$a(n))&&s)return!1;const a=["version","base64","dPath","needUpdateCanvas","projectID","ua","created","modify","meta"],l=["sourceId","groupTag"],c=(h,f)=>{l.map(m=>{$r(h)&&Jl(h,m)&&delete h[m],$r(f)&&Jl(f,m)&&delete f[m]})};return!un(h=>(f,m,v,C)=>(c(f,m),f===m||v===C&&a.includes(v)?!0:Zl(f)&&Zl(m)?f.toFixed(3)===m.toFixed(3):h(f,m)))(n,i)}static reset(){this.latestJson=null,this.cleanTempFile()}}on=new WeakMap,uo=new WeakMap,jo=new WeakMap,rn=new WeakMap,Yo=new WeakMap,pe(Be,on,void 0),pe(Be,uo,null),pe(Be,jo,!1),pe(Be,rn,void 0),pe(Be,Yo,void 0);function ct(e,t,o){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,o),o):(e[t]=o,o)}var Sd;const zi=typeof window<"u";zi&&((Sd=window==null?void 0:window.navigator)==null?void 0:Sd.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ul(e){var t;const o=Xe(e);return(t=o==null?void 0:o.$el)!=null?t:o}zi&&window.document;zi&&window.navigator;zi&&window.location;const ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fa="__vueuse_ssr_handlers__";ua[fa]=ua[fa]||{};ua[fa];var yd;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(yd||(yd={}));const mh=1/60*1e3,UR=typeof performance<"u"?()=>performance.now():()=>Date.now(),gh=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(UR()),mh);function VR(e){let t=[],o=[],r=0,n=!1,i=!1;const s=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const u=d&&n,p=u?t:o;return c&&s.add(l),p.indexOf(l)===-1&&(p.push(l),u&&n&&(r=t.length)),l},cancel:l=>{const c=o.indexOf(l);c!==-1&&o.splice(c,1),s.delete(l)},process:l=>{if(n){i=!0;return}if(n=!0,[t,o]=[o,t],o.length=0,r=t.length,r)for(let c=0;c<r;c++){const d=t[c];d(l),s.has(d)&&(a.schedule(d),e())}n=!1,i&&(i=!1,a.process(l))}};return a}const WR=40;let pa=!0,Yr=!1,ha=!1;const Nr={delta:0,timestamp:0},fn=["read","update","preRender","render","postRender"],Ui=fn.reduce((e,t)=>(e[t]=VR(()=>Yr=!0),e),{});fn.reduce((e,t)=>{const o=Ui[t];return e[t]=(r,n=!1,i=!1)=>(Yr||jR(),o.schedule(r,n,i)),e},{});fn.reduce((e,t)=>(e[t]=Ui[t].cancel,e),{});fn.reduce((e,t)=>(e[t]=()=>Ui[t].process(Nr),e),{});const GR=e=>Ui[e].process(Nr),vh=e=>{Yr=!1,Nr.delta=pa?mh:Math.max(Math.min(e-Nr.timestamp,WR),1),Nr.timestamp=e,ha=!0,fn.forEach(GR),ha=!1,Yr&&(pa=!1,gh(vh))},jR=()=>{Yr=!0,pa=!0,ha||gh(vh)},Ch=(e,t)=>o=>Math.max(Math.min(o,t),e),Mr=e=>e%1?Number(e.toFixed(5)):e,Kr=/(-)?([\d]*\.?[\d])+/g,ma=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,YR=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function pn(e){return typeof e=="string"}const hn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fr=Object.assign(Object.assign({},hn),{transform:Ch(0,1)}),Dn=Object.assign(Object.assign({},hn),{default:1}),fl=e=>({test:t=>pn(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zt=fl("deg"),Br=fl("%"),re=fl("px"),_d=Object.assign(Object.assign({},Br),{parse:e=>Br.parse(e)/100,transform:e=>Br.transform(e*100)}),pl=(e,t)=>o=>Boolean(pn(o)&&YR.test(o)&&o.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(o,t)),bh=(e,t,o)=>r=>{if(!pn(r))return r;const[n,i,s,a]=r.match(Kr);return{[e]:parseFloat(n),[t]:parseFloat(i),[o]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},kn={test:pl("hsl","hue"),parse:bh("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:o,alpha:r=1})=>"hsla("+Math.round(e)+", "+Br.transform(Mr(t))+", "+Br.transform(Mr(o))+", "+Mr(Fr.transform(r))+")"},KR=Ch(0,255),Cs=Object.assign(Object.assign({},hn),{transform:e=>Math.round(KR(e))}),Pr={test:pl("rgb","red"),parse:bh("red","green","blue"),transform:({red:e,green:t,blue:o,alpha:r=1})=>"rgba("+Cs.transform(e)+", "+Cs.transform(t)+", "+Cs.transform(o)+", "+Mr(Fr.transform(r))+")"};function qR(e){let t="",o="",r="",n="";return e.length>5?(t=e.substr(1,2),o=e.substr(3,2),r=e.substr(5,2),n=e.substr(7,2)):(t=e.substr(1,1),o=e.substr(2,1),r=e.substr(3,1),n=e.substr(4,1),t+=t,o+=o,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(o,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const xd={test:pl("#"),parse:qR,transform:Pr.transform},tt={test:e=>Pr.test(e)||xd.test(e)||kn.test(e),parse:e=>Pr.test(e)?Pr.parse(e):kn.test(e)?kn.parse(e):xd.parse(e),transform:e=>pn(e)?e:e.hasOwnProperty("red")?Pr.transform(e):kn.transform(e)},Eh="${c}",Sh="${n}";function XR(e){var t,o,r,n;return isNaN(e)&&pn(e)&&((o=(t=e.match(Kr))===null||t===void 0?void 0:t.length)!==null&&o!==void 0?o:0)+((n=(r=e.match(ma))===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0)>0}function yh(e){typeof e=="number"&&(e=`${e}`);const t=[];let o=0;const r=e.match(ma);r&&(o=r.length,e=e.replace(ma,Eh),t.push(...r.map(tt.parse)));const n=e.match(Kr);return n&&(e=e.replace(Kr,Sh),t.push(...n.map(hn.parse))),{values:t,numColors:o,tokenised:e}}function _h(e){return yh(e).values}function xh(e){const{values:t,numColors:o,tokenised:r}=yh(e),n=t.length;return i=>{let s=r;for(let a=0;a<n;a++)s=s.replace(a<o?Eh:Sh,a<o?tt.transform(i[a]):Mr(i[a]));return s}}const JR=e=>typeof e=="number"?0:e;function ZR(e){const t=_h(e);return xh(e)(t.map(JR))}const QR={test:XR,parse:_h,createTransformer:xh,getAnimatableNone:ZR},eP=new Set(["brightness","contrast","saturate","opacity"]);function tP(e){let[t,o]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=o.match(Kr)||[];if(!r)return e;const n=o.replace(r,"");let i=eP.has(t)?1:0;return r!==o&&(i*=100),t+"("+i+n+")"}const oP=/([a-z-]*)\(.*?\)/g,Td=Object.assign(Object.assign({},QR),{getAnimatableNone:e=>{const t=e.match(oP);return t?t.map(tP).join(" "):e}}),Vi=e=>t=>1-e(1-t),hl=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rP=e=>t=>Math.pow(t,e),Th=e=>t=>t*t*((e+1)*t-e),nP=e=>{const t=Th(e);return o=>(o*=2)<1?.5*t(o):.5*(2-Math.pow(2,-10*(o-1)))},Ah=1.525,iP=4/11,sP=8/11,aP=9/10;const wh=rP(2),uO=Vi(wh),fO=hl(wh),lP=e=>1-Math.sin(Math.acos(e)),cP=Vi(lP),pO=hl(cP),Ih=Th(Ah),hO=Vi(Ih),mO=hl(Ih),gO=nP(Ah),dP=4356/361,uP=35442/1805,fP=16061/1805,pP=e=>{if(e===1||e===0)return e;const t=e*e;return e<iP?7.5625*t:e<sP?9.075*t-9.9*e+3.4:e<aP?dP*t-uP*e+fP:10.8*e*e-20.52*e+10.72},vO=Vi(pP);const Ad={...hn,transform:Math.round},Rh={color:tt,backgroundColor:tt,outlineColor:tt,fill:tt,stroke:tt,borderColor:tt,borderTopColor:tt,borderRightColor:tt,borderBottomColor:tt,borderLeftColor:tt,borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,size:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,rotate:Zt,rotateX:Zt,rotateY:Zt,rotateZ:Zt,scale:Dn,scaleX:Dn,scaleY:Dn,scaleZ:Dn,skew:Zt,skewX:Zt,skewY:Zt,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:Fr,originX:_d,originY:_d,originZ:re,zIndex:Ad,filter:Td,WebkitFilter:Td,fillOpacity:Fr,strokeOpacity:Fr,numOctaves:Ad},Ph=e=>Rh[e],Lh=(e,t)=>t&&typeof e=="number"&&t.transform?t.transform(e):e;function hP(e={}){const t=tr({...e}),o=Q({});return Ue(t,()=>{const r={};for(const[n,i]of Object.entries(t)){const s=Ph(n),a=Lh(i,s);r[n]=a}o.value=r},{immediate:!0,deep:!0}),{state:t,style:o}}const mP=["","X","Y","Z"],gP=["perspective","translate","scale","rotate","skew"],Oh=["transformPerspective","x","y","z"];gP.forEach(e=>{mP.forEach(t=>{const o=e+t;Oh.push(o)})});const vP=new Set(Oh);function Dh(e){return vP.has(e)}const CP=new Set(["originX","originY","originZ"]);function bP(e){return CP.has(e)}function EP(e,t){let o,r;const{state:n,style:i}=hP(),s=Ue(()=>ul(e),c=>{if(!!c){r=c;for(const d of Object.keys(Rh))c.style[d]===null||c.style[d]===""||Dh(d)||bP(d)||ct(n,d,c.style[d]);o&&Object.entries(o).forEach(([d,u])=>ct(c.style,d,u)),t&&t(n)}},{immediate:!0}),a=Ue(i,c=>{if(!r){o=c;return}for(const d in c)ct(r.style,d,c[d])},{immediate:!0});return{style:n,stop:()=>{r=void 0,o=void 0,s(),a()}}}const SP={x:"translateX",y:"translateY",z:"translateZ"};function yP(e={},t=!0){const o=tr({...e}),r=Q("");return Ue(o,n=>{let i="",s=!1;if(t&&(n.x||n.y||n.z)){const a=[n.x||0,n.y||0,n.z||0].map(re.transform).join(",");i+=`translate3d(${a}) `,s=!0}for(const[a,l]of Object.entries(n)){if(t&&(a==="x"||a==="y"||a==="z"))continue;const c=Ph(a),d=Lh(l,c);i+=`${SP[a]||a}(${d}) `}t&&!s&&(i+="translateZ(0px) "),r.value=i.trim()},{immediate:!0,deep:!0}),{state:o,transform:r}}function _P(e){const t=e.trim().split(/\) |\)/);if(t.length===1)return{};const o=r=>r.endsWith("px")||r.endsWith("deg")?parseFloat(r):isNaN(Number(r))?Number(r):r;return t.reduce((r,n)=>{if(!n)return r;const[i,s]=n.split("("),l=s.split(",").map(d=>o(d.endsWith(")")?d.replace(")",""):d.trim())),c=l.length===1?l[0]:l;return{...r,[i]:c}},{})}function xP(e,t){Object.entries(_P(t)).forEach(([o,r])=>{r=parseFloat(r);const n=["x","y","z"];if(o==="translate3d"){if(r===0){n.forEach(i=>{ct(e,i,0)});return}r.forEach((i,s)=>{ct(e,n[s],i)});return}if(o==="translateX"){ct(e,"x",r);return}if(o==="translateY"){ct(e,"y",r);return}if(o==="translateZ"){ct(e,"z",r);return}ct(e,o,r)})}function TP(e,t){let o,r;const{state:n,transform:i}=yP(),s=Ue(()=>ul(e),c=>{!c||(r=c,c.style.transform&&xP(n,c.style.transform),o&&(c.style.transform=o),t&&t(n))},{immediate:!0}),a=Ue(i,c=>{if(!r){o=c;return}r.style.transform=c},{immediate:!0});return{transform:n,stop:()=>{o=void 0,r=void 0,s(),a()}}}function AP(e,t){const o=tr({}),r=u=>{Object.entries(u).forEach(([p,h])=>{ct(o,p,h)})},{style:n,stop:i}=EP(e,r),{transform:s,stop:a}=TP(e,r),l=Ue(o,u=>{Object.entries(u).forEach(([p,h])=>{const f=Dh(p)?s:n;f[p]&&f[p]===h||ct(f,p,h)})},{immediate:!0,deep:!0}),c=Ue(()=>ul(e),u=>{!u||t&&r(t)},{immediate:!0});return{motionProperties:o,style:n,transform:s,stop:()=>{i(),a(),l(),c()}}}const Nn={liner:{colNum:2,colSpace:1,rowNum:2,rowSpace:1},radial:{x:0,y:0,copies:8,start:0,end:360,step:45,rotateSelf:!0}},wP={state:{liner:{...Nn.liner},radial:{...Nn.radial}},mutations:{[g.UPDATE_BATCH_CREATE_LINER_ATTRS](e,t){e.liner={...e.liner,...t}},[g.UPDATE_BATCH_CREATE_RADIAL_ATTRS](e,t){e.radial={...e.radial,...t}}},actions:{[S.RESET_BATCH_CREATE_LINER_ATTRS]({commit:e,dispatch:t}){const o={...Nn.liner};e(g.UPDATE_BATCH_CREATE_LINER_ATTRS,o),t(S.EDITOR_CANVAS_BATCH_CREATE,{type:Tl.LINER,params:o})},[S.RESET_BATCH_CREATE_RADIAL_ATTRS]({commit:e,dispatch:t,getters:o}){const{x:r,y:n}=o.canvas.selectedGroupBoundCenter,i={...Nn.radial};i.x=r,i.y=n,e(g.UPDATE_BATCH_CREATE_RADIAL_ATTRS,i),t(S.EDITOR_CANVAS_BATCH_CREATE,{type:Tl.RADIAL,params:i})}}};var vo=(e=>(e.DRAG="drag",e.IMAGE_MODE="imageMode",e.FILE_MENU="fileMenu",e.DB_CLICK="dbClick",e.HOTKEY="hotKey",e.SHAPE_LIB="shapeLib",e))(vo||{});const wd=e=>{let t=null;if(e){const{power:o,name:r,snCode:n,type:i,version:s,id:a}=e;t={power:o,connectType:i,extId:a,name:r,snCode:n,version:s}}window.dataLayer.push({deviceInfo:t})},bs=e=>{window.dataLayer.push({event:"connectDevice",content:{result:e.result,extId:e.extId,connectType:e.connectType}})},CO=e=>{const t={1:"hight",2:"low",3:"not_show"};window.dataLayer.push({event:"changeFlameAlarm",content:{extId:e.extId,flameAlarm:t[e.flameAlarm]}})},bO=e=>{const t={0:"red_cross",1:"laser_spot"};window.dataLayer.push({event:"changePositionMode",content:{positionMode:t[e.positionMode]}})},EO=e=>{window.dataLayer.push({event:"setMoveStop",content:{moveStop:e.moveStop}})},SO=e=>{window.dataLayer.push({event:"setLimitSwitch",content:{limitSwitch:e.limitSwitch}})},Id=e=>{window.dataLayer.push({event:"importProject",content:{source:e.source,size:e.size,result:e.result}})},Es=e=>{console.log("data: ",e),window.dataLayer.push({event:"importFile",content:{source:e.source,name:e.name,size:e.size,result:e.result,suffix:e.suffix}})},Rd=e=>{window.dataLayer.push({event:"saveProject",content:{saveAs:e.saveAs,result:e.result,canvasLength:e.canvasListLength}})},yO=e=>{window.dataLayer.push({event:"startProcess",content:{result:e.result,type:e.type,extId:e.extId}})},_O=e=>{window.dataLayer.push({event:"getProcessAttribute",content:{mode:e.mode,cushion:e.cushion,diameter:e.diameter,focalLength:e.focalLength,rotaryAttachmentType:e.rotaryAttachmentType,material:e.material,perimeter:e.perimeter,thickness:e.thickness,size:e.fileSize,printArea:e.printArea,processTypeCount:e.processTypeCount}})},xO=e=>{window.dataLayer.push({event:"getProcessResult",content:{result:e.result,expectProcessTime:e.expectProcessTime,realProcessTime:e.realProcessTime}})},TO=e=>{window.dataLayer.push({event:"exportGCode",content:{result:e.result,type:e.type}})},AO=e=>{window.dataLayer.push({event:"importGCode",content:{result:e.result,type:e.type}})},wO=e=>{window.dataLayer.push({event:"shapeMatch",content:{result:e.result}})},IO=e=>{window.dataLayer.push({event:"generateOutline",content:{offset:e.offset,addBitmapInner:e.addBitmapInner,hasBitmap:e.hasBitmap,hasVector:e.hasVector}})},RO=e=>{window.dataLayer.push({event:"updateFirmware",content:{result:e.result,type:e.type,currentVersion:e.currentVersion,latestVersion:e.latestVersion}})},PO=e=>{window.dataLayer.push({event:"drawBorder",content:{power:e.power,speed:e.speed}})},LO=e=>{window.dataLayer.push({event:"setSnapping",content:{snapping:e.snapping}})},OO=e=>{window.dataLayer.push({event:"setBackgroundVisible",content:{backgroundVisible:e.visible}})},DO=e=>{window.dataLayer.push({event:"getOsDetailInfo",content:{arch:e.arch,cpu:e.cpu,memory:e.memory,maxTextureSize:e.maxTextureSize,isWebGLSupported:e.isWebGLSupported}})},IP=e=>{window.dataLayer.push({event:"booleanOperation",content:{type:e.type,result:e.result}})},RP=e=>{window.dataLayer.push({event:"flipOperation",content:{type:e.type,result:e.result}})},kO=e=>{window.dataLayer.push({event:"updateFont",content:{fontFamily:e.fontFamily,fontSource:e.fontSource}})},ga=25.4,va=72,Ca=e=>new DOMParser().parseFromString(e,"image/svg+xml").documentElement,PP=e=>{const t=e.width.baseVal.valueInSpecifiedUnits,o=e.height.baseVal.valueInSpecifiedUnits,{width:r,height:n}=e.viewBox.baseVal;let i=1,s=1;return e.width.baseVal.unitType!==SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(i=t/(r||t)),e.height.baseVal.unitType!==SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(s=o/(n||o)),{scaleX:i,scaleY:s}},kh=e=>{if(!(e instanceof SVGSVGElement))return;e.style.visibility="hidden",document.body.appendChild(e);const{width:t,height:o}=e.getBBox(),r=document.createElementNS("http://www.w3.org/2000/svg","rect"),n=(a,l,c)=>{let d=0;return r[a].baseVal.newValueSpecifiedUnits(l,c),l===SVGLength.SVG_LENGTHTYPE_PX?d=r[a].baseVal.valueInSpecifiedUnits/(va/ga):(r[a].baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_MM),d=r[a].baseVal.valueInSpecifiedUnits),d},i=[SVGLength.SVG_LENGTHTYPE_PERCENTAGE,SVGLength.SVG_LENGTHTYPE_NUMBER,SVGLength.SVG_LENGTHTYPE_EMS,SVGLength.SVG_LENGTHTYPE_EXS];let s=e.width.baseVal.unitType;return s=i.includes(s)?SVGLength.SVG_LENGTHTYPE_PX:s,document.body.removeChild(e),{width:n("width",s,t),height:n("height",s,o)}},LP=async e=>{const t=await Ai(e),o=Ca(t);if(o instanceof SVGSVGElement){const{width:r=0,height:n=0}=kh(o)||{},{scaleX:i}=PP(o);return{source:o,width:r*i,height:n*i}}},OP=async e=>{const t=await Ai(e),o=new Kb,r=await o.preprocess(t);o.destroy();const n=Ca(r.res);if(n instanceof SVGSVGElement){const{width:i=0,height:s=0}=kh(Ca(r.svg))||{};return{source:n,width:i,height:s}}},Wt=async(e,t=!0)=>{var a,l;let o=e;e instanceof File&&e.path&&(o=e.path);let r=va,n,i,s;try{if(((a=window.MeApi)==null?void 0:a.imageOptimize)&&Z.exports.isString(o)&&t){const{image:u,meta:p}=await((l=window.MeApi)==null?void 0:l.imageOptimize(o)),h=new Blob([u]);n=await sc(h),r=p.density||va,i=p.width,s=p.height}else n=await sc(e),i=n.width,s=n.height;const c=i/r*ga,d=s/r*ga;return{source:n,width:c,height:d}}catch(c){console.log(c)}},Pd={svg:{name:"svg",loader:LP},dxf:{name:"svg",loader:OP},png:{name:"bitmap",loader:Wt},jpg:{name:"bitmap",loader:Wt},jpeg:{name:"bitmap",loader:Wt},tiff:{name:"bitmap",loader:Wt},ico:{name:"bitmap",loader:Wt,shouldOptimize:!1},webp:{name:"bitmap",loader:Wt,shouldOptimize:!1},bmp:{name:"bitmap",loader:Wt,shouldOptimize:!1},gif:{name:"bitmap",loader:Wt,shouldOptimize:!1}},DP=async e=>{const t=Z.exports.isString(e)?e:e.name,r=Gs(t).replace(".","").toLowerCase();if(r in Pd){const{name:n,loader:i,shouldOptimize:s}=Pd[r],a=await i(e,s);return{name:n,data:a}}};var qr=(e=>(e.AppVar="mockAppVersion",e.DeviceId="mockUpdateDeviceId",e.FirmwareVer="mockFirmwareVersion",e))(qr||{});const ci=(e,t)=>{const o=localStorage.getItem(e);return o||t||""},kP="https://msservice.makeblock.com/api/v1/package/version/latest",ba=e=>{var t;if(!(!Z.exports.isString(e)||Z.exports.isEmpty(e)))return(t=e.match(/\d+/g))==null?void 0:t.slice(0,4).map((o,r)=>Number(r===3?o.toString().substring(0,2):o))},Ld=(e,t)=>{const o=ba(e);if(!o)return!1;const r=ba(t);if(!r)return!1;const[n,i,s,a]=o,[l,c,d,u]=r;return l>n||l===n&&c>i||l===n&&c===i&&d>s||l===n&&c===i&&d===s&&u>a},Nh=async(e,t,o="",r,n=1e3)=>{try{const i=ba(e);if(Z.exports.isUndefined(i))return Promise.reject(`[xcs error] can't parse version '${e}'`);const s=i==null?void 0:i.join("."),a={...t,contentVersion:s},l=ci(qr.DeviceId);l&&(a.deviceId=l);const c={method:"post",headers:{"content-type":"application/json;charset=UTF-8"},body:JSON.stringify(a)};n>0&&await ti(n);const d=await fetch(kP,c).then(C=>C.json()),{code:u,data:p}=d;if(u!==0)return Promise.reject(new Error(`[xcs error] request error, error code: '${u}'.`));const{version:h="",advice:f,extra:m={}}=p||{},v=Ld(e,h)||Z.exports.isFunction(r)&&r(m);if(v&&!Z.exports.isEmpty(p==null?void 0:p.contents)){let C=!1;const{minAppVersion:E,...R}=m;E&&(C=Ld(o,E));const _=p.contents.map(T=>T.url);return{shouldUpdate:v,latestVersion:h,downloadUrl:_,subVersions:R,changeLog:p.description,forceUpdate:f===1,appVersionLow:C}}return null}catch(i){return Promise.reject(i)}},NP={state:{extId:"",visible:!1,identify:"",info:ro.info,connected:!1,wifiConnect:!1,connectDeviceData:void 0,connectConfirmVisible:!1,deviceSettingVisible:!1,takingPicture:!1,takingPictureStatus:Gt.unknown,takingPictureProgress:0,takingPictureProgressMsg:"",firmwareUpdating:!1},getters:{isEmptyDevice(e){return Z.exports.isEmpty(e.extId)||!Ot.hasLoaded(e.extId)},ext(e){const{extId:t}=e;return t?Ot.ext(t):null},redLight(e){const{info:t}=e;return t&&t.power===2},isTakePictureSuccess(e){return e.takingPictureStatus===Gt.success}},mutations:{[g.CONNECTED_DEVICE](e,t){t.extId&&localStorage.setItem("EXT_ID",t.extId),Object.assign(e,t)},[g.CONNECTOR_VISIBLE](e,t){if(t===!1){const{identify:o}=e;zt.closeConnect(o)}e.visible=t},[g.UPDATE_DEVICE_INFO](e,t){e.info=Object.assign(e.info,t),ro.info=e.info},[g.DEVICE_SETTING_VISIBLE](e,t){e.deviceSettingVisible=t},[g.CONNECT_CONFIRM_VISIBLE](e,t){e.connectConfirmVisible=t,t===!1&&(e.connectDeviceData=void 0)},[g.CONNECT_DEVICE_DATA](e,t){e.connectDeviceData=t},[g.IS_TAKING_PICTURE](e,t){e.takingPicture=t},[g.UPDATE_TAKING_PICTURE_PROGRESS](e,t){e.takingPictureProgress=t},[g.TAKING_PICTURE_PROGRESS_MESSAGE](e,t){e.takingPictureProgressMsg=t},[g.UPDATE_TAKING_PICTURE_STATUS](e,t){e.takingPictureStatus=t},[g.UPDATE_FIRMWARE_UPDATING_STATUS](e,t){e.firmwareUpdating=t},[g.UPDATE_DEVICE_FIRMWARE_INFO](e,t){var o,r;e.deviceFirmware?Object.assign(e.deviceFirmware,t):e.deviceFirmware=t,e.firmwareUpdating=(r=(o=e.deviceFirmware)==null?void 0:o.show)!=null?r:!1}},actions:{[S.PORT_LIST](){return zt.ports()},[S.USB_LIST]({},e){return zt.usbList(e)},[S.WIFI_LIST]({},e){return zt.wifiList(e)},async[S.BEFORE_LOAD_EXT]({commit:e,dispatch:t,state:o},r){zt.stopWifiList();const n=o.extId&&o.extId!==r.product;return n?(e(g.CONNECT_CONFIRM_VISIBLE,!0),e(g.CONNECT_DEVICE_DATA,r)):await t(S.LOAD_CONNECTED_DEVICE_EXT,r),n},async[S.LOAD_CONNECTED_DEVICE_EXT]({dispatch:e,commit:t,state:o},r){var l,c;if(Z.exports.isEmpty(r))return;const{connected:n,identify:i}=o;if(r.id===i&&n===!0){t(g.CONNECTOR_VISIBLE,!1);return}const s=await e(S.LOAD_EXT,{extId:r.product,needSetLastExtDisplaysData:!0}),a=zt.getDevice(r.id);if(s&&a)try{const d=(l=await s.init(a,r.type))!=null?l:{};Z.exports.isFunction(a.setup)&&await a.setup((c=s.useSocket)!=null?c:!0);const u={...r,...s.info,...d.info,id:s.id};t(g.CONNECTED_DEVICE,{info:u,extId:s.id,identify:r.id,wifiConnect:r.type===ze.WIFI,redLight:u.power===2,connected:!0}),t(g.CONNECTOR_VISIBLE,!1),ro.add(r,u),wd(u),bs({result:"success",extId:s.id,connectType:r.type})}catch(d){return console.error(d),bs({result:"fail",extId:s.id,connectType:r.type}),Promise.reject(d)}else return bs({result:"fail",extId:s.id,connectType:r.type}),Promise.reject("device is not connected, ext is not define.")},async[S.LOAD_EXT]({commit:e,dispatch:t,state:o,getters:r,rootState:n},{extId:i,needSetLastExtDisplaysData:s}){var p;const{ext:a}=r,l=a==null?void 0:a.id,c=(p=a==null?void 0:a.projectData)==null?void 0:p.data,d=n.settings.version,u=await Ot.load(i,{xcsVersion:d});if(u){u.on(Rr.Connected,E=>{t(S.CHECK_UPDATE_FIRMWARE,{ext:E}),e(g.CLEAR_ERROR_IGNORE_LIST)}),u.on(Rr.Disconnected,E=>{o.identify===E&&(e(g.CONNECTED_DEVICE,{info:o.info,deviceFirmware:o.deviceFirmware,wifiConfigVisible:!1,deviceSettingVisible:!1,connected:!1}),wd({}))}),u.on(Rr.Error,E=>{t(S.PUSH_DEVICE_ERROR,E)}),u.on(Rr.TakePicture,()=>{o.takingPicture||t(S.HANDLE_TAKE_PICTURE)});const{currentId:h}=n.editor;u.canvasId=h;const{id:f,info:m}=u,{info:v}=ro,C={id:f,...m};return v.id===f&&Object.assign(C,v),e(g.CONNECTED_DEVICE,{extId:null}),e(g.CONNECTED_DEVICE,{extId:f,info:C,deviceFirmware:null,connected:!1}),l===f?u!=null&&u.v2?u.deviceData.onImportData(c):u.projectData=c:s&&await t(S.SET_LAST_EXT_DISPLAYS_DATA,{ext:u,processData:c}),u}return null},async[S.SET_LAST_EXT_DISPLAYS_DATA]({rootGetters:e,dispatch:t},{ext:o,processData:r}){var i;const n=[];if(r)r.forEach((s,a)=>{const l=[];s.displays.forEach(({type:c,processingType:d},u)=>{l.push({id:u,type:c,processingType:d})}),n.push({id:a,displays:l})});else{const{canvasList:s}=e;s.forEach((a,l)=>{const c=[];a.exportCanvasJSON().forEach(({type:u,isFill:p,id:h})=>{c.push({id:h,type:u,isFill:p})}),n.push({id:l,displays:c})})}o!=null&&o.v2?(i=o==null?void 0:o.deviceData)==null||i.created({canvasList:n,defaultMaterial:af}):Jo(()=>{o.setLastExtDisplaysData(n),t(S.RESIZE_ALL_CANVAS_VIEWPORT)})},async[S.LOAD_EXT_BY_IP]({dispatch:e},{ip:t,type:o}){const r=await zt.ipDirectly(t,o);return r?e(S.BEFORE_LOAD_EXT,r):Promise.reject(`device not found. ip: ${t}, type: ${o}.`)},async[S.CHECK_UPDATE_FIRMWARE]({getters:e,rootState:t,commit:o},{ext:r,manualCheckUpdate:n=!1}={}){if(r=r||e.ext,!r||r&&!r.connected)return Promise.reject(new Error("ext is not load or ext device is disconnected"));const{contentId:i,checkFirmwareVersion:s,info:a,deviceInfo:l={}}=r,{settings:c}=t,d={domain:"xcs",region:"en",contentId:i},u=ci(qr.FirmwareVer,l.version||a.version),p=Z.exports.isFunction(s)&&s.bind(r),h=ci(qr.AppVar,c.version),f=await Nh(u||"",d,h,p);return f?(o(g.UPDATE_DEVICE_FIRMWARE_INFO,{manualCheckUpdate:n,show:!0,...f}),!0):!1},async[S.UPDATE_FIRMWARE]({state:e,getters:t,commit:o},r){const{wifiConnect:n,info:i,deviceFirmware:s}=e,{ext:a}=t,l={...r,port:i==null?void 0:i.port,wifiConnect:n,subVersions:s==null?void 0:s.subVersions};await a.updateFirmware(l);const{version:c}=await a.apis.info();c&&o(g.CONNECTED_DEVICE,{info:{...e.info,version:c}})},[S.UPDATE_EXT_INFO]({commit:e,getters:t},o){const r=t.ext;e(g.UPDATE_DEVICE_INFO,o),Z.exports.isFunction(r.setInfo)&&r.setInfo(o)},[S.INIT_G_CODE_CONTEXT]({getters:e,rootState:t,rootGetters:o}){const{ext:r}=e,{canvas:n}=o,{editor:{currentId:i}}=t;let s={};if(n){const l=n.getCanvasData(),c=n.centralAxisPosition;s={canvasData:l,centralAxisX:c}}const a=r.getProcessingData(i);r.gcodeContext.init(s,a,r.info)},async[S.IMAGE_CALIBRATION]({getters:e,dispatch:t,rootState:o}){try{const{ext:r}=e,{editor:{currentId:n}}=o,{mode:i}=r.getProcessingData(n),{angle:s,align:a}=r.getDeviceModeData(i),l={angle:s,align:a},c=await r.correctPicture(n);t(S.UPDATE_CANVAS_BACK_DROP,{option:l,img:c})}catch(r){console.error(r)}},async[S.HANDLE_TAKE_PICTURE]({commit:e,dispatch:t,getters:o,rootState:r}){const{ext:n}=o,{editor:{currentId:i}}=r,s=n.id;try{e(g.UPDATE_TAKING_PICTURE_STATUS,Gt.unknown),e(g.IS_TAKING_PICTURE,!0),e(g.UPDATE_TAKING_PICTURE_PROGRESS,0);const a=await n.takePicture({currentId:i,onProgress(l){e(g.UPDATE_TAKING_PICTURE_PROGRESS,l)}});if(console.log(["=> \u6821\u51C6\u540E\u7684\u56FE\u7247",a]),n.v2)t(S.UPDATE_CANVAS_BACK_DROP,{img:a});else{const{mode:l}=n.getProcessingData(i),{angle:c,align:d}=n.getDeviceModeData(l),u={angle:c,align:d};t(S.UPDATE_CANVAS_BACK_DROP,{option:u,img:a})}e(g.UPDATE_TAKING_PICTURE_STATUS,Gt.success)}catch(a){let l=Gt.fail;(s!==o.ext.id||a&&a.message===Gt.interrupt)&&(l=Gt.interrupt),e(g.UPDATE_TAKING_PICTURE_STATUS,l)}finally{e(g.IS_TAKING_PICTURE,!1)}},async[S.TRY_AUTO_CONNECT_DEVICE]({state:e,getters:t,dispatch:o,rootState:r}){const{projectLoading:n,settings:i}=r,{connected:s,visible:a,firmwareUpdating:l}=e,{ext:c}=t,d=ro.latest;if((()=>!(n||s||a||l||!d||d&&c&&(c==null?void 0:c.id)!==(d==null?void 0:d.product)||i.firmwareToolVisible))()&&d)try{if(console.debug(["=> try auto connect",s,d,c.id]),(d==null?void 0:d.type)===ze.SERIAL){const h=await zt.serialDirectly(d.id);Object.assign(d,h),d.version&&await o(S.BEFORE_LOAD_EXT,d)}else await o(S.LOAD_EXT_BY_IP,{ip:d.id,type:d.type})}catch(h){console.error("[ACTION.TRY_AUTO_CONNECT_DEVICE]",h)}setTimeout(()=>{o(S.TRY_AUTO_CONNECT_DEVICE)},5e3)}}};var Hr=(e=>(e.INIT="init",e.PRINT="print",e.PREVIEW="preview",e.BEFORE_START="beforeStart",e.PROCESSING="processing",e.PAUSE="pause",e.DONE="done",e.WIFI_SENDING="wifiSending",e.WIFI_SEND_DONE="wifiSendDone",e))(Hr||{}),MP=(e=>(e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom",e.CENTER="center",e))(MP||{}),FP=(e=>(e.ON="on",e.OFF="off",e))(FP||{}),BP=(e=>(e.MOVE_UP="moveUp",e.MOVE_DOWN="moveDown",e.MOVE_LEFT="moveLeft",e.MOVE_RIGHT="moveRight",e.MOVE_CENTER="moveCenter",e.WALK_BORDER="walkBorder",e.START_PRINT="startPrint",e))(BP||{});const HP={state:{visible:!1,errorModalList:[],errorIgnoreList:[]},mutations:{[g.ERROR_MODAL_VISIBLE](e,t){e.visible=t},[g.ADD_ERROR_MODAL_LIST](e,t){const o=e.errorModalList.slice(0);o.some(n=>n.code===t.code)||(o.push(t),e.errorModalList=o)},[g.DEL_ERROR_MODAL_LIST](e){if(e.errorModalList.length>0){const t=e.errorModalList.slice(1);e.errorModalList=t}},[g.ADD_ERROR_IGNORE_LIST](e,t){const o=e.errorIgnoreList.slice(0);!o.includes(t)&&!Z.exports.isEmpty(t)&&(o.push(t),e.errorIgnoreList=o)},[g.CLEAR_ERROR_MODAL_LIST](e){e.errorModalList=[]},[g.CLEAR_ERROR_IGNORE_LIST](e){e.errorIgnoreList=[]}},actions:{[S.PUSH_DEVICE_ERROR]({state:e,commit:t},o){const{code:r=""}=o,{errorIgnoreList:n}=e;if(!Z.exports.isEmpty(r)){if(n.includes(r)){t(g.PROCESSING_SHOW,!1),t(g.PROCESSING_STATUS,Hr.PREVIEW);return}t(g.ADD_ERROR_MODAL_LIST,o),t(g.ERROR_MODAL_VISIBLE,!0)}}}},Od=()=>({id:"",x:null,y:null,width:null,height:null,angle:null,fill:!1,type:"",lockRatio:!1,filterList:[],sharpness:50,grayValue:[0,255],style:{}}),$P={state:{disabled:!0,lockScale:!1,attrs:Od(),fonts:[],fontLoaded:!1},getters:{showTextAttrsPanel(e){return e.attrs.type===zr.TEXT&&!e.disabled},showBitmapAttrsPanel(e){return e.attrs.type===zr.BITMAP&&!e.disabled}},mutations:{[g.SET_DISPLAY_PANEL_ATTRS](e,t){for(const o in t){const r=t[o];Z.exports.isPlainObject(r)&&Z.exports.has(e.attrs,o)?Object.assign(e.attrs[o],r):e.attrs[o]=r}},[g.UPDATE_DISPLAY_ATTR_VALUE](e,t){const{key:o,value:r}=t;e.attrs&&(Z.exports.isPlainObject(r)&&Z.exports.has(e.attrs,o)?Object.assign(e.attrs[o],r):e.attrs[o]=r)},[g.ENABLE_DISPLAY_PANEL](e){e.disabled=!1},[g.DISABLE_DISPLAY_PANEL](e){e.disabled=!0},[g.RESET_DISPLAY_PANEL_ATTRS](e){e.disabled=!0,Object.assign(e.attrs,Od())},[g.UPDATE_FONT_LIST](e,t){e.fonts=t,e.fontLoaded||(e.fontLoaded=!0)}},actions:{[S.UPDATE_DISPLAY_ATTRS]({commit:e},t){e(g.SET_DISPLAY_PANEL_ATTRS,t)},async[S.LIST_DISPLAY_FONTS]({commit:e}){const t=await dt.getGroupedFontList(),o=zP(t);return e(g.UPDATE_FONT_LIST,o),o}}};function zP(e){const t=[];for(const{key:o,fonts:r}of Object.values(e)){const n=UP(r),i={key:o,children:n};t.push(i)}return t}function UP(e){return Object.entries(e).reduce((o,[r,n])=>{const i=lc(n.names);if(!cc(i))return o;const s=Object.entries(n.subFontFamilys).reduce((l,[c,d])=>{const u=lc(d.names);return cc(u)&&l.push({label:u,value:c,...d}),l},[]),a={label:i,value:VP({fontFamily:r,fontSource:n.source}),...n,subFontFamilys:s};return o.push(a),o},[])}function VP(e){var r;return dt.getFamilyItem(e)?JSON.stringify(e):(r=e.fontFamily)!=null?r:""}function NO(e){let t={fontFamily:"",fontSource:""};try{e&&(t=JSON.parse(e))}catch{}return t}const Mh=()=>({scaled:1,enableCombine:!1,hasBackground:!1,enableUndo:!1,enableRedo:!1,isGroup:!1}),Dd=()=>({opMode:It.SELECT,currentId:"",canvasList:[],selected:{num:0,data:[]},insertGraphicVisible:!1,imageProcessVisible:!1,fitSizeVisible:!1,fitSizeData:null,lossFontsVisible:!1,lossFonts:[],lossFontsProcessMode:Xa.REPLACE_FONT,lossFontsPromises:[],lossFontsUseLegacy:!1,isClipboardEmpty:!1,currentState:Mh(),backgroundContext:Fo.HIDE,backgroundVisible:!0,outlineLoading:!1,outlineVisible:!1,backgroundImg:null,localBgImg:null}),kd=()=>({angle:0,align:ym.TOP_LEFT,width:400,height:300}),WP={state:Dd(),getters:{canvas(){return j.canvas},canvasList(){return j.canvasList},opMode(e){return e.opMode},backgroundEnabled(e){return e.currentState.hasBackground&&e.backgroundVisible}},mutations:{[g.RESET_CURRENT_STATE](e){e.selected={num:0,data:[]},e.insertGraphicVisible=!1,e.imageProcessVisible=!1,e.fitSizeVisible=!1,e.fitSizeData=null,e.isClipboardEmpty=j.clipboardData.data.length>0,e.currentState=Mh()},[g.EDITOR_SETUP](e){j.destroyAll(),Object.assign(e,Dd())},[g.EDITOR_DESERIALIZE](e,t){j.deserialize(t),e.canvasList=t.map(({id:o,title:r})=>({id:o,title:r}))},[g.EDITOR_ADD_CANVAS](e,t){var r;const o=$R(j.size);if(j.add(o.id),t){const n=e.canvasList.findIndex(i=>i.id===t);e.canvasList.splice(n,0,o)}else e.canvasList=[...e.canvasList,o];e.currentId=o.id,j.id=o.id,(r=j.canvas)==null||r.updateEditMode(e.opMode)},[g.EDITOR_REMOVE_CANVAS](e,t){const o=e.canvasList.findIndex(r=>r.id===t);if(o>=0&&(e.canvasList.splice(o,1),j.delete(t),t===e.currentId)){const r=Math.max(o-1,0),{id:n=""}=e.canvasList[r]||{};e.currentId=n,j.id=n}},[g.EDITOR_CHANGE_CANVAS](e,t){var o;e.currentId=t,j.id=t,(o=j.canvas)==null||o.updateEditMode(e.opMode)},[g.UPDATE_EDIT_MODE](e,t){var o;t!==e.opMode&&((o=j.canvas)==null||o.updateEditMode(t)),e.opMode=t},[g.EDITOR_RENAME_CANVAS](e,t){const{id:o,name:r}=t,n=Z.exports.find(e.canvasList,{id:o});n&&(n.title=r)},[g.EDITOR_COPY](e){var o;const t=(o=j.canvas)==null?void 0:o.exportSelectedJSON({texture:!0});t&&(e.isClipboardEmpty=t.length>0,j.clipboardData={canvasId:j.id,data:t})},[g.EDITOR_CUT](e){const t=j.canvas;t&&(j.clipboardData={canvasId:j.id,data:t.exportSelectedJSON({texture:!0})||[]},e.isClipboardEmpty=j.clipboardData.data.length>0,t.removeSelected())},[g.EDITOR_UNDO](){var e;(e=j.canvas)==null||e.undo()},[g.EDITOR_REDO](){var e;(e=j.canvas)==null||e.redo()},[g.ALIGN_GRAPHICS](e,t){var o;(o=j.canvas)==null||o.align(t)},async[g.BOOL_OPERATION](e,t){var n,i;const o=(n=j.canvas)==null?void 0:n.getBoolEleInfo(t),r=await Et.clipperWorker.boolCalculate({type:t,info:o});Et.destroyClipperHelper(),IP({result:r?"success":"fail",type:t}),(i=j.canvas)==null||i.drawBoolResult(t,r)},[g.LAYER_OPERATION](e,t){var o;(o=j.canvas)==null||o.changeSelectedLayer(t)},[g.FLIP_OPERATION](e,t){var o;RP({result:"success",type:t}),(o=j.canvas)==null||o.flipSelected({[t]:!0})},[g.UPDATE_EDITOR_SELECTED](e,t){Object.assign(e.selected,t)},[g.EDITOR_SELECT_ALL](){var e;(e=j.canvas)==null||e.selectAll()},[g.EDITOR_CANVAS_TRANSLATE_SELECTED](e,t){var o;(o=j.canvas)==null||o.translateSelected(t)},[g.UPDATE_INSERT_GRAPHIC_VISIBLE](e,t){e.insertGraphicVisible=t},[g.EDITOR_SET_ZOOM](e,t){var o;(o=j.canvas)==null||o.setZoom(t)},[g.EDITOR_SET_SCALED_FIT](){const e=j.canvas;e&&e.setViewportToFit()},[g.EDITOR_INCREASE_SCALED](e,t){const o=j.canvas;if(o){const r=o.viewportScaled;o.setZoom(r+(t?.25:-.25))}},[g.EDITOR_DELETE_SELECTED](){var e;(e=j.canvas)==null||e.removeSelected()},[g.PROCESS_IMAGE](e,t=!1){var o;(o=j.canvas)==null||o.processImage(t)},[g.UPDATE_IMAGE_PROCESS_VISIBLE](e,t){e.imageProcessVisible=t},[g.SAVE_IMAGE_PROCESS](e){var t;(t=j.canvas)==null||t.saveImageProcess(),e.imageProcessVisible=!1},[g.CANCEL_IMAGE_PROCESS](e){var t;(t=j.canvas)==null||t.closeImageProcess(),e.imageProcessVisible=!1},[g.UPDATE_IMAGE_PROCESS_TOOL](e,t){var n;const{tool:o,options:r}=t;(n=j.canvas)==null||n.updateImageProcessTool(o,r)},[g.UPDATE_CURRENT_EDITOR_STATE](e,t){Object.assign(e.currentState,t)},[g.UPDATE_FIT_SIZE_VISIBLE](e,t){e.fitSizeVisible=t},[g.UPDATE_FIT_SIZE_DATA](e,t){e.fitSizeData=t},[g.UPDATE_LOSS_FONTS_VISIBLE](e,t){const{visible:o,lossFonts:r,useLegacy:n}=t;r&&(e.lossFonts=r),e.lossFontsVisible=o,e.lossFontsUseLegacy=n},[g.UPDATE_LOSS_FONTS_PROCESS_MODE](e,t){e.lossFontsProcessMode=t},[g.UPDATE_LOSS_FONTS_PROMISES](e,t){e.lossFontsPromises=t},[g.UPDATE_LOSS_FONTS_USE_LEGACY](e,t){e.lossFontsUseLegacy=t},[g.UPDATE_BACKGROUND_CONTEXT](e){var o;const t=(o=j.canvas)==null?void 0:o.backgroundVisible();e.backgroundVisible=Boolean(t),t?e.backgroundContext=Fo.HIDE:e.backgroundContext=Fo.SHOW},[g.SWITCH_BACKGROUND_VISIBILITY](e){var o,r;e.backgroundVisible?((o=j.canvas)==null||o.hideBackground(),e.backgroundContext=Fo.SHOW,e.backgroundVisible=!1):((r=j.canvas)==null||r.showBackground(),e.backgroundContext=Fo.HIDE,e.backgroundVisible=!0)},[g.CLEAR_OUTLINE](e,t=!0){var o;(o=j.canvas)==null||o.clearOutline(t)},[g.UPDATE_OUTLINE_LOADING](e,t){e.outlineLoading=t},[g.UPDATE_OUTLINE_VISIBLE](e,t){e.outlineVisible=t},[g.CANCEL_OUTLINE_GENERAL](){Et.destroyClipperHelper(),Et.destroyOutlineHelper()},[g.EDITOR_SAVE_BG_IMG](e,t){e.backgroundImg=t},[g.EDITOR_SAVE_LOCAL_BG_IMG](e,t){e.localBgImg=t}},actions:{[S.EDITOR_PASTE]({dispatch:e},t){const o=j.canvas,r=j.clipboardData.data;if(o&&!Z.exports.isEmpty(r)&&Z.exports.isArray(r)){if(t){const{x:i,y:s}=o.clientPointToViewportPoint(t),a=wb(r);r.forEach(l=>{l.x=l.x-a.minX+i,l.y=l.y-a.minY+s})}else r.forEach(i=>{i.x+=4,i.y+=4});const n=o.importDisplayJSON(r,{createNewID:!0});e(S.EDITOR_CREATED_NEW_DISPLAYS,{sourceCanvasId:j.clipboardData.canvasId,targetCanvasId:j.id,displayJSONs:n})}},[S.EDITOR_CREATED_NEW_DISPLAYS]({rootGetters:e},t){const{ext:o}=e;if(o!=null&&o.v2){const{displayJSONs:r,sourceCanvasId:n,targetCanvasId:i}=t,s=r.map(a=>({source:{canvasId:n,displayId:a.sourceId},target:[{canvasId:i,displayId:a.id}]}));o==null||o.deviceData.onCopyDisplays(s)}else o==null||o.toCopyDisplay(t)},[S.EDITOR_CANVAS_BATCH_CREATE_FINISH]({dispatch:e},t){var r;const o=(r=j.canvas)==null?void 0:r.finishBatchCreate(t);t||e(S.EDITOR_CREATED_NEW_DISPLAYS,{displayJSONs:o,sourceCanvasId:j.id,targetCanvasId:j.id})},[S.EDITOR_ON_SELECTED]({commit:e,dispatch:t},o){const{selectedJSON:r,groupJSON:n,selectedLength:i,...s}=o;Z.exports.isArray(r)&&!Z.exports.isEmpty(r)?(t(S.UPDATE_DISPLAY_ATTRS,n),e(g.ENABLE_DISPLAY_PANEL)):e(g.RESET_DISPLAY_PANEL_ATTRS),e(g.UPDATE_EDITOR_SELECTED,{num:i||r.length,data:r}),e(g.UPDATE_CURRENT_EDITOR_STATE,s)},async[S.EDITOR_CANVAS_DISPLAY_ATTR_UPDATE]({commit:e,rootState:t},o){var n;for(const i in o)e(g.UPDATE_DISPLAY_ATTR_VALUE,{key:i,value:o[i]});const{display:{attrs:r={}}={}}=t;r.type===zr.TEXT&&await GP(r),(n=j.canvas)==null||n.updateSelectedAttributes(o)},[S.EDITOR_CANVAS_BATCH_CREATE](e,{type:t,params:o}){var r;(r=j.canvas)==null||r.batchCreateOnTemp(t,o)},async[S.EXTRACT_CONTOURS](e,t){var i,s,a;const o=(i=t==null?void 0:t.offset)!=null?i:2,r=await((s=j.canvas)==null?void 0:s.getSelectedOutlineEleInfo(o)),n=await j.getOutlinePath(r,o,t);return(a=j.canvas)==null||a.drawOutline(n),{hasBitmap:!!(r!=null&&r.bitmapData),hasVector:!!(r!=null&&r.vectorData)}},async[S.SHAPE_MATCH]({getters:e}){const{displaysJSON:t,options:o}=e.canvas.getShapeMatchData(),r=new Qb,n=await r.shapeMatch(t,o);return r.destroy(),e.canvas.addShapeMatchResult(n)},[S.UPDATE_CANVAS_BACK_DROP]({state:e,getters:t,rootGetters:o,commit:r},n){var l;const{img:i=null}=n,{ext:s}=o;let a={};if(s.v2){const{currentId:c}=e,d=s.deviceData.getCurrentCanvasData(c);if(d){const{mode:u}=d,{angle:p,offsetX:h,offsetY:f}=s.deviceData.getCurrentDeviceModeData(u),{width:m,height:v}=s.config.processingArea.base;a={angle:p,width:m,height:v,offsetX:h,offsetY:f}}}else a=Object.assign(kd(),n.option);(l=t.canvas)==null||l.updateBackdrop(a,i),r(g.EDITOR_SAVE_BG_IMG,i),r(g.UPDATE_CURRENT_EDITOR_STATE,{hasBackground:!!i}),r(g.UPDATE_BACKGROUND_CONTEXT)},[S.UPDATE_CANVAS_LOCAL_BACK_DROP]({state:e,commit:t,getters:o,rootGetters:r},n){var d;const{img:i=null}=n,{ext:s}=r,{currentId:a}=e,l=Object.assign(kd(),n.option),c=s.deviceData.getCurrentCanvasData(a);if(c){const{mode:u}=c,{angle:p=0}=s.deviceData.getCurrentDeviceModeData(u);Object.assign(l,{angle:p})}(d=o.canvas)==null||d.setLocalBackdrop(i,l),t(g.EDITOR_SAVE_LOCAL_BG_IMG,i)},[S.CLEAR_CANVAS_BACK_DROP]({getters:e,commit:t}){e.canvasList.forEach(o=>{o.destroyBackdrop()}),t(g.UPDATE_CURRENT_EDITOR_STATE,{hasBackground:!1}),t(g.UPDATE_BACKGROUND_CONTEXT)},[S.RESIZE_ALL_CANVAS_VIEWPORT]({getters:e}){var n;const{ext:t,canvasList:o=[]}=e,r=(n=t==null?void 0:t.projectData)==null?void 0:n.data;r&&o.forEach((i,s)=>{const a=r.get(s);if(a){const l=a.mode,{width:c,height:d}=t.getDeviceModeData(l);i.resizeViewport({viewportWidth:c,viewportHeight:d}),i.render()}})},[S.RENDER_CANVAS]({commit:e},t){const{canvas:o}=t;e(g.RESET_DISPLAY_PANEL_ATTRS),e(g.EDITOR_SETUP),e(g.EDITOR_DESERIALIZE,o)},[S.INIT_EDITOR]({commit:e,dispatch:t}){e(g.RESET_DISPLAY_PANEL_ATTRS),e(g.EDITOR_SETUP),t(S.EDITOR_ADD_CANVAS)},[S.EDITOR_ADD_CANVAS]({state:e,commit:t,rootGetters:o}){t(g.EDITOR_ADD_CANVAS);const{ext:r}=o;r!=null&&r.v2&&(r==null||r.deviceData.onAddCanvas(e.currentId))},[S.EDITOR_REMOVE_CANVAS]({commit:e,rootGetters:t},o){e(g.EDITOR_REMOVE_CANVAS,o);const{ext:r}=t;r!=null&&r.v2&&(r==null||r.deviceData.onDelCanvas(o))},async[S.OPEN_LOSS_FONTS_MODAL]({commit:e,state:t},{useLegacy:o,lossFonts:r}){const n={};return n.promise=new Promise((i,s)=>{Object.assign(n,{resolve:i,reject:s})}),e(g.UPDATE_LOSS_FONTS_PROMISES,[...t.lossFontsPromises,n]),e(g.UPDATE_LOSS_FONTS_VISIBLE,{visible:!0,lossFonts:r,useLegacy:o}),n.promise},async[S.CONFIRM_LOSS_FONTS_MODAL]({commit:e,state:t}){const o=t.lossFontsProcessMode;t.lossFontsPromises.forEach(r=>{r.resolve(o)}),e(g.UPDATE_LOSS_FONTS_PROMISES,[])}}};async function GP(e){const t=Li(e),o=A_(t);dt.setCurrentFont(o),await dt.resolveFont(o),await dt.preloadTextGlyphs({...t,text:e.text})}const jP={state:{pageName:"",detailId:null},getters:{detailPath(e){return e.detailId?`${Bn.ExampleDetail}${e.detailId}`:null}},mutations:{[g.UPDATE_PAGE_NAME](e,t){e.pageName=t},[g.UPDATE_DETAIL_ID](e,t){e.detailId=t}}},Ss={[5]:{defaultValue:3,min:1,max:10},[10]:{defaultValue:3,min:1,max:10},[20]:{defaultValue:2,min:1,max:10},[40]:{defaultValue:5,min:1,max:10}},Nd="LAST_FRAMING_SETTINGS",YP={state:{history:JSON.parse(localStorage.getItem(Nd)||"{}")},getters:{framingSet:(e,t,o)=>{var p,h,f,m,v,C,E;const{info:r}=o.connector,{power:n=0,gMode:i,id:s}=r,a=e.history[s]||{},l=i===0||[0,2].includes(n),c={default:(h=(p=Ss[n])==null?void 0:p.defaultValue)!=null?h:3,min:(m=(f=Ss[n])==null?void 0:f.min)!=null?m:0,max:(C=(v=Ss[n])==null?void 0:v.max)!=null?C:0},d=(a==null?void 0:a.power)||c.default,u=(E=a==null?void 0:a.speed)!=null?E:160;return{isNotExistFramingPower:l,defaultValue:c,power:d,speed:u,devicePower:n}}},mutations:{[g.UPDATE_FRAMING_HISTORY](e,t){e.history=t,localStorage.setItem(Nd,JSON.stringify(t))}},actions:{[S.UPDATE_FRAMING_HISTORY]({state:e,commit:t,rootState:o},r){const{id:n}=o.connector.info,i=Z.exports.cloneDeep(e.history),s=r.speed,a=r.power;i[n]={speed:s,power:a},t(g.UPDATE_FRAMING_HISTORY,i)}}},KP={state:{langKey:Bf()||"en-US"},getters:{getLangKey(e){return e.langKey}},mutations:{[g.SET_LANG_KEY](e,t){e.langKey=t}},actions:{async[S.UPDATE_LANG_KEY]({state:e,commit:t},o){o===e.langKey||!await R_(o)||(po().set(Vo.LANG_KEY,o),t(g.SET_LANG_KEY,o))}}};let ys;const qP={state:{visible:!1,formValues:{search:"",categoryId:0,isSupport:!0},localMaterial:lf(),pagination:{current:1,pageSize:15,total:0},onlineMaterials:[],categoryList:[],processingTypes:[]},getters:{materialList:(e,t,o)=>{const{info:r}=o.connector,{ext:n}=t,{power:i=0}=r,{localMaterial:s}=e,a=Rb({identifier:n!=null&&n.v2?n.config.productID:n.productID,power:i,materialList:s.slice(0)});return a.unshift(af),a}},mutations:{[g.UPDATE_MATERIAL_MODAL_VISIBLE](e,t){e.visible=t},[g.UPDATE_ONLINE_MATERIAL_LIST](e,t){e.onlineMaterials=t},[g.UPDATE_CATEGORY_LIST](e,t){e.categoryList=t},[g.UPDATE_MATERIAL_FORM_VALUES](e,t){e.formValues=Object.assign(e.formValues,t)},[g.UPDATE_MATERIAL_PAGINATION](e,t){e.pagination=Object.assign(e.pagination,t)},[g.UPDATE_PROCESS_TYPES](e,t){e.processingTypes=t},[g.UPDATE_LOCAL_MATERIAL_LIST](e,t){e.localMaterial=t,Ib(t)}},actions:{async[S.GET_MATERIAL_CATEGORY_LIST]({commit:e}){try{const o=(await Zg()).map(r=>({value:r.id,label:r.name}));e(g.UPDATE_CATEGORY_LIST,o)}catch(t){console.log(t)}},async[S.GET_UPDATE_MATERIAL]({},e){try{return await Jg(e)}catch(t){return console.log(t),!1}},async[S.UPDATE_LOCAL_MATERIAL]({state:e,commit:t,dispatch:o}){const r=e.localMaterial.slice(0);ys||(ys=(await He(()=>import("../chunk/material-17941d30.js"),[],import.meta.url)).default),ys.forEach(s=>{const a=r.findIndex(l=>l.id===s.id);a>=0?s.updatedAt>r[a].updatedAt&&(r[a]=s):r.push(s)}),t(g.UPDATE_LOCAL_MATERIAL_LIST,r);const n=r.map(({id:s,updatedAt:a})=>({id:s,updatedAt:a})),i=await o(S.GET_UPDATE_MATERIAL,n);Z.exports.isArray(i)&&i.forEach(s=>{const a=r.findIndex(l=>l.id===s.id);a>=0&&(r[a]=s)}),t(g.UPDATE_LOCAL_MATERIAL_LIST,r)},[S.SELECT_ONLINE_MATERIAL]({state:e,rootState:t,commit:o,getters:r,rootGetters:n},i){const s=e.localMaterial.slice(0),a=s.findIndex(c=>c.id===i.id);a>=0?s[a]=i:s.unshift(i),o(g.UPDATE_LOCAL_MATERIAL_LIST,s);const{ext:l}=n;i.id&&(console.log("sssssss",r.materialList),l!=null&&l.v2?l.deviceData.onMaterialChange(t.editor.currentId,i.id,r.materialList):l==null||l.selectOnlineMaterial(i.id))},[S.SORT_LOCAL_MATERIAL]({state:e,commit:t},o){const r=e.localMaterial.slice(0),i=Z.exports.remove(r,s=>s.id===o).concat(r);t(g.UPDATE_LOCAL_MATERIAL_LIST,i)},[S.IMPORT_PROJECT_MATERIAL]({state:e,commit:t},o){if(console.log("\u5BFC\u5165\u9879\u76EE\u7684\u6750\u6599: ",o),!Z.exports.isEmpty(o)){const r=e.localMaterial.slice(0);o.forEach(n=>{r.some(i=>i.id===n.id)||r.unshift(n)}),t(g.UPDATE_LOCAL_MATERIAL_LIST,r)}}}},XP={state:{msgKey:"",list:new Map},mutations:{[g.PUSH_MESSAGE](e,t){const o=Z.exports.cloneDeep(e.list),r=`${new Date().getTime()}`;o.set(r,t),e.list=o,e.msgKey=r},[g.DELETE_MESSAGE](e,t){const o=Z.exports.cloneDeep(e.list);o.delete(t),e.list=o}}},JP={state:{batchCreateModalLinerVisible:!1,batchCreateModalRadialVisible:!1,uploadGcodeModelVisible:!1},mutations:{[g.SET_BATCH_CREATE_MODAL_LINER_VISIBLE](e,t){e.batchCreateModalLinerVisible=t},[g.SET_BATCH_CREATE_MODAL_RADIAL_VISIBLE](e,t){e.batchCreateModalRadialVisible=t},[g.SET_UPLOAD_GCODE_MODAL_VISIBLE](e,t){e.uploadGcodeModelVisible=t}}},ZP={state:{canvasImgUrl:null,successiveModalVisible:!1,offsetX:0,offsetY:0,pathData:[],coordinate:[],currStep:0},getters:{successiveComplete(e){return e.currStep>=e.pathData.length}},mutations:{[g.SET_SUCCESSIVE_VISIBLE](e,t){e.successiveModalVisible=t},[g.SET_SUCCESSIVE_IMG](e,t){e.canvasImgUrl=t},[g.SET_IMG_OFFSET](e,{offsetX:t,offsetY:o}){e.offsetX=t||e.offsetX,e.offsetY=o||e.offsetY},[g.UPDATE_SUCCESSIVE_STEP](e,t){e.currStep=t},[g.NEXT_SUCCESSIVE_STEP](e){e.currStep++},[g.SAVE_SUCCESSIVE_DATA](e,{pathData:t,coordinate:o}){t&&(e.pathData=t),o&&(e.coordinate=o)},[g.SUCCESSIVE_COMPLETE](e){e.pathData=[],e.coordinate=[],e.currStep=0,e.canvasImgUrl=null}},actions:{async[S.SETUP_SUCCESSIVE_PROCESS]({commit:e,getters:t}){const{canvas:o}=t,r=o.getCanvasData();if(r.length>0){let n=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER;r.forEach(a=>{n=Math.min(n,a.y),i=Math.min(i,a.x)});const{canvas:s}=await o.getDisplayLayerShot({scaleNum:1});e(g.SET_SUCCESSIVE_IMG,s.toDataURL()),e(g.SET_IMG_OFFSET,{offsetX:i,offsetY:n}),e(g.SET_SUCCESSIVE_VISIBLE,!0)}},async[S.FINISH_PROCESSING]({commit:e,dispatch:t,getters:o}){const{ext:r}=o;r.processMode==="PASS_THROUGH"&&(e(g.NEXT_SUCCESSIVE_STEP),o.successiveComplete?e(g.SUCCESSIVE_COMPLETE):t(S.SETUP_SUCCESSIVE_PROCESS,!0))},async[S.CLOSE_PROCESSING]({state:e,getters:t,commit:o,dispatch:r}){const{ext:n}=t;n.processMode==="PASS_THROUGH"&&(e.currStep>0?t.successiveComplete||r(S.SETUP_SUCCESSIVE_PROCESS,!0):o(g.SUCCESSIVE_COMPLETE))},async[S.CALCULATE_PASS_THROUGH_GCODE]({state:e,commit:t,getters:o},r){const{ext:n}=o;if(r.length>0&&n.processMode==="PASS_THROUGH"){let i;const{pathData:s,currStep:a}=e;if(s.length>0)i=s[a];else{const{paths:l,coordinate:c}=await n.calCanvasData(r);console.log({paths:l,coordinate:c});const d=[];l.forEach(u=>{d.push({...r[0],path:u})}),t(g.SAVE_SUCCESSIVE_DATA,{pathData:d,coordinate:c}),t(g.UPDATE_SUCCESSIVE_STEP,0),i=d[0]}return i}return null}}},QP={state:{processingStatus:Hr.PREVIEW,processingShow:!1,disconnectShow:!1,taskCancelShow:!1},mutations:{[g.PROCESSING_STATUS](e,t){e.processingStatus=t},[g.PROCESSING_SHOW](e,t){e.processingShow=t},[g.DISCONNECT_SHOW](e,t){e.disconnectShow=t},[g.TASK_CANCEL_SHOW](e,t){e.taskCancelShow=t}},getters:{isProcessing:e=>{const{processingStatus:t}=e;return t===Hr.PROCESSING},isPause:e=>{const{processingStatus:t}=e;return t===Hr.PAUSE}}},Md={[ei.text]:(e,t)=>{e(g.PUSH_MESSAGE,{type:"warning",contentI18nKey:t.text})},[ei.textWidthEvent]:(e,t,o)=>{const{text:r="",handler:n=()=>{}}=t.event||{};e(g.PUSH_MESSAGE,{type:"warning",contentI18nKey:"",options:{keepAliveOnHover:!0},render:{textI18nKey:t.text,link:{labelI18nKey:r,onClick:()=>{n(o)}}}})}},eL={state:{isCalculating:!1,totalTime:0,visible:!1,isRepeat:!1},mutations:{[g.SET_PROCESSING_VISIBLE](e,t){e.visible=t},[g.SET_CALCULATING_GCODE](e,t){e.isCalculating=t},[g.SET_PROCESS_TOTAL_TIME](e,t){e.totalTime=t},[g.SET_PROCESSING_REPEAT](e,t){e.isRepeat=t}},getters:{walkBorderConfig(e,t){return t.ext.walkBorderConfig}},actions:{async[S.READY_START_PROCESSING]({getters:e,rootState:t,commit:o}){const{ext:r,canvas:n}=e,{editor:i}=t,s=n.getCanvasData({vectorScaleNum:30}),a=await r.checkProcessData({canvasData:s,canvasId:i.currentId,centralAxisPosition:n.centralAxisPosition});if(console.log(["checkResult =>",a]),a){Md[a.type](o,a,r);return}o(g.SET_PROCESSING_REPEAT,!1),o(g.SET_PROCESSING_VISIBLE,!0)},async[S.CALCULATE_GCODE]({getters:e,commit:t}){const{ext:o}=e;t(g.SET_PROCESS_TOTAL_TIME,0),t(g.SET_CALCULATING_GCODE,!0),await o.buildProcessGcode();const r=o.builder.processTime;return console.log({processTime:r}),t(g.SET_PROCESS_TOTAL_TIME,r),t(g.SET_CALCULATING_GCODE,!1),o.builder.gcodeFileName},[S.START_PROCESSING]({getters:e}){const{ext:t}=e;return t.uploadGCode()},async[S.PAUSE_PROCESSING]({getters:e}){const{ext:t}=e;return t.pauseProcessing()},async[S.CANCEL_PROCESSING]({getters:e}){const{ext:t}=e;return t.cancelProcessing()},async[S.CONTINUE_PROCESSING]({getters:e}){const{ext:t}=e;return t.continueProcessing()},async[S.EXPORT_GCODE]({getters:e}){const{ext:t}=e;return t.exportGcode()},async walkBorder({getters:e,rootState:t,commit:o},r){const{ext:n,canvas:i}=e,{running:s,type:a,power:l,speed:c}=r;if(s)return n.stopWalkBorder();const{editor:d}=t,u=i.getCanvasData({imageData:!1,path:!1}),p=await n.checkProcessData({canvasData:u,canvasId:d.currentId,centralAxisPosition:i.centralAxisPosition,isWalkBorder:!0});if(console.log(["checkResult =>",p]),p){Md[p.type](o,p,n);return}const m={data:{source:a==="outline"?await j.extractAllContours():(({x:C,y:E,width:R,height:_})=>{const T=C+R,w=E+_;return`M${C}, ${E}L${T}, ${E}L${T}, ${w}L${C}, ${w}Z`})(n.printInfo.totalSize),power:l,speed:c,repeat:1},params:{...n.printInfo.params,isWalkBorder:!0,isVector:!0,buildType:n.config.process.buildTypeMap[`${Zo.VECTOR}${n.printInfo.params.processMode}`]}},v=await n.builder.border(m);return n.startWalkBorder(v)}}},tL={state:{path:Xn,status:Rt.DEFAULT,saveConfirm:!1},getters:{projectName(e){let t=Xn;const{path:o}=e;return o&&(t=o),oi(t,dl)}},mutations:{[g.PROJECT_UPDATE_NAME](e,t){e.path=Be.rename(e.path,t)},[g.PROJECT_SAVE_CONFIRM](e,t){Object.assign(e,t)},[g.PROJECT_SAVE_STATUS](e,t){e.status=t},[g.PROJECT_FILE_PATH](e,t){e.path=t},[g.PROJECT_ID](e,t){e.projectID=t}},actions:{async[S.PROJECT_NEW]({dispatch:e}){return e(S.PROJECT_OPEN,{newProject:!0})},async[S.PROJECT_SAVE]({rootState:e,rootGetters:t,state:o,commit:r},n=!1){const{editor:{currentId:i,canvasList:s}}=e,{path:a,status:l}=o;if(l===Rt.SAVING)return;const c=s.length;try{r(g.PROJECT_SAVE_STATUS,Rt.SAVING);const{ext:d}=t,u=Be.toJson(i,s,d),p=await Be.save({projectData:u,path:a,saveAs:n});return p&&r(g.PROJECT_FILE_PATH,p),r(g.PROJECT_SAVE_STATUS,Rt.SAVED),Rd({result:"success",saveAs:n,canvasListLength:c}),!0}catch{return r(g.PROJECT_SAVE_STATUS,Rt.CANCEL),Rd({result:"fail",saveAs:n,canvasListLength:c}),!1}},async[S.PROJECT_SAVE_AS]({dispatch:e}){return e(S.PROJECT_SAVE,!0)},async[S.PROJECT_OPEN_BY_URL]({commit:e,dispatch:t},o){e(g.PROJECT_LOADING,!0);const{url:r,name:n}=o||{},i=await fetch(r).then(s=>s.blob()).then(s=>new File([s],n));return t(S.PROJECT_OPEN,{file:i})},async[S.PROJECT_OPEN]({commit:e,state:t,dispatch:o,rootGetters:r,rootState:n},i){var h,f;const{file:s,newProject:a,source:l}=i||{};if((()=>{const m=s instanceof File?s.path:s;return Z.exports.isString(m)&&m===t.path})())return;const{editor:{imageProcessVisible:d}}=n;d&&(e(g.CANCEL_IMAGE_PROCESS),e(g.UPDATE_IMAGE_PROCESS_VISIBLE,!1));const u=await o(S.PROJECT_SAVE_CONFIRM).finally(()=>{e(g.PROJECT_SAVE_CONFIRM,{saveConfirm:!1,confirm:void 0})});if(u==="cancel"){n.projectLoading===!0&&e(g.PROJECT_LOADING,!1);return}if(u==="yes"&&!await o(S.PROJECT_SAVE)){n.projectLoading===!0&&e(g.PROJECT_LOADING,!1);return}if(a){e(g.PROJECT_FILE_PATH,Xn),await o(S.INIT_EDITOR),Be.reset(),e(g.PROJECT_ID,Ls());return}let{fonts:p}=n.display;if(p.length<=1){const m=await o(S.LIST_DISPLAY_FONTS);m&&(p=m)}try{console.log(["=> start load project."]);const m=await Be.open(s||Be.tempFile);e(g.PROJECT_LOADING,!0);const v=await Be.parse(m.file),{canvas:C,canvasId:E,device:R,extId:_,projectID:T=Ls(),version:w}=v;let b=!1,x=!0;if(C&&E){const L=new Set,F=new Set;for(let I=0;I<C.length;I++)(f=(h=C[I])==null?void 0:h.displays)==null||f.forEach((P,B)=>{var M;if(P.type===zr.TEXT){let te=P;Lr.isTextNeededAdapt(te)&&(te=Object.assign(te,Lr.adaptMText(te)),b=!0),x&&!Lr.detectSupportTextToPath(te)&&(x=!1),(M=te.style)!=null&&M.fontSource||(te.style.fontSource=ho.SYSTEM);const ne=Li(te);dt.getFont(ne)||(L.add(ne.fontFamily),F.add({canvasIndex:I,canvasId:C[I].id,displayIndex:B,text:te,fontAttrs:ne}))}});let z;if(L.size>0){const I=!x;I?Fd(F):await o(S.OPEN_LOSS_FONTS_MODAL,{useLegacy:I,lossFonts:Array.from(L)}).then(P=>{P===Xa.REPLACE_FONT||I?Fd(F):z=rL(F,C)})}await oL(C),w.includes("beta")&&b&&e(g.PUSH_MESSAGE,{type:"warning",contentI18nKey:"",options:{keepAliveOnHover:!0},render:{textI18nKey:"canvas.message.text_version_not_match",link:{labelI18nKey:"canvas.message.learn_more",href:"https://support.xtool.com/hc/en-us/articles/9001607040791"}}}),e(g.PROJECT_FILE_PATH,m.path||m.name),o(S.RENDER_CANVAS,{canvas:C,canvasId:E}),e(g.PROJECT_ID,T),!x&&L.size>0&&e(g.UPDATE_LOSS_FONTS_VISIBLE,{visible:!0,lossFonts:Array.from(L),useLegacy:!0});const{ext:G}=r;_&&(G==null?void 0:G.id)!==_&&(console.log(["=> load ext",_]),await o(S.LOAD_EXT,{extId:_,needSetLastExtDisplaysData:!1})),Jo(()=>{e(g.EDITOR_CHANGE_CANVAS,E)});const{ext:O}=r;if(O)if(R){O!=null&&O.v2?O.deviceData.onImportData(R.data):(O.projectData=R,o(S.RESIZE_ALL_CANVAS_VIEWPORT));const{materialList:I=[]}=R;o(S.IMPORT_PROJECT_MATERIAL,I)}else o(S.SET_LAST_EXT_DISPLAYS_DATA,{ext:O});z&&z.forEach(I=>{const{canvasId:P,paths:B}=I;o(S.EDITOR_CREATED_NEW_DISPLAYS,{displayJSONs:B,sourceCanvasId:P,targetCanvasId:P})}),l&&Id({source:l,result:"success"})}else throw new Error(`open file is empty. [${s}]`)}catch(m){return console.error(m),m instanceof nf||m==="cancel choose file."||(e(g.PROJECT_SAVE_STATUS,Rt.OPEN_ERROR),Id({source:l,result:"fail"})),Promise.reject(`open file error. [${m}]`)}finally{console.log(["=> finish load project."]),Be.cleanTempFile(),e(g.PROJECT_LOADING,!1)}},async[S.PROJECT_SAVE_CONFIRM]({commit:e,rootGetters:t,rootState:o}){const{editor:{currentId:r,canvasList:n}}=o,{ext:i}=t;return Be.hasChanged(r,n,i)?new Promise(a=>{e(g.PROJECT_SAVE_CONFIRM,{saveConfirm:!0,confirm:{yes(){a("yes")},no(){a("no")},cancel(){a("cancel")}}})}):!1},async[S.CLOSE_WIN_SAVE_CONFIRM_YES]({dispatch:e}){try{await e(S.PROJECT_SAVE)&&e(S.CLOSE_WIN_SAVE_CONFIRM_CLOSE,!0)}catch{return Promise.reject("sure open file error.")}},async[S.CLOSE_WIN_SAVE_CONFIRM_NO]({dispatch:e}){e(S.CLOSE_WIN_SAVE_CONFIRM_CLOSE,!0)},async[S.CLOSE_WIN_SAVE_CONFIRM_CLOSE]({dispatch:e,commit:t},o){var r;t(g.PROJECT_SAVE_CONFIRM,{saveConfirm:!1,confirm:void 0}),o===!0&&(await e(S.INIT_EDITOR),Be.reset(),(r=window.MeApi)==null||r.closeWindow())}}};async function oL(e){const t=[];if(e.forEach(o=>{var r;(r=o==null?void 0:o.displays)==null||r.forEach(n=>{if(n.type===zr.TEXT){const i=n;t.push({...Li(i),text:i.text})}})}),t.length)for(const o of t)await dt.preloadTextGlyphs(o)}function Fd(e){const t=new Map;for(const{text:o,fontAttrs:r}of e){const n=[r.fontSource,r.fontFamily,r.fontSubfamily].join(";");let i;t.has(n)?i=t.get(n):(i=dt.getSubstitutedFontData(r),t.set(n,i)),i&&(o.style.fontFamily=i.fontFamily,o.style.fontSubfamily=i.fontSubfamily,o.style.fontSource=i.fontSource)}}function rL(e,t){const o=[];for(const{text:r,canvasIndex:n,displayIndex:i}of e){const s=Lr.convertTextJSONToPathJSONs(r),a=t[n];a.displays&&(a.displays[i]=s),o.push({canvasId:a.id,text:r,paths:s})}for(const r of t)r.displays&&(r.displays=r.displays.flat());return o}const nL=()=>{var o,r;const e="info";let t=po().get(Vo.LOG_LEVEL);return t||(t=e,po().set(Vo.LOG_LEVEL,e)),Z.exports.isFunction((o=window.MeApi)==null?void 0:o.logger.switchLevel)&&((r=window.MeApi)==null||r.logger.switchLevel(t)),t};var Vd,Wd,Gd;const iL={state:{visible:!1,theme:qa.LIGHT,locale:"zhCN",unit:Ub(),version:(Wd=(Vd=window.MeApi)==null?void 0:Vd.version)!=null?Wd:"latest",checkingUpdate:!1,shouldUpdate:!1,forceUpdate:!1,latestVersion:"",enableSnapping:(Gd=po().get(Vo.ENABLE_SNAPPING))!=null?Gd:!0,downloadProcess:0,newVersionFilePath:"",changeLog:{zh:"",en:""},logLevel:nL(),firmwareToolVisible:!1,cameraCorrectVisible:!1},mutations:{[g.SETTING_VISIBLE](e){e.visible=!e.visible},[g.SETTING_SNAPPING](e,t){e.enableSnapping=t},[g.SET_CAMERA_CORRECT_VISIBLE](e,t){e.cameraCorrectVisible=t},[g.SETTING_UPDATE_STATE](e,t){Object.assign(e,t)},[g.SETTING_UPDATE_UNIT](e,t){e.unit={...e.unit,...uf(t)},$b(t)},[g.SETTING_UPDATE_THEME](e,t){e.theme=t},[g.SET_LOG_LEVEL](e,t){e.logLevel=t},[g.SET_FIRMWARE_TOOL_VISIBLE](e,t){e.firmwareToolVisible=t}},actions:{[S.SETTING_UNIT]({commit:e},t){e(g.SETTING_UPDATE_UNIT,t)},[S.SETTING_SNAPPING]({commit:e},t){po().set(Vo.ENABLE_SNAPPING,t),e(g.SETTING_SNAPPING,t)},async[S.SETTING_CHECK_UPDATE]({commit:e,state:t}){var s;e(g.SETTING_UPDATE_STATE,{checkingUpdate:!0});const{isMac:o=!1,isArm:r=!1}=(s=window.MeApi)!=null?s:{},i={domain:"xcs",region:"en",contentId:o?r?"xcs_macos_arm":"xcs_macos":"xcs_win"};try{const a=await Nh(ci(qr.AppVar,t.version),i);a&&e(g.SETTING_UPDATE_STATE,a)}catch(a){return Promise.reject(a)}finally{e(g.SETTING_UPDATE_STATE,{checkingUpdate:!1})}},async[S.UPDATE_LOG_LEVEL]({state:e,commit:t},o){var r,n;o!==e.logLevel&&(Z.exports.isFunction((r=window.MeApi)==null?void 0:r.logger.switchLevel)&&((n=window.MeApi)==null||n.logger.switchLevel(o)),po().set(Vo.LOG_LEVEL,o),t(g.SET_LOG_LEVEL,o))}}},sL={state:{visible:!1,loading:!1,wifiList:[],wifiName:"",wifiPwd:""},mutations:{[g.UPDATE_WIFI_CONFIG_STATE](e,t){e=Object.assign(e,t)}},actions:{async[S.GET_WIFI_LIST]({commit:e,getters:t}){var o;e(g.UPDATE_WIFI_CONFIG_STATE,{loading:!0});try{const r=(await((o=t.ext.apis)==null?void 0:o.listWifi())).map(n=>({label:n,value:n}));e(g.UPDATE_WIFI_CONFIG_STATE,{wifiList:r,loading:!1,wifiName:Z.exports.isEmpty(r)?"":r[0].value})}catch{e(g.UPDATE_WIFI_CONFIG_STATE,{loading:!1})}},async[S.CONFIG_WIFI]({getters:e,state:t}){var o;try{const{wifiName:r,wifiPwd:n}=t,i={username:r,passwd:n},s=await((o=e.ext.apis)==null?void 0:o.configWifi({data:i}));return!Z.exports.isError(s)}catch(r){return console.error(r),!1}}}},aL={editor:WP,example:jP,display:$P,batchCreate:wP,modal:JP,locale:KP,project:tL,settings:iL,connector:NP,material:qP,wifiConfig:sL,process:QP,processing:eL,deviceError:HP,framing:YP,message:XP,passThrough:ZP},lL=()=>e=>{const t=o=>{o.on(Re.UPDATE_PROCESSING_AREA,({width:r,height:n,angle:i=0})=>{var s;console.log(["=> update processing area",Re.UPDATE_PROCESSING_AREA]),(s=e.getters.canvas)==null||s.resizeViewport({viewportWidth:r,viewportHeight:n,angle:i})}),o.on(Re.MARK_POSITION,r=>{var d,u;const n=e.getters.canvas.selected;e.getters.canvas.selected=[];let i=(d=e.getters.canvas)==null?void 0:d.setupAssistantEle(r);const s=p=>{console.log("\u6355\u83B7\u5750\u6807\uFF1A",p),o.emit(Re.MARK_POSITION_DONE,p),i&&i(),i=null,e.getters.canvas.selected=n,c()},a=()=>{i&&i(),i=null,console.log("\u53D6\u6D88\u8FD1\u666Fmark"),o.emit(Re.MARK_POSITION_DONE,null),e.getters.canvas.selected=n,c()},l=()=>{i&&a(),c()},c=()=>{var p;(p=e.getters.canvas)==null||p.off(Al.GET_POSITION,s),o.off(Re.MARK_POSITION_CANCEL,a),window.document.removeEventListener("pointerup",l)};(u=e.getters.canvas)==null||u.once(Al.GET_POSITION,s),o.once(Re.MARK_POSITION_CANCEL,a),window.document.addEventListener("pointerup",l)}),o.on(Re.UPDATE_CANVAS_BACK_DROP,r=>{const{img:n}=r;e.dispatch(S.UPDATE_CANVAS_BACK_DROP,{img:n})}),o.on(Re.UPDATE_CANVAS_LOCAL_BACK_DROP,r=>{const{img:n,option:i}=r;e.dispatch(S.UPDATE_CANVAS_LOCAL_BACK_DROP,{option:i,img:n})}),o.on(zn.CAPTURE_IMAGE_PROGRESS,r=>{e.commit(g.TAKING_PICTURE_PROGRESS_MESSAGE,{i18nKey:"device.status.taking_picture",i18nArgs:{percent:r}})}),o.on(zn.CAPTURING,r=>{e.commit(g.IS_TAKING_PICTURE,r)}),o.on(zn.CAPTURE_STATUS,r=>{switch(r){case"success":e.commit(g.PUSH_MESSAGE,{type:"success",contentI18nKey:"device.status.take_picture_success"});break;case"fail":e.commit(g.PUSH_MESSAGE,{type:"error",contentI18nKey:"device.status.take_picture_fail"});break}}),o.on(Us.MEASURE_SUCCESS,()=>{e.commit(g.PUSH_MESSAGE,{type:"info",contentI18nKey:"device.measure_guide.auto_measurement_success"})}),o.on(Us.MEASURE_FAIL,()=>{e.commit(g.PUSH_MESSAGE,{type:"error",contentI18nKey:"device.measure_guide.auto_measurement_fail"})}),o.on(Yu.CALCULATE_PASS_THROUGH_GCODE,async(r,n)=>{const i=await e.dispatch(S.CALCULATE_PASS_THROUGH_GCODE,r);n(i)}),o.deviceData.on(eo.UPDATE_PROCESSING_AREA,r=>{e.getters.canvasList.forEach((n,i)=>{if(r.canvasId===i){console.log(["=> UI_EVENT.UPDATE_PROCESSING_AREA"],r);const{width:s,height:a,angle:l,offsetX:c,offsetY:d}=r.option;n.resizeViewport({viewportWidth:s,viewportHeight:a,angle:l}),n.updateBackdrop({angle:l||0,offsetX:c,offsetY:d})}})}),o.deviceData.on(eo.UPDATE_CANVAS_INIT_STATUS,r=>{console.log(["=> UI_EVENT.UPDATE_CANVAS_INIT_STATUS"],r),e.getters.canvasList.forEach((n,i)=>{r.canvasId===i&&n.updateDisplayConfig(r.config)})}),o.deviceData.on(eo.UPDATE_DISPLAYS_STATUS,r=>{if(console.log(["=> UI_EVENT.UPDATE_DISPLAYS_STATUS"]),(r==null?void 0:r.canvasId)&&!Z.exports.isEmpty(r==null?void 0:r.data)){const n=e.getters.canvasList.get(r.canvasId);n==null||n.updateMultiDisplayConfig(r.data)}}),o.deviceData.on(eo.UPDATE_CYLINDER_STATUS,r=>{var n;console.log(["=> UI_EVENT.UPDATE_CYLINDER_STATUS"]),(n=e.getters.canvas)==null||n.createCentralAxis(r)}),o.deviceData.on(eo.IMAGE_CALIBRATION,async()=>{console.log(["=> UI_EVENT.IMAGE_CALIBRATION"]),o.calibration()}),o.on(Re.MOVE_CYLINDER,r=>{console.log(["=> SYSTEM_EVENT.MOVE_CYLINDER"],r);const n=o.deviceData,i=e.state.editor.currentId,s=n.data.value.get(i);if(s){const a=s.mode;if(n.needShowCylinder(a)){const{width:l}=n.getCurrentDeviceModeData(a),c=Math.min(l,Math.max(l-r,1));n.onChangeToCylinder(c)}}}),o.deviceData.on(eo.CANCEL_CURRENT_CYLINDER,()=>{var r;console.log(["=> UI_EVENT.CANCEL_CURRENT_CYLINDER"]),(r=e.getters.canvas)==null||r.destroyCentralAxis()}),o.on(Re.UPDATE_DEVICE_INFO,r=>{console.log(["=> SYSTEM_EVENT.UPDATE_DEVICE_INFO",r]),e.dispatch(S.UPDATE_EXT_INFO,r)}),o.on(Re.CLEAN_CANVAS_BACK_DROP,()=>{console.log("=> CLEAN_CANVAS_BACK_DROP"),e.dispatch(S.CLEAR_CANVAS_BACK_DROP)})};Ot.$ev.on(Ot.EVENTS.CREATED,o=>{console.log(["=> created",o]),t(o)})};var _s=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function xs(e,t,o,r){e.addEventListener?e.addEventListener(t,o,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){o(window.event)})}function Fh(e,t){for(var o=t.slice(0,t.length-1),r=0;r<o.length;r++)o[r]=e[o[r].toLowerCase()];return o}function Bh(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),o=t.lastIndexOf("");o>=0;)t[o-1]+=",",t.splice(o,1),o=t.lastIndexOf("");return t}function cL(e,t){for(var o=e.length>=t.length?e:t,r=e.length>=t.length?t:e,n=!0,i=0;i<o.length;i++)r.indexOf(o[i])===-1&&(n=!1);return n}var Xr={backspace:8,"\u232B":8,tab:9,clear:12,enter:13,"\u21A9":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":_s?173:189,"=":_s?61:187,";":_s?59:186,"'":222,"[":219,"]":221,"\\":220},yt={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},Ea={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},ke={16:!1,18:!1,17:!1,91:!1},Te={};for(var Mn=1;Mn<20;Mn++)Xr["f".concat(Mn)]=111+Mn;var ge=[],Bd=!1,Hh="all",$h=[],Wi=function(t){return Xr[t.toLowerCase()]||yt[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)},dL=function(t){return Object.keys(Xr).find(function(o){return Xr[o]===t})},uL=function(t){return Object.keys(yt).find(function(o){return yt[o]===t})};function zh(e){Hh=e||"all"}function Jr(){return Hh||"all"}function fL(){return ge.slice(0)}function pL(){return ge.map(function(e){return dL(e)||uL(e)||String.fromCharCode(e)})}function hL(e){var t=e.target||e.srcElement,o=t.tagName,r=!0;return(t.isContentEditable||(o==="INPUT"||o==="TEXTAREA"||o==="SELECT")&&!t.readOnly)&&(r=!1),r}function mL(e){return typeof e=="string"&&(e=Wi(e)),ge.indexOf(e)!==-1}function gL(e,t){var o,r;e||(e=Jr());for(var n in Te)if(Object.prototype.hasOwnProperty.call(Te,n))for(o=Te[n],r=0;r<o.length;)o[r].scope===e?o.splice(r,1):r++;Jr()===e&&zh(t||"all")}function vL(e){var t=e.keyCode||e.which||e.charCode,o=ge.indexOf(t);if(o>=0&&ge.splice(o,1),e.key&&e.key.toLowerCase()==="meta"&&ge.splice(0,ge.length),(t===93||t===224)&&(t=91),t in ke){ke[t]=!1;for(var r in yt)yt[r]===t&&(xe[r]=!1)}}function CL(e){if(typeof e>"u")Object.keys(Te).forEach(function(s){return delete Te[s]});else if(Array.isArray(e))e.forEach(function(s){s.key&&Ts(s)});else if(typeof e=="object")e.key&&Ts(e);else if(typeof e=="string"){for(var t=arguments.length,o=new Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];var n=o[0],i=o[1];typeof n=="function"&&(i=n,n=""),Ts({key:e,scope:n,method:i,splitKey:"+"})}}var Ts=function(t){var o=t.key,r=t.scope,n=t.method,i=t.splitKey,s=i===void 0?"+":i,a=Bh(o);a.forEach(function(l){var c=l.split(s),d=c.length,u=c[d-1],p=u==="*"?"*":Wi(u);if(!!Te[p]){r||(r=Jr());var h=d>1?Fh(yt,c):[];Te[p]=Te[p].filter(function(f){var m=n?f.method===n:!0;return!(m&&f.scope===r&&cL(f.mods,h))})}})};function Hd(e,t,o,r){if(t.element===r){var n;if(t.scope===o||t.scope==="all"){n=t.mods.length>0;for(var i in ke)Object.prototype.hasOwnProperty.call(ke,i)&&(!ke[i]&&t.mods.indexOf(+i)>-1||ke[i]&&t.mods.indexOf(+i)===-1)&&(n=!1);(t.mods.length===0&&!ke[16]&&!ke[18]&&!ke[17]&&!ke[91]||n||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function $d(e,t){var o=Te["*"],r=e.keyCode||e.which||e.charCode;if(!!xe.filter.call(this,e)){if((r===93||r===224)&&(r=91),ge.indexOf(r)===-1&&r!==229&&ge.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(f){var m=Ea[f];e[f]&&ge.indexOf(m)===-1?ge.push(m):!e[f]&&ge.indexOf(m)>-1?ge.splice(ge.indexOf(m),1):f==="metaKey"&&e[f]&&ge.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(ge=ge.slice(ge.indexOf(m))))}),r in ke){ke[r]=!0;for(var n in yt)yt[n]===r&&(xe[n]=!0);if(!o)return}for(var i in ke)Object.prototype.hasOwnProperty.call(ke,i)&&(ke[i]=e[Ea[i]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(ge.indexOf(17)===-1&&ge.push(17),ge.indexOf(18)===-1&&ge.push(18),ke[17]=!0,ke[18]=!0);var s=Jr();if(o)for(var a=0;a<o.length;a++)o[a].scope===s&&(e.type==="keydown"&&o[a].keydown||e.type==="keyup"&&o[a].keyup)&&Hd(e,o[a],s,t);if(r in Te){for(var l=0;l<Te[r].length;l++)if((e.type==="keydown"&&Te[r][l].keydown||e.type==="keyup"&&Te[r][l].keyup)&&Te[r][l].key){for(var c=Te[r][l],d=c.splitKey,u=c.key.split(d),p=[],h=0;h<u.length;h++)p.push(Wi(u[h]));p.sort().join("")===ge.sort().join("")&&Hd(e,c,s,t)}}}}function bL(e){return $h.indexOf(e)>-1}function xe(e,t,o){ge=[];var r=Bh(e),n=[],i="all",s=document,a=0,l=!1,c=!0,d="+",u=!1;for(o===void 0&&typeof t=="function"&&(o=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(i=t.scope),t.element&&(s=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(u=t.capture),typeof t.splitKey=="string"&&(d=t.splitKey)),typeof t=="string"&&(i=t);a<r.length;a++)e=r[a].split(d),n=[],e.length>1&&(n=Fh(yt,e)),e=e[e.length-1],e=e==="*"?"*":Wi(e),e in Te||(Te[e]=[]),Te[e].push({keyup:l,keydown:c,scope:i,mods:n,shortcut:r[a],method:o,key:r[a],splitKey:d,element:s});typeof s<"u"&&!bL(s)&&window&&($h.push(s),xs(s,"keydown",function(p){$d(p,s)},u),Bd||(Bd=!0,xs(window,"focus",function(){ge=[]},u)),xs(s,"keyup",function(p){$d(p,s),vL(p)},u))}function EL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Te).forEach(function(o){var r=Te[o].find(function(n){return n.scope===t&&n.shortcut===e});r&&r.method&&r.method()})}var As={getPressedKeyString:pL,setScope:zh,getScope:Jr,deleteScope:gL,getPressedKeyCodes:fL,isPressed:mL,filter:hL,trigger:EL,unbind:CL,keyMap:Xr,modifier:yt,modifierMap:Ea};for(var ws in As)Object.prototype.hasOwnProperty.call(As,ws)&&(xe[ws]=As[ws]);if(typeof window<"u"){var SL=window.hotkeys;xe.noConflict=function(e){return e&&window.hotkeys===xe&&(window.hotkeys=SL),xe},window.hotkeys=xe}const yL={s:It.SELECT,t:It.TEXT,p:It.PEN,c:It.CIRCLE,l:It.LINE,r:It.RECT},_L=()=>{const e=o=>o.type==="keydown",t=o=>o.type==="keyup";return o=>{const r=[{keys:"backspace,delete",options:{scope:"editor"},handle(){const{canvas:a}=o.getters;a==null||a.removeSelected()}},{keys:"s,t,p,c,l,r",options:{keyup:!0,scope:"editor"},handle(a,l){if(e(l)){const c=yL[a];o.commit(g.UPDATE_EDIT_MODE,c)}}},{keys:"esc",options:{keyup:!0,scope:"editor"},handle(a,l){if(t(l)){const{canvas:c}=o.getters;c==null||c.clearSelected(),o.commit(g.UPDATE_EDIT_MODE,It.SELECT)}}},{keys:"esc",options:{keyup:!0,scope:"imageProcess"},handle(a,l){if(t(l)){const{canvas:c}=o.getters;c==null||c.cancelImageProcessTool()}}},{keys:"esc",options:{keyup:!0,scope:"editor"},handle(a,l){if(t(l)){const{ext:c}=o.getters;c.emit(Re.MARK_POSITION_CANCEL)}}},{keys:"enter",options:{keyup:!0,scope:"imageProcess"},handle(a,l){if(t(l)){const{canvas:c}=o.getters;c==null||c.confirmImageProcessTool()}}},{keys:"ctrl+=,ctrl+-,ctrl+0,command+=,command+-,command+0",options:{scope:"editor"},handle(a){const[,l]=a.split("+");({"=":()=>{o.commit(g.EDITOR_INCREASE_SCALED,!0)},"-":()=>{o.commit(g.EDITOR_INCREASE_SCALED,!1)},0:()=>{o.commit(g.EDITOR_SET_SCALED_FIT)}})[l]()}},{keys:"ctrl+c,ctrl+v,ctrl+x,command+c,command+v,command+x",options:{scope:"editor"},handle(a){const[,l]=a.split("+"),d={c:()=>{o.commit(g.EDITOR_COPY)},v:()=>{o.dispatch(S.EDITOR_PASTE)},x:()=>{o.commit(g.EDITOR_CUT)}}[l];Z.exports.isFunction(d)&&d()}},{keys:"ctrl+a,command+a",options:{scope:"editor"},handle(){o.commit(g.EDITOR_SELECT_ALL)}},{keys:"ctrl+z,command+z",options:{scope:"editor"},handle(){o.commit(g.EDITOR_UNDO)}},{keys:"ctrl+z,command+z",options:{scope:"imageProcess"},handle(){o.commit(g.EDITOR_UNDO)}},{keys:"ctrl+y,command+y",options:{scope:"editor"},handle(){o.commit(g.EDITOR_REDO)}},{keys:"ctrl+y,command+y",options:{scope:"imageProcess"},handle(){o.commit(g.EDITOR_REDO)}},{keys:"up,down,left,right,shift+up,shift+down,shift+left,shift+right,ctrl+up,ctrl+down,ctrl+left,ctrl+right",options:{scope:"editor"},handle(a,l){const d=l.shiftKey||l.ctrlKey?1:.1,[u,p]=a.split("+");a=u&&p?p:u;const h={up:{field:"deltaY",val:-1*d},down:{field:"deltaY",val:1*d},left:{field:"deltaX",val:-1*d},right:{field:"deltaX",val:1*d}};if(a in h){const{field:f,val:m}=h[a],v={[f]:m};o.commit(g.EDITOR_CANVAS_TRANSLATE_SELECTED,v)}}},{keys:"space",options:{keyup:!0,scope:"editor"},handle(a,l){const{canvas:c,opMode:d}=o.getters;d!==It.DRAG&&(t(l)&&(c==null||c.toWheelMode()),e(l)&&(c==null||c.toDragMode()))}},{keys:"command,control",options:{keyup:!0,scope:"editor"},handle(a,l){if(xe.ctrl||xe.command){const{canvas:c}=o.getters;t(l)&&(c==null||c.toWheelMode()),e(l)&&(c==null||c.toZoomMode())}}},{keys:"command+n,control+n",options:{scope:"editor"},handle(a,l){e(l)&&o.dispatch(S.PROJECT_NEW)}},{keys:"command+o,control+o",options:{scope:"editor"},handle(a,l){e(l)&&o.dispatch(S.PROJECT_OPEN,{source:vo.HOTKEY})}},{keys:"command+s,control+s",options:{scope:"editor"},handle(a,l){e(l)&&o.dispatch(S.PROJECT_SAVE)}},{keys:"command+shift+s,control+shift+s",options:{scope:"editor"},handle(a,l){e(l)&&o.dispatch(S.PROJECT_SAVE_AS)}},{keys:"command+shift+c,control+shift+c",options:{scope:"editor"},handle(a,l){e(l)&&o.commit(g.SET_CAMERA_CORRECT_VISIBLE,!0)}}],n=new Set,i=()=>{xe.filter=a=>{const{target:l}=a;if(l){const{tagName:c}=l;return!/^(INPUT|TEXTAREA|SELECT|DIV)$/.test(c)}return!1},r.forEach(({keys:a,options:l,handle:c})=>{const d=(u,p)=>{u.preventDefault();const{key:h}=p;c(h,u)};l?xe(a,l,d):xe(a,d),n.add(()=>xe.unbind(a,d))})};xe.setScope("editor"),o.subscribe(a=>{a.type===g.UPDATE_IMAGE_PROCESS_VISIBLE&&(a.payload?xe.setScope("imageProcess"):xe.setScope("editor")),[g.SAVE_IMAGE_PROCESS,g.CANCEL_IMAGE_PROCESS].includes(a.type)&&xe.setScope("editor"),a.type===g.SET_HOTKEY&&(a.payload?i():s()),[g.SET_BATCH_CREATE_MODAL_RADIAL_VISIBLE,g.SET_BATCH_CREATE_MODAL_LINER_VISIBLE,g.UPDATE_OUTLINE_VISIBLE].includes(a.type)&&(a.payload?s():i())});const s=()=>{n.forEach(a=>{a()}),n.clear(),xe.filter=()=>!0,xe.unbind()};return s}},xL=()=>{const e=t=>{t instanceof PromiseRejectionEvent?console.error(["=> window promise rejecting",t.reason]):console.error(["=> window error",t.message])};if(window.addEventListener("error",e,!0),window.addEventListener("unhandledrejection",e,!0),window.MeApi){const t="xcs-www";["info","error","warn","debug"].forEach(r=>{console[r]=(...n)=>{window.MeApi.logger.emit(t,r,JSON.stringify(n))}})}return t=>{const o=[S.RENDER_CANVAS,g.UPDATE_LOCAL_MATERIAL_LIST,g.EDITOR_DESERIALIZE,g.UPDATE_EDITOR_SELECTED,S.EDITOR_ON_SELECTED,S.UPDATE_DISPLAY_ATTRS,g.SET_DISPLAY_PANEL_ATTRS];t.subscribe(r=>{o.includes(r.type)||console.debug(["=> commit",r.type,r.payload])}),t.subscribeAction(r=>{o.includes(r.type)||console.debug(["=> action",r.type,r.payload])})}},TL=[_L(),xL(),lL()];let Is=!1;const AL=()=>{window.onbeforeunload=()=>{const{editor:{currentId:e,canvasList:t,imageProcessVisible:o}}=Le.state;o&&(Le.commit(g.CANCEL_IMAGE_PROCESS),Le.commit(g.UPDATE_IMAGE_PROCESS_VISIBLE,!1));const{ext:r}=Le.getters,n=Be.hasChanged(e,t,r);if(console.info(["\u5173\u95ED\u7A97\u53E3\u786E\u8BA4\u6587\u4EF6\u662F\u5426\u53D8\u5316",{changed:n}]),n)return Le.commit(g.PROJECT_SAVE_CONFIRM,{saveConfirm:!0,confirm:{yes(){Le.dispatch(S.CLOSE_WIN_SAVE_CONFIRM_YES)},no(){Le.dispatch(S.CLOSE_WIN_SAVE_CONFIRM_NO)},cancel(){Le.dispatch(S.CLOSE_WIN_SAVE_CONFIRM_CLOSE)}}}),!1}},wL=e=>{const{motionProperties:t}=AP(e,{opacity:"1",transitionDelay:"1s",transitionDuration:".3s"});t.opacity=0;let o;const r=new Promise(i=>{o=setTimeout(()=>{i("timeout")},1500)}),n=new Promise(i=>{e.addEventListener("transitionend",()=>{i("transitionend")})});return Promise.race([r,n]).then(()=>{clearTimeout(o),e.remove()})},IL=async()=>{var t;const e=document.querySelector("#loaderTarget");await wL(e),(t=window.MeApi)==null||t.mainWindowLoaded(),AL(),Le.dispatch(S.SETTING_CHECK_UPDATE),Le.dispatch(S.TRY_AUTO_CONNECT_DEVICE),Le.dispatch(S.UPDATE_LOCAL_MATERIAL)},Le=Hm({state:{projectLoading:!1,materialLoading:!1,rndinInstalled:!0,ch340Installed:!0},mutations:{[g.MAIN_WINDOW_LOADED](){console.info(["=> MUTATION.MAIN_WINDOW_LOADED",performance.now()]),IL()},[g.MATERIAL_LOADING](e,t){e.materialLoading=t},[g.PROJECT_LOADING](e,t){e.projectLoading=t},[g.SET_HOTKEY](){},[g.SET_RNDIS_VERIFY_STATUS](e,t){e.rndinInstalled=t},[g.SET_CH340_VERIFY_STATUS](e,t){e.ch340Installed=t}},actions:{async[S.DRAG_DROP_FILE]({dispatch:e},t){const{files:o,fromShapes:r=!1}=t;let n=!1,i;try{if(o&&o.length>0)for(let s=0;s<o.length;s++){const a=o[s];if(i={source:r?vo.SHAPE_LIB:vo.DRAG,name:oi(a.name),size:a.size/1024,suffix:Gs(a.name)},Z.exports.endsWith(a.name,".cjs")||Z.exports.endsWith(a.name,".js")){Ot.loadExtFile(a);return}if(Z.exports.endsWith(a.name,dl)){n=!0,await e(S.PROJECT_OPEN,{file:a,fromDrag:!0,source:vo.DRAG});return}let l={offsetX:0,offsetY:0};r&&(l={offsetX:pd,offsetY:hd}),await e(S.OPEN_IMAGE,{file:a,...l}),Es({...i,result:"success"})}}catch(s){Promise.reject(s),n||Es({...i,result:"fail"})}},async[S.CHOOSE_IMAGE]({dispatch:e},t){const{source:o}=t;try{if(Is)return;Is=!0;const r=await zR();r&&await e(S.OPEN_IMAGE,{file:r}),Es({result:"success",name:oi(Z.exports.isObject(r)?r.name:r),suffix:Gs(Z.exports.isObject(r)?r.name:r),source:o})}finally{Is=!1}},async[S.ADD_TEXT_TO_CANVAS]({getters:e}){await dt.preloadTextGlyphs({...Li({style:_m}),text:xm}),e.canvas.addTextToViewport({offsetX:pd,offsetY:hd})},async[S.OPEN_IMAGE]({getters:e,commit:t},o){const{file:r,offsetX:n,offsetY:i}=o;try{t(g.MATERIAL_LOADING,!0);const s=await DP(r);if(s&&s.data){const{name:a,data:l}=s;if(Z.exports.isArray(l))for(const c in l)await e.canvas.loadResToViewport(a,l[c]);else{const{width:c,height:d}=l,{viewportWidth:u,viewportHeight:p}=e.canvas.currentState;if(c>u||d>p){const h=localStorage.getItem("FIT_RESIZE");h!==null?await e.canvas.loadResToViewport(a,l,{fitToViewPort:JSON.parse(h)}):(t(g.UPDATE_FIT_SIZE_VISIBLE,!0),t(g.UPDATE_FIT_SIZE_DATA,{name:a,data:l}))}else await e.canvas.loadResToViewport(a,l,{offsetX:n,offsetY:i})}}else return t(g.PROJECT_SAVE_STATUS,Rt.OPEN_ERROR),Promise.reject(`no supported file. [${r}]`)}catch(s){return console.error(s),t(g.PROJECT_SAVE_STATUS,Rt.OPEN_ERROR),Promise.reject(`no supported file. [${r}]`)}finally{t(g.MATERIAL_LOADING,!1)}},async[S.CHECK_CH340]({commit:e}){var o,r;const t=(o=window.MeApi)==null?void 0:o.driver;if(t){const n=await((r=t.ch340)==null?void 0:r.check());return e(g.SET_CH340_VERIFY_STATUS,n),n}},async[S.CHECK_RNDIS]({commit:e}){var o,r;const t=(o=window.MeApi)==null?void 0:o.driver;if(t){const n=await((r=t.rndis)==null?void 0:r.check());return e(g.SET_RNDIS_VERIFY_STATUS,n),n}},async[S.INSTALL_DRIVER]({dispatch:e},t){var r,n,i;const o=(r=window.MeApi)==null?void 0:r.driver;if(o)if(t==="ch340"){const s=await((n=o.ch340)==null?void 0:n.install());if(Z.exports.isError(s))return console.error(s),Promise.reject(s);if(s)for(let a=0;a<30;a++){if(await e(S.CHECK_CH340))return!0;await ti(1e3)}}else t==="rndis"&&(await((i=o.rndis)==null?void 0:i.install()),await e(S.CHECK_RNDIS))}},plugins:TL,modules:aL});window.ME=Le;P_().then(async e=>{var r,n;const t=$m(xR);t.config.performance=!1,t.config.errorHandler=(i,s,a)=>{console.error("VUE CONFIG ERROR",i,a)},t.use(Le),t.use(e),t.use(Gm),t.use(Vm),t.use($f),t.mount("#app"),(r=window.MeApi)==null||r.openFile.setOpenFileHandle(i=>Le.dispatch(S.PROJECT_OPEN,{file:i,source:vo.DB_CLICK}));const o=(n=window.MeApi)==null?void 0:n.openFile.getFile();if(o)try{await Le.dispatch(S.PROJECT_OPEN,{file:o,source:vo.DB_CLICK})}catch{await Le.dispatch(S.INIT_EDITOR)}else{await Le.dispatch(S.INIT_EDITOR);const i=localStorage.getItem("EXT_ID");i&&await Le.dispatch(S.LOAD_EXT,{extId:i,needSetLastExtDisplaysData:!0})}});export{vo as $,fd as A,nO as B,Za as C,iO as D,ol as E,wx as F,si as G,O_ as H,ai as I,sO as J,Ox as K,rx as L,ch as M,Ni as N,S as O,g as P,$w as Q,IO as R,rl as S,J1 as T,wO as U,Hb as V,nl as W,Fo as X,j as Y,OO as Z,SR as _,ki as a,wv as a$,ho as a0,dt as a1,NO as a2,VP as a3,hR as a4,kO as a5,lc as a6,Ew as a7,Le as a8,Hr as a9,xO as aA,Yu as aB,Rt as aC,ci as aD,qr as aE,uR as aF,FL as aG,dO as aH,qa as aI,LO as aJ,DO as aK,nC as aL,nr as aM,Qa as aN,la as aO,_o as aP,td as aQ,Ma as aR,rv as aS,hv as aT,Qn as aU,CC as aV,Fu as aW,hC as aX,bC as aY,Cv as aZ,Iu as a_,iA as aa,Xa as ab,RO as ac,kL as ad,BL as ae,af,ML as ag,bO as ah,CO as ai,EO as aj,SO as ak,yR as al,TO as am,Ws as an,NS as ao,AO as ap,Gt as aq,BP as ar,PO as as,FP as at,MP as au,Bn as av,_O as aw,yO as ax,xi as ay,za as az,bt as b,lO as b$,xu as b0,Wf as b1,$e as b2,rt as b3,Uc as b4,VL as b5,H_ as b6,ed as b7,RS as b8,ln as b9,Fi as bA,cn as bB,GI as bC,r1 as bD,jL as bE,Px as bF,oO as bG,rO as bH,FI as bI,aO as bJ,cO as bK,ze as bL,Mt as bM,ti as bN,Sb as bO,zt as bP,Hu as bQ,dw as bR,LT as bS,sd as bT,Oe as bU,Ia as bV,Ym as bW,rC as bX,HL as bY,YL as bZ,GL as b_,lp as ba,Je as bb,Xx as bc,Kx as bd,Mi as be,Ja as bf,k_ as bg,WL as bh,D_ as bi,oT as bj,Fc as bk,sT as bl,Mc as bm,ST as bn,$L as bo,ET as bp,Lx as bq,KL as br,qL as bs,zL as bt,DA as bu,NA as bv,XL as bw,HA as bx,ZL as by,tO as bz,cT as c,ts as c0,So as c1,JL as c2,fb as c3,pb as c4,oo as c5,ei as c6,xr as c7,NL as c8,Zl as c9,eo as ca,$a as cb,db as cc,js as cd,Re as ce,zn as cf,cb as cg,Us as ch,ju as ci,wu as cj,ir as ck,Zo as cl,ub as cm,ip as d,UL as e,hT as f,Z_ as g,Ix as h,q_ as i,up as j,Rx as k,QL as l,K_ as m,M_ as n,no as o,X_ as p,eO as q,Nc as r,Di as s,_r as t,cr as u,Oi as v,cd as w,Gr as x,iR as y,ox as z};
